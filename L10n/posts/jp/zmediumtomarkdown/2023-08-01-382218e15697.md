---
author: ZhgChgLi
categories:
- ZRealmã®é–‹ç™º
date: 2023-08-01T14:32:14.687+0000
description: Githubã®ã‚¹ã‚¿ãƒ¼é€šçŸ¥ã‚’è¦‹é€ƒã™æ‚©ã¿ã‚’è§£æ¶ˆã€‚Google Apps Scriptã§Webhooké€£æºã—ã€ã‚¹ã‚¿ãƒ¼æƒ…å ±ã‚’Lineã«å³æ™‚è»¢é€ã€‚è¨­å®šã¯3ã‚¹ãƒ†ãƒƒãƒ—ã§å®Œäº†ã—ã€ç„¡æ–™ã§é‹ç”¨å¯èƒ½ã§ã™ã€‚
image:
  path: /assets/382218e15697/1*fUtW942huwnSbPF-ar4OCQ.png
last_modified_at: 2024-10-12T13:15:53.135+0000
render_with_liquid: false
tags:
- iosã‚¢ãƒ—ãƒªé–‹ç™º
- googleã‚¢ãƒ—ãƒªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- github
- é€šçŸ¥
- ã‚¹ã‚¿ãƒ¼
- japanese
- ai-translation
title: Google Apps Scriptï½œ3ã‚¹ãƒ†ãƒƒãƒ—ã§ç„¡æ–™æ§‹ç¯‰ï½œGithub Repo Staré€šçŸ¥ã‚’Lineé€£æºã§å®Ÿç¾
---

### Google Apps Script ã‚’ä½¿ã£ã¦3ã‚¹ãƒ†ãƒƒãƒ—ã§ç„¡æ–™ã§ Github ãƒªãƒã‚¸ãƒˆãƒªã‚¹ã‚¿ãƒ¼é€šçŸ¥ã‚’ä½œæˆã™ã‚‹æ–¹æ³•

GAS ã§ Github Webhook ã‚’é€£æºã—ã€ã‚¹ã‚¿ãƒ¼ã®é€šçŸ¥ã‚’ Line ã«è»¢é€ã™ã‚‹æ–¹æ³•

#### ã¯ã˜ã‚ã«

ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ³ãƒ†ãƒŠã¨ã—ã¦ã€ãŠé‡‘ã‚„åå£°ã®ãŸã‚ã§ã¯ãªãã€ãŸã ä¸€ã¤ã®**è™šæ „å¿ƒ**ã®ãŸã‚ã«ï¼›æ–°ã—ã„â­ï¸ã‚¹ã‚¿ãƒ¼ã‚’è¦‹ã‹ã‘ã‚‹ãŸã³ã«ã€å¿ƒã®ä¸­ã§å¯†ã‹ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ï¼›æ™‚é–“ã¨åŠ´åŠ›ã‚’ã‹ã‘ã¦ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã€æœ¬å½“ã«èª°ã‹ã«ä½¿ã‚ã‚Œã€æœ¬å½“ã«åŒã˜å•é¡Œã‚’æŒã¤ä»²é–“ã®å½¹ã«ç«‹ã£ã¦ã„ã‚‹ã¨å®Ÿæ„Ÿã™ã‚‹ã€‚

![[Star History Chart](https://star-history.com/#ZhgChgLi/ZMarkupParser&Date){:target="_blank"}](/assets/382218e15697/1*fUtW942huwnSbPF-ar4OCQ.png)

[Star History Chart](https://star-history.com/#ZhgChgLi/ZMarkupParser&Date){:target="_blank"}

ãã®ãŸã‚ã€â­ï¸ã‚¹ã‚¿ãƒ¼ã®è¦³å¯Ÿã«ã¯å°‘ã—å¼·è¿«è¦³å¿µãŒã‚ã‚Šã€æ™‚ã€…Githubã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦â­ï¸ã‚¹ã‚¿ãƒ¼ã®æ•°ãŒå¢—ãˆã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ã—ã¾ã„ã¾ã™ã€‚ãã“ã§ã€èª°ã‹ãŒâ­ï¸ã‚¹ã‚¿ãƒ¼ã‚’æŠ¼ã—ãŸã¨ãã«è‡ªå‹•ã§é€šçŸ¥ãŒå±Šãã‚ˆã†ãªã€ã‚‚ã£ã¨èƒ½å‹•çš„ãªæ–¹æ³•ã¯ãªã„ã‹ã¨è€ƒãˆã¾ã—ãŸã€‚æ‰‹å‹•ã§è¿½è·¡ã‚„ç¢ºèªã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚

#### æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«

ã¾ãšæ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã‚’æ¢ã™ã“ã¨ã‚’è€ƒãˆã€[Github Marketplace](https://github.com/marketplace?type=apps&query=Star+Notifier+){:target="_blank"}ã§æ¤œç´¢ã—ã¦ã¿ã‚‹ã¨ã€ã„ãã¤ã‹ã®å„ªã‚ŒãŸãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã—ãŸã€‚

![](/assets/382218e15697/1*wQZ6-F77v2SEepm90YAF-A.png)

ã„ãã¤ã‹è©¦ã—ã¾ã—ãŸãŒã€æœŸå¾…é€šã‚Šã®åŠ¹æœãŒå¾—ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ä¸­ã«ã¯ã‚‚ã†å‹•ä½œã—ã¦ã„ãªã„ã‚‚ã®ã‚„ã€5/10/20 å€‹ã®â­ï¸ã‚¹ã‚¿ãƒ¼ãŒã¤ã„ãŸæ™‚ã«ã—ã‹é€šçŸ¥ãŒé€ã‚‰ã‚Œãªã„ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ï¼ˆç§ã¯å°è¦æ¨¡ãªã®ã§ã€â­ï¸ãŒ1ã¤ã§ã‚‚ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ğŸ˜ï¼‰ã€‚ã¾ãŸã€é€šçŸ¥ã¯ãƒ¡ãƒ¼ãƒ«ã®ã¿ã§ã€SNSã§ã®é€šçŸ¥ãŒæ¬²ã—ã„ã§ã™ã€‚

ã•ã‚‰ã«ã€ã€Œè¦‹æ „ã€ã®ãŸã‚ã ã‘ã«ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã®ã¯ã€å¿ƒé…ã§å®‰å¿ƒã§ããšã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã®ã§ã¯ãªã„ã‹ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

iOS ä¸Šã® [Github](https://apps.apple.com/tw/app/github/id1477376905){:target="_blank"} ã‚¢ãƒ—ãƒªã‚„ [GitTrends](https://github.com/brminnick/GitTrends){:target="_blank"} ãªã©ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£è£½ã‚¢ãƒ—ãƒªã‚‚ã“ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚

### è‡ªåˆ†ã§ä½œã‚‹ Github Repo Star Notifier

ä»¥ä¸Šã‚’è¸ã¾ãˆã¦ã€å®Ÿã¯ Google Apps Script ã‚’ä½¿ã£ã¦ç„¡æ–™ã‹ã¤è¿…é€Ÿã«è‡ªåˆ†ã® Github ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¹ã‚¿ãƒ¼é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œæˆã§ãã¾ã™ã€‚

### 2024/10/12 æ›´æ–°

> *âš ï¸âš ï¸âš ï¸*

> *Line Notify ã¯ [2025/04/01 ã«ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†](https://notify-bot.line.me/closing-announce){:target="_blank"} ã™ã‚‹ãŸã‚ã€**ç§ã®æœ€æ–°è¨˜äº‹ã€Œ[10 åˆ†ã§ç°¡å˜ã« Line Notify ã‹ã‚‰ Telegram Bot é€šçŸ¥ã¸ç§»è¡Œã™ã‚‹æ–¹æ³•](../6922e90ba90c/)ã€** ã‚’å‚è€ƒã«ã€Telegram ã§ã®é€šçŸ¥é€£æºã«åˆ‡ã‚Šæ›¿ãˆã¦ãã ã•ã„ã€‚*

#### æº–å‚™ä½œæ¥­

æœ¬æ–‡ã¯ Line ã‚’é€šçŸ¥æ‰‹æ®µã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ä»–ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã§é€šçŸ¥ã—ãŸã„å ´åˆã¯ [ChatGPT](https://chat.openai.com){:target="_blank"} ã«å®Ÿç¾æ–¹æ³•ã‚’å•ã„åˆã‚ã›ã¦ãã ã•ã„ã€‚

![è©¢å• [ChatGPT](https://chat.openai.com){:target="_blank"} ã§ Line Notify ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•](/assets/382218e15697/1*NzEyi3zdzD5QDhLvpsFocA.png)

[ChatGPT](https://chat.openai.com){:target="_blank"} ã« Line Notify ã®å®Ÿè£…æ–¹æ³•ã‚’å•ã„åˆã‚ã›ã‚‹

`lineToken` ï¼š

- [Line Notify](https://notify-bot.line.me/my/){:target="_blank"} ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚

- Lineã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸå¾Œã€ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã€ŒGenerate access token (For developers)ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚

![](/assets/382218e15697/1*GA_ORi8TX3N8jPSxX4OqHw.png)

- ã€ŒGenerate tokenã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„

![](/assets/382218e15697/1*qu1mFEhu8f6_bXRvW0uFpw.png)

- Token Nameï¼šå¸Œæœ›ã™ã‚‹ãƒœãƒƒãƒˆã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆä¾‹ï¼š`Github Repo Notifer: XXXX`ï¼‰

- é€ä¿¡å…ˆã®é¸æŠï¼šç§ã¯ã€Œ1-on-1 chat with LINE Notifyã€ã‚’é¸ã³ã€LINE Notifyå…¬å¼ãƒœãƒƒãƒˆã‚’é€šã˜ã¦è‡ªåˆ†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã™ã€‚

- ã€ŒGenerate tokenã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„

![](/assets/382218e15697/1*DMXhPQBiBQH_dTYA4mayHw.png)

- ã€Œã‚³ãƒ”ãƒ¼ã€ã‚’é¸æŠã—ã¦ãã ã•ã„

- **ãã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å¿…ãšæ§ãˆã¦ãã ã•ã„ã€‚å¾Œã§å¿˜ã‚ŒãŸå ´åˆã¯å†ç™ºè¡ŒãŒå¿…è¦ã§ã€å†åº¦ç¢ºèªã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚**

`githubWebhookSecret` ï¼š

- [Random.org](https://www.random.org/strings/?num=1&len=32&digits=on&upperalpha=on&loweralpha=on&unique=on&format=html&rnd=new){:target="_blank"} ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ãƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

![](/assets/382218e15697/1*eh6baff8FBN7e_m8YjSy-Q.png)

- ã‚³ãƒ”ãƒ¼ã—ã¦ã“ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—ã‚’ãƒ¡ãƒ¢ã—ã¦ãã ã•ã„

ã“ã®æ–‡å­—åˆ—ã‚’ Github Webhook ã¨ Google Apps Script é–“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¤œè¨¼ã®åª’ä»‹ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚

> [GASã®åˆ¶é™](https://issuetracker.google.com/issues/67764685?pli=1){:target="_blank"}ã«ã‚ˆã‚Šã€`doPost(e)`ã§`Headers`ã®å†…å®¹ã‚’å–å¾—ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€Github Webhookã®[æ¨™æº–ã®èªè¨¼æ–¹æ³•](https://docs.github.com/en/webhooks-and-events/webhooks/securing-your-webhooks){:target="_blank"}ã¯ä½¿ãˆãšã€æ‰‹å‹•ã§`?secret=`ã‚¯ã‚¨ãƒªã‚’ä½¿ã£ãŸæ–‡å­—åˆ—ãƒãƒƒãƒèªè¨¼ã®ã¿å¯èƒ½ã§ã™ã€‚

#### Google Apps Script ã‚’ä½œæˆã™ã‚‹

**[Google Apps Script](https://script.google.com/home/start){:target="_blank"}** ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€å·¦ä¸Šã®ã€Œ+ æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![[**Google Apps Script**](https://script.google.com/home/start){:target="_blank"}](/assets/382218e15697/1*ajoOp3ZLc88ecEtYbUVP4A.png)

[**Google Apps Script**](https://script.google.com/home/start){:target="_blank"}

å·¦ä¸Šã®ã€Œç„¡é¡Œã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å¤‰æ›´ã—ã¾ã™ã€‚

![](/assets/382218e15697/1*Gv2KLHa-7qNnL71_jBblGA.png)

ã“ã¡ã‚‰ã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’ `My-Github-Repo-Notifier` ã¨ã—ã¾ã—ãŸã€‚ä»Šå¾Œã®è­˜åˆ¥ã«ä¾¿åˆ©ã§ã™ã€‚

**ã‚³ãƒ¼ãƒ‰å…¥åŠ›ã‚¨ãƒªã‚¢ï¼š**

```javascript
// å®šæ•°å¤‰æ•°
const lineToken = 'XXXX';
// è‡ªåˆ†ã®Line Notifyãƒœãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆï¼šhttps://notify-bot.line.me/my/
const githubWebhookSecret = "XXXXX";
// è‡ªåˆ†ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ–‡å­—åˆ—ã‚’ç”Ÿæˆï¼šhttps://www.random.org/strings/?num=1&len=32&digits=on&upperalpha=on&loweralpha=on&unique=on&format=html&rnd=new

// HTTP Get/Post ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
// Getãƒ¡ã‚½ãƒƒãƒ‰ã¯è¨±å¯ã—ãªã„
function doGet(e) {
  return HtmlService.createHtmlOutput("Access Denied!");
}

// Github Webhookã¯Postãƒ¡ã‚½ãƒƒãƒ‰ã§å—ä¿¡
function doPost(e) {
  const content = JSON.parse(e.postData.contents);
  
  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒGithub Webhookã‹ã‚‰ã®ã‚‚ã®ã‹ç¢ºèª
  if (verifyGitHubWebhook(e) == false) {
    return HtmlService.createHtmlOutput("Access Denied!");
  }

  // starã‚¤ãƒ™ãƒ³ãƒˆã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ content["action"] == "started"
  if(content["action"] != "started") {
    return HtmlService.createHtmlOutput("OK!");
  }

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ
  const message = makeMessageString(content);
  
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã€Slackã‚„Telegramã«ã‚‚å¤‰æ›´å¯èƒ½
  sendLineNotifyMessage(message);

  return HtmlService.createHtmlOutput("OK!");
}

// ãƒ¡ã‚½ãƒƒãƒ‰
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ã‚’ä½œæˆ
function makeMessageString(content) {
  const repository = content["repository"];
  const repositoryName = repository["name"];
  const repositoryURL = repository["svn_url"];
  const starsCount = repository["stargazers_count"];
  const forksCount = repository["forks_count"];

  const starrer = content["sender"]["login"];

  var message = "ğŸ‰ğŸ‰ã€Œ"+starrer+"ã€ãŒã€Œ"+repositoryName+"ã€ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¹ã‚¿ãƒ¼ã‚’ã¤ã‘ã¾ã—ãŸ ğŸ‰ğŸ‰\n";
  message += "ç¾åœ¨ã®ã‚¹ã‚¿ãƒ¼æ•°: "+starsCount+"\n";
  message += "ç¾åœ¨ã®ãƒ•ã‚©ãƒ¼ã‚¯æ•°: "+forksCount+"\n";
  message += repositoryURL;

  return message;
}

// ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒGithub Webhookã‹ã‚‰ã®ã‚‚ã®ã‹æ¤œè¨¼
// GASã®åˆ¶é™ã«ã‚ˆã‚Š (https://issuetracker.google.com/issues/67764685?pli=1)
// ãƒ˜ãƒƒãƒ€ãƒ¼å†…å®¹ã‚’å–å¾—ã§ããªã„
// ãã®ãŸã‚Github Webhookã®æ¨™æº–æ¤œè¨¼æ–¹æ³• (https://docs.github.com/en/webhooks-and-events/webhooks/securing-your-webhooks)
// ã¯ä½¿ãˆãšã€?secret=XXXã§æ‰‹å‹•ãƒãƒƒãƒãƒ³ã‚°æ¤œè¨¼ã®ã¿å¯èƒ½
function verifyGitHubWebhook(e) {
  if (e.parameter["secret"] === githubWebhookSecret) {
    return true
  } else {
    return false
  }
}

// -- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ --
// Line
// ä»–ã®é€ä¿¡æ–¹æ³•ã¯ChatGPTã«å•ã„åˆã‚ã›å¯èƒ½
function sendLineNotifyMessage(message) {
  var url = 'https://notify-api.line.me/api/notify';
  
  var options = {
    method: 'post',
    headers: {
      'Authorization': 'Bearer '+lineToken
    },
    payload: {
      'message': message
    }
  }; 
  UrlFetchApp.fetch(url, options);
}
```

`lineToken` ã¨ `githubWebhookSecret` ã«å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚³ãƒ”ãƒ¼ã—ãŸå€¤ã‚’è¨­å®šã—ã¾ã™ã€‚

**è£œè¶³ Github Webhookã§èª°ã‹ãŒStarã‚’æŠ¼ã—ãŸã¨ãã«é€ã‚‰ã‚Œã¦ãã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š**

```json
{
  "action": "created",
  "starred_at": "2023-08-01T03:42:26Z",
  "repository": {
    "id": 602927147,
    "node_id": "R_kgDOI-_wKw",
    "name": "ZMarkupParser",
    "full_name": "ZhgChgLi/ZMarkupParser",
    "private": false,
    "owner": {
      "login": "ZhgChgLi",
      "id": 83232222,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjgzMjMyMjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/83232222?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhgChgLi",
      "html_url": "https://github.com/ZhgChgLi",
      "followers_url": "https://api.github.com/users/ZhgChgLi/followers",
      "following_url": "https://api.github.com/users/ZhgChgLi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhgChgLi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhgChgLi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhgChgLi/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhgChgLi/orgs",
      "repos_url": "https://api.github.com/users/ZhgChgLi/repos",
      "events_url": "https://api.github.com/users/ZhgChgLi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhgChgLi/received_events",
      "type": "Organization",
      "site_admin": false
    },
    "html_url": "https://github.com/ZhgChgLi/ZMarkupParser",
    "description": "ZMarkupParserã¯ã€HTMLæ–‡å­—åˆ—ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¹ã‚¿ã‚¤ãƒ«ã¨ã‚¿ã‚°ã§NSAttributedStringã«å¤‰æ›ã™ã‚‹ç´”ç²‹ãªSwiftãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚",
    "fork": false,
    "url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser",
    "forks_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/forks",
    "keys_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/keys{/key_id}",
    "collaborators_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/collaborators{/collaborator}",
    "teams_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/teams",
    "hooks_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/hooks",
    "issue_events_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/issues/events{/number}",
    "events_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/events",
    "assignees_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/assignees{/user}",
    "branches_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/branches{/branch}",
    "tags_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/tags",
    "blobs_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/blobs{/sha}",
    "git_tags_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/tags{/sha}",
    "git_refs_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/refs{/sha}",
    "trees_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/trees{/sha}",
    "statuses_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/statuses/{sha}",
    "languages_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/languages",
    "stargazers_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/stargazers",
    "contributors_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/contributors",
    "subscribers_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/subscribers",
    "subscription_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/subscription",
    "commits_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/commits{/sha}",
    "git_commits_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/commits{/sha}",
    "comments_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/comments{/number}",
    "issue_comment_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/issues/comments{/number}",
    "contents_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/contents/{+path}",
    "compare_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/compare/{base}...{head}",
    "merges_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/merges",
    "archive_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/{archive_format}{/ref}",
    "downloads_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/downloads",
    "issues_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/issues{/number}",
    "pulls_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/pulls{/number}",
    "milestones_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/milestones{/number}",
    "notifications_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/notifications{?since,all,participating}",
    "labels_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/labels{/name}",
    "releases_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/releases{/id}",
    "deployments_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/deployments",
    "created_at": "2023-02-17T08:41:37Z",
    "updated_at": "2023-08-01T03:42:27Z",
    "pushed_at": "2023-08-01T00:07:41Z",
    "git_url": "git://github.com/ZhgChgLi/ZMarkupParser.git",
    "ssh_url": "git@github.com:ZhgChgLi/ZMarkupParser.git",
    "clone_url": "https://github.com/ZhgChgLi/ZMarkupParser.git",
    "svn_url": "https://github.com/ZhgChgLi/ZMarkupParser",
    "homepage": "https://zhgchg.li",
    "size": 27449,
    "stargazers_count": 187,
    "watchers_count": 187,
    "language": "Swift",
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "has_discussions": false,
    "forks_count": 10,
    "mirror_url": null,
    "archived": false,
    "disabled": false,
    "open_issues_count": 2,
    "license": {
      "key": "mit",
      "name": "MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹",
      "spdx_id": "MIT",
      "url": "https://api.github.com/licenses/mit",
      "node_id": "MDc6TGljZW5zZTEz"
    },
    "allow_forking": true,
    "is_template": false,
    "web_commit_signoff_required": false,
    "topics": [
      "cocoapods",
      "html",
      "html-converter",
      "html-parser",
      "html-renderer",
      "ios",
      "nsattributedstring",
      "swift",
      "swift-package",
      "textfield",
      "uikit",
      "uilabel",
      "uitextview"
    ],
    "visibility": "public",
    "forks": 10,
    "open_issues": 2,
    "watchers": 187,
    "default_branch": "main"
  },
  "organization": {
    "login": "ZhgChgLi",
    "id": 83232222,
    "node_id": "MDEyOk9yZ2FuaXphdGlvbjgzMjMyMjIy",
    "url": "https://api.github.com/orgs/ZhgChgLi",
    "repos_url": "https://api.github.com/orgs/ZhgChgLi/repos",
    "events_url": "https://api.github.com/orgs/ZhgChgLi/events",
    "hooks_url": "https://api.github.com/orgs/ZhgChgLi/hooks",
    "issues_url": "https://api.github.com/orgs/ZhgChgLi/issues",
    "members_url": "https://api.github.com/orgs/ZhgChgLi/members{/member}",
    "public_members_url": "https://api.github.com/orgs/ZhgChgLi/public_members{/member}",
    "avatar_url": "https://avatars.githubusercontent.com/u/83232222?v=4",
    "description": "ã‚ˆã‚Šè‰¯ã„ä¸–ç•Œã‚’å…±ã«ç¯‰ãã€‚"
  },
  "sender": {
    "login": "zhgtest",
    "id": 4601621,
    "node_id": "MDQ6VXNlcjQ2MDE2MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4601621?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhgtest",
    "html_url": "https://github.com/zhgtest",
    "followers_url": "https://api.github.com/users/zhgtest/followers",
    "following_url": "https://api.github.com/users/zhgtest/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhgtest/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhgtest/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhgtest/subscriptions",
    "organizations_url": "https://api.github.com/users/zhgtest/orgs",
    "repos_url": "https://api.github.com/users/zhgtest/repos",
    "events_url": "https://api.github.com/users/zhgtest/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhgtest/received_events",
    "type": "User",
    "site_admin": false
  }
}
```

#### ãƒ‡ãƒ—ãƒ­ã‚¤

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä½œæˆãŒå®Œäº†ã—ãŸã‚‰ã€å³ä¸Šã®ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€â†’ã€Œæ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

![](/assets/382218e15697/1*ZBj7EvEXfn0nuRgfotI6IA.png)

å·¦å´ã§ã‚¿ã‚¤ãƒ—ã‚’ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã«é¸æŠã—ã¾ã™ï¼š

![](/assets/382218e15697/1*YeOPSIKo6x6f-Qa3ymeT0Q.png)

![](/assets/382218e15697/1*Gfr2J6OnWpe8664N-3tzMg.png)

- è¿½åŠ èª¬æ˜ï¼šè‡ªç”±ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ç§ã¯ã€Œ `Release` ã€ã¨å…¥åŠ›ã—ã¾ã™ã€‚

- èª°ãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã‹ï¼š **ã€Œ `ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼` ã€ã«å¤‰æ›´ã—ã¦ãã ã•ã„**

- ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„

åˆå›ã®ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã¯ã€ã€Œã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

![](/assets/382218e15697/1*p7QiiYISmberMJPGQINr1w.png)

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé¸æŠã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€ç¾åœ¨ä½¿ç”¨ã—ã¦ã„ã‚‹ Gmail ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š

![](/assets/382218e15697/1*i3QQ-SLJt7VBtzNsgO7Lqw.png)

ã€ŒGoogle hasnâ€™t verified this appã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ã€é–‹ç™ºã™ã‚‹ã‚¢ãƒ—ãƒªãŒè‡ªåˆ†ç”¨ã§ã‚ã‚Šã€Googleã®èªè¨¼ã‚’å¿…è¦ã¨ã—ãªã„ãŸã‚ã§ã™ã€‚

ã€ŒAdvancedã€â†’ã€ŒXXX ã«ç§»å‹•ï¼ˆå®‰å…¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€â†’ã€Œè¨±å¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

![](/assets/382218e15697/1*kYmtS0WBI-NRXxDuUTrU8A.png)

![](/assets/382218e15697/1*G6AAaLVU9LUS-FCqxv_JWw.png)

![](/assets/382218e15697/1*jm4_8EKQnPHctrtmnO2t2g.png)

ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã€çµæœãƒšãƒ¼ã‚¸ã®ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã§ Request URL ã‚’å–å¾—ã—ã€ã€Œã‚³ãƒ”ãƒ¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã“ã® GAS ã® URL ã‚’æ§ãˆã¦ãã ã•ã„ã€‚

![](/assets/382218e15697/1*e_nw9Zvcl1dTSulg1KVhOw.png)

**âš ï¸ï¸ï¸ ä½™è«‡ã§ã™ãŒã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸå ´åˆã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æ›´æ–°ã—ãªã„ã¨åæ˜ ã•ã‚Œã¾ã›ã‚“ã®ã§ã”æ³¨æ„ãã ã•ã„âš ï¸**

å¤‰æ›´ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ã€åŒæ§˜ã«å³ä¸Šã®ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€->ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã®ç®¡ç†ã€->å³ä¸Šã®ã€Œâœï¸ã€ã‚’é¸æŠ->ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã€Œæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½œæˆã€->ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚

![](/assets/382218e15697/1*vYYM-Gy3Gyou15UhJWmSOA.png)

![](/assets/382218e15697/1*RBTSeK1kQ3JSZJBgPnAAWA.png)

ã“ã‚Œã§ã‚³ãƒ¼ãƒ‰ã®æ›´æ–°ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã—ã¾ã™ã€‚

#### Github Webhook è¨­å®š

- Githubã«æˆ»ã‚‹ [Github](https://github.com/){:target="_blank"}

- Organizationsï¼ˆãã®ä¸­ã®ã™ã¹ã¦ã®ãƒªãƒã‚¸ãƒˆãƒªï¼‰ã¾ãŸã¯å˜ä¸€ã®ãƒªãƒã‚¸ãƒˆãƒªã«Webhookã‚’è¨­å®šã—ã¦ã€æ–°ã—ã„â­ï¸ã‚¹ã‚¿ãƒ¼ã‚’ç›£è¦–ã§ãã¾ã™ã€‚

Organizations / Repo ã«å…¥ã‚Šã€ã€ŒSettingsã€â†’ å·¦å´ã®ã€ŒWebhooksã€ã‚’è¦‹ã¤ã‘ã€ã€ŒAdd webhookã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼š

![](/assets/382218e15697/1*Ke5ZarGC8ODrFLj8LsBNFg.png)

![](/assets/382218e15697/1*PUHcpcJkbL4d7xTI5A99PA.png)

- Payload URL **ï¼š** `GAS ã® URL` ã‚’å…¥åŠ›ã—ã€URL ã®å¾Œã‚ã«è‡ªåˆ†ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼æ–‡å­—åˆ— `?secret=githubWebhookSecret` ã‚’æ‰‹å‹•ã§è¿½åŠ ã—ã¾ã™ã€‚  
  ä¾‹ãˆã°ã€ã‚ãªãŸã® `GAS ã® URL` ãŒ `https://script.google.com/macros/s/XXX/exec` ã§ã€`githubWebhookSecret` ãŒ `123456` ã®å ´åˆã€**URL ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š `https://script.google.com/macros/s/XXX/exec?secret=123456` ã€‚**

- **Content typeï¼š** `application/json` ã‚’é¸æŠã—ã¦ãã ã•ã„

- **Which events would you like to trigger this webhook?**  
  **ã€Œ** `Let me select individual events.` **ã€ã‚’é¸æŠã—ã¦ãã ã•ã„**  
  **âš ï¸ã€Œ** `Pushes` **ã€ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã—ã¦ãã ã•ã„**  
  **ï¸ï¸ï¸ï¸âš ï¸ã€Œ** `Watches` **ã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚ãŸã ã—ã€Œ** `Stars` **ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ˆãŸã ã—** Stars ã‚‚ã‚¹ã‚¿ãƒ¼ã®ã‚¯ãƒªãƒƒã‚¯çŠ¶æ…‹ã‚’ç›£è¦–ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãªã®ã§ã€Stars ã‚’ä½¿ã†å ´åˆã¯ GAS ã® action åˆ¤å®šã‚‚èª¿æ•´ãŒå¿…è¦ã§ã™**ï¼‰**

- ã€Œ`Active`ã€ã‚’é¸æŠã—ã¦ãã ã•ã„

- ã€ŒAdd webhookã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„

- è¨­å®šå®Œäº†

#### ğŸš€ãƒ†ã‚¹ãƒˆ

è¨­å®šã—ãŸ Organizations ã®ãƒªãƒã‚¸ãƒˆãƒª / ãƒªãƒã‚¸ãƒˆãƒªã§ã€ŒStarã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã‹ã€ä¸€åº¦ un-star ã—ã¦ã‹ã‚‰å†åº¦ã€ŒStarã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

![](/assets/382218e15697/1*0CaNDxOub_Eo_byb-WfpTQ.png)

ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ãŒå±Šãã¾ã™ï¼

![](/assets/382218e15697/1*hKN9lAQTsm-tOnJSLj3GGw.png)

ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ğŸ‰ğŸ‰ğŸ‰ğŸ‰

### åºƒå‘Š

[![](https://repository-images.githubusercontent.com/602927147/57ce75c1-8548-449c-b44a-f4b0451ed5ea)](https://github.com/ZhgChgLi/ZMarkupParser){:target="_blank"}

[![](https://repository-images.githubusercontent.com/516425682/1cc1a829-d87d-4d4a-925b-60471b912b23)](https://github.com/ZhgChgLi/ZReviewTender){:target="_blank"}

ã”è³ªå•ã‚„ã”æ„è¦‹ãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€[ã“ã¡ã‚‰ã‹ã‚‰ã”é€£çµ¡ãã ã•ã„](https://www.zhgchg.li/contact){:target="_blank"} ã€‚

*[Post](https://medium.com/zrealm-ios-dev/%E4%BD%BF%E7%94%A8-google-apps-script-%E4%B8%89%E6%AD%A5%E9%A9%9F%E5%85%8D%E8%B2%BB%E5%BB%BA%E7%AB%8B-github-repo-star-notifier-382218e15697){:target="_blank"} Mediumã‹ã‚‰å¤‰æ›ã•ã‚ŒãŸã‚‚ã® by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}.*
---
author: ZhgChgLi
categories:
- ZRealmの開発
date: 2019-02-06T16:10:43.225+0000
description: UIAlertController表示時にImage Assetsの.tintColorが反映されない問題を抱えるiOS開発者向けに、tintAdjustmentMode属性の活用法を解説し、確実に色を適用する方法を紹介します。
image:
  path: /assets/6012b7b4f612/1*zwbk9bi9RKQ-MEuzlQHosA.jpeg
last_modified_at: 2024-04-13T07:38:26.186+0000
render_with_liquid: false
tags:
- uikit
- swift
- iosアプリ開発
- autolayout
- 細部が成否を分ける
- japanese
- ai-translation
title: iOS tintAdjustmentMode｜UIAlertControllerでImage Assetsの.tintColor設定問題を解決
---

### iOS tintAdjustmentMode プロパティ

Present UIAlertController 時本頁上的 Image Assets (Render as template) .tintColor 設定失效問題

UIAlertControllerを表示するとき、本ページのImage Assets（テンプレートレンダー）のtintColor設定が無効になる問題

### 問題修正前後の比較

同じく無駄な説明はせず、比較画像を直接表示します。

![左修正前/右修正後](/assets/6012b7b4f612/1*zwbk9bi9RKQ-MEuzlQHosA.jpeg)

左側が修正前 / 右側が修正後

左側のアイコンはUIAlertControllerを表示しているときにtintColorの色設定が無効になっているのが確認できます。なお、表示中のウィンドウを閉じると色設定が正常に戻ります。

#### 問題修正

まず **tintAdjustmentMode** のプロパティ設定について説明します。このプロパティは **tintColor** の表示モードを制御し、以下の3つの列挙値を設定できます：

1. **.Automatic** ：ビューの **tintAdjustmentMode** は親ビューの設定に従います

2. **.Normal** ：**デフォルトモード** で、設定された **tintColor** を通常通り表示します

3. **.Dimmed** ：**tintColor** を低彩度の暗い色（つまりグレー）に変更します。

#### *上記の問題はバグではなく、システムの仕組みそのものです：*

> *UIAlertControllerを表示すると、本ページのRoot ViewControllerのViewの**tintAdjustmentMode**が**Dimmed**に変更されます（つまり、正確には色の設定が「無効」になるのではなく、**tintAdjustmentMode**のモードが変更されるだけです）*

しかし、アイコンの色を一貫して保ちたい場合は、UIViewのtintColorDidChangeイベント内でtintAdjustmentModeを一定に設定するだけで十分です：

```swift
extension UIButton { 
   override func tintColorDidChange() {
        self.tintAdjustmentMode = .normal // 常にnormalを維持する
    }
}
```

extensionの例

#### 終わり！

大した問題ではなく、直さなくても問題ありませんが、見た目が気になります。

実は、どのページでもUIAlertController、アクションシート、ポップオーバーを表示すると、そのページのviewのtintAdjustmentModeがグレーに変更されますが、私はこのページで初めて気づきました。

しばらく調べた結果、このプロパティに関係があることがわかり、設定したら私の小さな疑問が解決しました。

ご質問やご意見がございましたら、[こちらからご連絡ください](https://www.zhgchg.li/contact){:target="_blank"} 。

*[Post](https://medium.com/zrealm-ios-dev/%E9%A1%A7%E5%B0%8F%E4%BA%8B%E6%88%90%E5%A4%A7%E4%BA%8B-1-ios-tintadjustmentmode-%E5%B1%AC%E6%80%A7-6012b7b4f612){:target="_blank"} Mediumから[ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}によって変換されました。*
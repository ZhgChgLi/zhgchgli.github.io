---
title: "The Past and Present of iOS Privacy and Convenience"
author: "ZhgChgLi"
date: 2021-10-24T01:15:55.402+0000
last_modified_at: 2023-08-05T16:36:16.299+0000
categories: ["ZRealm Dev."]
tags: ["ios-app-development","privacy","private-relay","apple-privacy","mopcon"]
description: "Apple's privacy principles and the adjustments to privacy protection features in iOS over the years"
image:
  path: /assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.png
pin: true
render_with_liquid: false
---

### The Past and Present of iOS Privacy and Convenience

Apple's privacy principles and the adjustments to privacy protection features in iOS over the years



![Theme by [slidego](https://slidesgo.com/theme/cyber-security-business-plan#search-technology&position-3&results-12){:target="_blank"}](/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.png)

Theme by [slidego](https://slidesgo.com/theme/cyber-security-business-plan#search-technology&position-3&results-12){:target="_blank"}
### \[2023–08–01\] iOS 17 Update

An update on the latest privacy-related adjustments in iOS 17 from the previous presentation.
#### [Link Tracking Protection](https://www.apple.com/newsroom/2023/06/apple-announces-powerful-new-privacy-and-security-features/){:target="_blank"}

Safari will automatically remove tracking parameters from URLs (e.g., `fbclid`, `gclid`, etc.)
- Example: Clicking `https://zhgchg.li/post/1?gclid=124` will change it to `https://zhgchg.li/post/1`
- Currently testing iOS 17 Developer Beta 4, `fbxxx`, `gcxxx`, etc. will be removed, while `utm_` is retained; it is uncertain whether the official version of iOS 17 or future iOS 18 will enhance this further.
- To see the strictest effects, you can install the [iOS DuckDuckGo](https://apps.apple.com/tw/app/duckduckgo-private-browser/id663592361){:target="_blank"} browser for testing.
- For detailed testing information, please refer to the article "[iOS17 Safari's new features will remove fbclid and gclid from URLs](https://blog.user.today/ios17-safari-remove-fbclid-and-gclid/){:target="_blank"}" by 大大.

#### [Privacy Manifest \.xprivacy & Report](https://developer.apple.com/videos/play/wwdc2023/10060/?time=88){:target="_blank"}

Developers must include declarations of User Privacy used, **and also require the SDKs in use to provide their Privacy Manifest.**

_\*Additionally, third-party SDK Signature has been added_


![](/assets/9a05f632eba0/1*A9PNsZ-BJCZpU-AcJph3qg.png)


XCode 15 can generate a Privacy Report through the Manifest for developers to set App privacy in the App Store.


![](/assets/9a05f632eba0/1*84WTDYR0cfrQP3a0e8jB4g.png)

#### [Required reason API](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api){:target="_blank"}

To prevent certain Foundation APIs that may lead to fingerprinting from being misused, Apple has begun to regulate some Foundation APIs; [you need to declare the reason for usage in the Manifest](https://developer.apple.com/cn/news/?id=z6fu1dcu){:target="_blank"}.

Currently, the most affected API is UserDefaults, which requires declaration.
```
Starting in the fall of 2023, if you upload a new app or app update to App Store Connect that uses APIs requiring a declaration (including content from third-party SDKs), and you do not provide an approved reason in your app's privacy manifest, you will receive a notification. Beginning in the spring of 2024, to upload new apps or app updates to App Store Connect, you will need to specify an approved reason in your app's privacy manifest to accurately reflect how your app uses the corresponding APIs.

If the current approved reasons do not cover a use case for an API that requires a declaration, and you are confident that this use case directly benefits your app users, please let us know.
```
#### [Tracking Domain](https://developer.apple.com/videos/play/wwdc2023/10060/?time=264){:target="_blank"}

The API domain for sending tracking information must be declared in the privacy manifest \.xprivacy and can only initiate network requests after user consent for tracking; otherwise, all network requests from this domain will be intercepted by the system.

![](/assets/9a05f632eba0/1*f849jUbgjLMPfdCnRVp2IA.png)

You can check if the Tracking Domain is being intercepted using the XCode Network tool:

![](/assets/9a05f632eba0/1*7j5UXZq_ZMt07IQ2wWZIBA.png)

Currently, Facebook and Google's Tracking Domains are detected and need to be included as per regulations and permission requests.

![](/assets/9a05f632eba0/1*R4N7ofJfrDW6cmu2Q2Pdtw.png)

- [graph\.facebook\.com](https://graph.facebook.com/){:target="_blank"} : Facebook related data statistics
- [app\-measurement\.com](https://app-measurement.com/){:target="_blank"} : Google related data statistics: GA/Firebase…

Therefore, please note that FB/Google data statistics may significantly decline after iOS 17, as failure to request permission and not allowing tracking will result in no data being received; based on past implementations of tracking requests, about 70% of users tend to click "do not allow."
- Developers' own API tracking methods also need to comply with the listed Tracking Domains.
- If the Tracking Domain is the same as the API Domain, a separate independent Tracking Domain must be created (e.g., api\.zhgchg\.li -> tracking\.zhgchg\.li).
- Currently, it is unclear how Apple will regulate developers' own tracking; testing with XCode 15 has not revealed any issues.
- It is uncertain whether the official will use tools to detect behavior or if reviewers will manually check.

> Fingerprinting remains prohibited.

### Introduction

I am honored to participate in the [MOPCON talk](https://mopcon.org/2021/schedule/2021028){:target="_blank"}, but it is regrettable that due to the pandemic, it has changed to an online live format, preventing me from meeting more new friends; the theme of this talk is "The Past and Present of iOS Privacy and Convenience," mainly aimed at sharing Apple's principles regarding privacy and the functional adjustments made in iOS over the years based on these privacy principles.

![[The Past and Present of iOS Privacy and Convenience](https://mopcon.org/2021/schedule/2021028){:target="_blank"} \| [Pinkoi, We Are Hiring!](https://www.pinkoi.com/about/careers){:target="_blank"}](/assets/9a05f632eba0/1*gYucHdBa4tyd9lX5eyr08w.png)

[The Past and Present of iOS Privacy and Convenience](https://mopcon.org/2021/schedule/2021028){:target="_blank"} \| [Pinkoi, We Are Hiring!](https://www.pinkoi.com/about/careers){:target="_blank"}

**It is believed that developers or iPhone users should be familiar with the following feature adjustments over the past few years:**

![](/assets/9a05f632eba0/1*XyJpqYVWh1PNoMAzWtDnQQ.png)

- **iOS ≥ 13:** All apps that support third-party login must implement Sign in with Apple; otherwise, they cannot be successfully listed on the App Store.
- **iOS ≥ 14:** Clipboard access warnings.
- **iOS ≥ 14.5:** IDFA must be allowed to access, which is almost equivalent to banning IDFA.
- **iOS ≥ 15:** Private Relay, using a proxy to hide the user's original IP address.
- **iOS ≥ 16:** Clipboard access requires user authorization.
- …and many more, which will be shared later in the article.

#### Why?

If one is not clear about Apple's privacy principles, they might wonder why Apple has been constantly at odds with developers and advertisers in recent years. Many features that users have become accustomed to have been blocked.

After watching the two documents, "[WWDC 2021 — Apple’s privacy pillars in focus](https://developer.apple.com/videos/play/wwdc2021/10085/){:target="_blank"}" and "[Apple privacy white paper — A Day in the Life of Your Data](https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf){:target="_blank"}", it becomes clear that we have unknowingly leaked a lot of personal privacy and allowed advertisers or social media to profit immensely, reaching an invasive level in our daily lives.

Referring to the [Apple privacy white paper](https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf){:target="_blank"}, let’s take a fictional character, Harry, as an example to illustrate how privacy is leaked and the potential harms it may cause.

![First, here are Harry's usage records on his iPhone.](/assets/9a05f632eba0/1*f0F0ypi2F-6_yOTsBmynhg.png)

First, here are Harry's usage records on his iPhone.

**On the left is the web browsing history:** You can see that he visited websites related to cars, iPhone 13, and luxury goods.

**On the right are the installed apps:** There are apps for investment, travel, social networking, shopping, and even a baby monitor… these apps.

![Harry's offline life](/assets/9a05f632eba0/1*u7PRvQK9fyu7iLLdZFvAyQ.png)

Harry's offline life.

Offline activities leave records in places such as: receipts, credit card transaction records, dashcam footage… etc.

#### Combination

You might wonder, how could browsing different websites, installing different apps (even without logging in), and participating in offline activities possibly allow a service to connect all this data?

**The answer is: technically, it is possible, and it may have "possibly" or "already" occurred partially.**

![](/assets/9a05f632eba0/1*t6OJvmXAMsurcn6XuDuGng.png)

As shown in the image above:
- When not logged in, websites can identify the same visitor across different sites using Third-Party Cookies, IP Address + device information to calculate a Fingerprint.
- When logged in, websites can connect your data through registration information such as name, birthday, phone number, email, and ID number.
- Apps can identify the same user across different apps by obtaining the Device UUID, sniffing URL Schemes of other installed apps on the phone, and passing data between apps using the Pasteboard; additionally, they can also connect data using registration information after the user logs in.
- Similarly, apps and websites can pass data using Third-Party Cookies, Fingerprints, and Pasteboards.
- The connection between online and offline activities may occur when banks collect credit card spending records, budgeting apps, receipt collection apps, dashcam apps… etc., all of which have the opportunity to link offline activities with online data.

> **_In fact, it is technically feasible; so who are the third parties hiding behind all these websites and apps?_**

Large companies like Facebook and Google earn significant revenue from personal advertising; many websites and apps also connect to Facebook and Google SDKs… so it’s hard to say everything is visible. More often than not, we have no idea which third-party advertising and data collection services websites and apps are using, secretly recording our every move.

**Let’s assume that all of Harry's activities are secretly being collected by the same third party; in their eyes, Harry's profile might look like this:**

![](/assets/9a05f632eba0/1*V1q2Ju6ItSSy80NvScD16Q.png)

On the left is personal information, which may come from website registration data or delivery information; on the right are behavior and interest tags assigned based on Harry's activity records.

![](/assets/9a05f632eba0/1*G71DeU1FmX75U2HGaDy-yg.png)

In its view, it may understand Harry better than Harry understands himself; this data used on social media can lead users to become more immersed; when used in advertising, it can stimulate Harry to overspend or create a "birdcage effect" (e.g., recommending you buy new pants, and once you buy the pants, you'll buy suitable shoes to match, and after buying shoes, you'll buy socks... and it goes on endlessly).

**If you think the above is already scary, there's something even scarier:**

![](/assets/9a05f632eba0/1*OctTSsyFfaZc1OdaBjLN5g.png)

With your personal information and knowledge of your financial situation... it's frightening to imagine the malicious acts that could be done, such as kidnapping or theft...

#### Current Privacy Protection Methods
- Legal regulations (e.g., SGS-BS10012 personal data certification, CCPA, GDPR...)
- Privacy agreements, de-identification

Primarily, it relies on regulatory constraints; it's hard to ensure that services comply 100% at all times, and there are many malicious programs online, making it difficult to guarantee that services won't be hacked, leading to data breaches. In short, "if someone wants to do harm, technically it is feasible; relying solely on regulations and corporate conscience is insufficient."

Moreover, more often than not, we are "forced" to accept privacy terms, unable to authorize individual privacy; we either have to forgo the entire service or use it but accept all privacy terms; additionally, privacy terms are often opaque, leaving us unaware of how data will be collected and used, and we have no idea if a third party is secretly collecting our data without our knowledge.

Apple has also mentioned that personal privacy for minors is often collected by services without the consent of guardians.

### Apple’s Privacy Principles

After understanding the dangers of personal privacy breaches, let's take a look at Apple's privacy principles.

![](/assets/9a05f632eba0/1*3GymtGipI60YZ8qSogRk1A.png)

Excerpted from Apple Privacy White Paper, Apple's ideal is not to completely shut down but to find a balance. For example, in recent years, many people have installed ad blockers to completely block ads, which is not what Apple wants to see; because if everything is completely cut off, it becomes difficult to provide better services.

Steve Jobs mentioned at the 2010 [All Things Digital Conference](https://money.cnn.com/2018/03/27/technology/steve-jobs-mark-zuckerberg-privacy-2010/index.html){:target="_blank"}:

> _I believe people are smart, and some people want to share data more than others. Asking them every time will annoy them to the point where they tell you to stop asking. They should know precisely how you will use their data. —_ translate by [Chun-Hsiu Liu](https://medium.com/u/72361fccaa43){:target="_blank"}

![](/assets/9a05f632eba0/1*i7LbId4pPABbu5GkUXZeHw.png)

> _Apple believes privacy is a fundamental human right._

#### **Apple's Four Privacy Principles:**
- Data Minimization: Only collect the data you need.
- On-Device Processing: Apple utilizes powerful processor chips; personal privacy-related data should be processed locally unless necessary.
- User Transparency and Control: Users should understand what privacy information is collected and how it is used. Additionally, users should be able to control the sharing of individual privacy data.
- Security: Ensure the security of data storage and transmission.

### iOS's Historical Adjustments for Protecting Personal Privacy

Having understood the dangers of personal privacy breaches and Apple's privacy principles, let's return to technical measures; we can look at the adjustments made in iOS over the years to protect personal privacy.

### Between Websites

As mentioned earlier,
#### **The first method uses Third-Party Cookies to link user data across websites:**

> **_🈲, Safari on iOS >= 11 has implemented Intelligent Tracking Prevention ( [WebKit](https://webkit.org/blog/7675/intelligent-tracking-prevention/){:target="_blank"} )_**

By default, it is enabled, and the browser actively identifies and blocks third-party cookies used for tracking and advertising; each year's iOS version continuously enhances the identification program to prevent omissions.

![](/assets/9a05f632eba0/1*qlan3n0rzMDRpKsCBXnfSQ.png)

Through Third-Party Cookies for cross-site tracking of users, this method has essentially become ineffective on Safari.

#### **The second method uses IP Address + device information to calculate a fingerprint to identify the same user across different websites:**

> **_🈲, iOS >= 15 Private Relay_** 

Especially after the ban on Third-Party Cookies, more and more services have adopted this method, and Apple is aware of it... Fortunately, in iOS 15, even the IP information is obfuscated!

![](/assets/9a05f632eba0/1*4xwPyZo24dZL_B6vuGwbMw.png)

The Private Relay service first randomly sends the user's original request to Apple's Ingress Proxy, which then randomly assigns it to a partner CDN's Egress Proxy, and the Egress Proxy requests the target website.

The entire process is encrypted and can only be decrypted by the chip in your own iPhone, meaning only you know both your IP and the target website of the request; Apple's Ingress Proxy only knows your IP, the CDN's Egress Proxy only knows Apple's Ingress Proxy IP and the target website of the request, and the website only knows the CDN's Egress Proxy IP.

From an application perspective, all devices in the same region will use the same shared CDN's Egress Proxy IP to request the target website; therefore, the website can no longer use IP as fingerprint information.

For technical details, refer to “[WWDC 2021 — Get ready for iCloud Private Relay](https://developer.apple.com/videos/play/wwdc2021/10096/){:target="_blank"}”.
#### **Supplement on Private Relay:**
- Apple/CDN Provider does not have complete logs for tracing:
I checked how Apple prevents this from being used maliciously, but couldn't find an answer; it might be similar to how Apple won't help the FBI unlock a criminal's iPhone; privacy is a fundamental human right for everyone.
- Enabled by default, no special connection required
- Does not affect speed or performance
- **IP will be guaranteed to be in the same country and time zone** (users can choose a blurred city), cannot specify IP
- **Only effective for certain traffic** 
iCloud+ users: All traffic on Safari + Insecure HTTP Requests in apps
General users: Only effective for third-party tracking tools installed on websites in Safari
- **Officially provides a [CDN Egress IP List](https://mask-api.icloud.com/egress-ip-ranges.csv){:target="_blank"} for website developers to identify (do not mistakenly block Egress IP, as it will cause collective harm)**
- [Network administrators can ban DNS to disable Private Relay for all connections](https://developer.apple.com/support/prepare-your-network-for-icloud-private-relay/){:target="_blank"}
- iPhone can disable Private Relay for specific network connections
- Private Relay will be disabled when connected to VPN/proxy
- Currently still in Beta (as of 2021/10/24), some services may not connect after activation (in China, Chinese version of Douyin) or services may frequently log out

![Private Relay Test Image](/assets/9a05f632eba0/1*Abc_bFGsL-dUeUSVeAVBxg.jpeg)

Private Relay Test Image
- Image 1 Not Enabled: Original IP Address
- Image 2 Private Relay Enabled — General Location Maintained: IP changes to CDN IP but remains in Taipei
- Image 3 Private Relay Enabled — Using Country and Time Zone (Expanded Blur): IP changes to CDN IP & changes to Taichung, but still in the same time zone and country

![[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}](/assets/9a05f632eba0/1*ZDX3oYcoHwSh0Lkb1g1X_g.png)

[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}

Apps can use `URLSessionTaskMetrics` to analyze the connection records of Private Relay.

![](/assets/9a05f632eba0/1*aMr5w1sZN-ewFEtcNxLcPA.png)

To digress, the method of obtaining fingerprints to identify users using IP addresses can no longer be used.
### Between Apps
#### **The first method was early access to Device UUID:**

> **_🈲, iOS >= 7 prohibits access to Device UUID,_** 

> **_Use IDentifierForAdvertisers/IDentifierForVendor instead_** 

![](/assets/9a05f632eba0/1*XYD2LWx6gZ5c-iEmm_G2pQ.png)

- **IDFV:** All apps under the same developer account can access the same UUID; [using KeyChain is also a current method for identifying user UUID](../a4bc3bce7513/).
- **IDFA:** Different developers and different apps can access the same UUID, but IDFA users can reset or disable it.

> **_🈲, iOS >= 14.5 IDentifierForAdvertisers must be requested before use_** 

![](/assets/9a05f632eba0/1*KCdE18ucjjUnwPzb7gpa5A.png)

After iOS 14.5, Apple has strengthened restrictions on accessing IDFA. Apps must first ask users for permission to track before obtaining the IDFA UUID; values cannot be retrieved without asking or permission.

Preliminary survey data indicates that about 70% of users (with some recent data suggesting 90%) do not allow tracking to access IDFA, which is why people say IDFA is dead!

![[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}](/assets/9a05f632eba0/1*Dz-GYDKsdXQal_PausrHMA.png)

[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}
#### **The second method for inter-app communication is URL Scheme:**

iOS apps can use `canOpenURL` to check if a specific app is installed on the user's device.

> **_🈲, iOS >= 9 must be set in the app before use; arbitrary probing is not allowed._** 

![](/assets/9a05f632eba0/1*eapZObP6QN6-g_Z1Nd7hZA.png)

> **_iOS ≥ 15 introduces a new restriction, allowing a maximum of 50 entries for other app schemes._** 

> _`Apps linked on or after iOS 15 are limited to a maximum of 50 entries in the LSApplicationQueriesSchemes key.`_ 

### Websites and Apps

**As mentioned earlier**
#### **The first method is also through cookies for connection:**

In the early days, cookies from iOS Safari and App WebView could communicate, allowing data to be shared between websites and apps.

The method involves stealthily embedding a 1-pixel WebView component in the app's interface to read Safari cookies in the background.

> **_🈲, iOS >= 11 prohibits sharing cookies between Safari and App WebView_** 

![](/assets/9a05f632eba0/1*sCY5ejSzJjNLDZucbsWV8w.png)

If you need to access Safari cookies (e.g., logging in directly using website cookies), you can use the `SFSafariViewController` component; however, this component forces a prompt and cannot be customized, ensuring that users are not inadvertently having their cookies stolen.
#### **The second method is to identify the same browser across different websites using IP Address + device information to calculate a fingerprint:**

As mentioned earlier, iOS ≥ 15 has been obfuscated by Private Relay.
#### **The last and only remaining method — Pasteboard**:

Using the clipboard to connect cross-platform information, as Apple cannot disable clipboard usage across apps, but it can prompt users.

> **_⚠️ iOS >= 14 introduces clipboard access warnings_** 

![](/assets/9a05f632eba0/1*TdsFfW6axWx3nbB1Thaucw.png)

#### ⚠️ 2022/07/22 Update: iOS 16 Upcoming Changes

Starting from iOS ≥ 16, when the app actively reads the clipboard without user-initiated paste actions, a prompt will appear, and users must press allow for the app to access clipboard information.

![[UIPasteBoard’s privacy change in iOS 16](https://sarunw.com/posts/uipasteboard-privacy-change-ios16/){:target="_blank"}](/assets/9a05f632eba0/1*2LpAXuZduLStmS2tRVdcXQ.png)


[UIPasteBoard’s privacy change in iOS 16](https://sarunw.com/posts/uipasteboard-privacy-change-ios16/){:target="_blank"}
#### **Implementing Deferred Deep Link using Pasteboard**


> **_It’s worth mentioning the privacy panic regarding the clipboard in iOS 14; for more details, refer to my previous article “[iOS 14 Clipboard Privacy Panic: The Dilemma Between Privacy and Convenience](../8a04443024e2/)”_** 





**While it cannot be ruled out that reading the clipboard is for malicious purposes, more often than not, our app needs to provide a better user experience:**


![](/assets/9a05f632eba0/1*lZMyzL6Pmy06lng8PWMk0w.png)


Before implementing Deferred Deep Link, when we guide users to install the app from the website, upon installation, the app would default to opening the homepage; a better user experience would be to open the app to the corresponding page that the user was on the website.

To achieve this functionality, there needs to be an opportunity to link data between the website and the app. As mentioned in previous articles, other methods have been blocked, and currently, the clipboard can only be used as a medium for information storage (as shown in the image above).


![](/assets/9a05f632eba0/1*jVytiPiHhaubihaHSDYBNA.png)


Including Firebase Dynamic Links and the latest version of Branch.io (which previously used IP Address Fingerprint) also utilize the clipboard for Deferred Deep Link.

For implementation, refer to my previous article: [iOS Deferred Deep Link Implementation (Swift)](../b08ef940c196/)


> _Generally, if the goal is to achieve Deferred Deep Link, the clipboard information will only be read the first time the app is opened or when returning to the app; it will not be read during use or at odd times, which is worth noting._ 





A better approach is to first use `UIPasteboard.general.detectPatterns` to detect whether the clipboard data is what we need before reading it.


![[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}](/assets/9a05f632eba0/1*7Kyfq0LT1mkPAFxwkmpMRQ.png)

[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}

After iOS ≥ 15, clipboard prompts have been optimized; if it is the user's own paste action, the prompt will no longer appear!
### Advertising Effectiveness Solutions

As mentioned earlier regarding Apple's privacy principles, the hope is for balance rather than completely blocking user interaction with services.
#### **Advertising Effectiveness Statistics Between Websites:**

The feature in Safari that counters Intelligent Tracking Prevention is Private Click Measurement \( [WebKit](https://webkit.org/blog/11529/introducing-private-click-measurement-pcm/){:target="_blank"} \), used to measure advertising effectiveness while removing personal privacy.


![](/assets/9a05f632eba0/1*a9DibQQDW9QgiPxt3Y--SQ.png)


The specific process is illustrated in the image above. When a user clicks an ad on website A to go to website B, a Source ID (to identify the same user) and Destination information (target website) will be recorded in the browser; when the user completes a conversion on website B, a Trigger ID (representing what action was taken) will also be recorded in the browser.


![](/assets/9a05f632eba0/1*n2PwE4AMOPAqvTI-FcNdRQ.png)


These two pieces of information will be combined and sent to websites A and B randomly after 24 to 48 hours to obtain advertising effectiveness.

Everything is handled on-device by Safari, and protection against malicious clicks is also provided by Safari.
#### **Advertising Effectiveness Statistics Between Apps and Websites or Between Apps:**


![](/assets/9a05f632eba0/1*jUObXccBCf4dB7ZU_yn-EQ.png)


You can use [SKAdNetwork](https://developer.apple.com/documentation/storekit/skadnetwork){:target="_blank"} (which requires application to Apple for inclusion) in a manner similar to Private Click Measurement, and I will not elaborate further.

> _It can be emphasized that Apple does not operate in isolation; [SKAdNetwork](https://developer.apple.com/documentation/storekit/skadnetwork){:target="_blank"} has now reached version 2.0, and Apple continues to gather the needs of developers and advertisers while balancing personal privacy controls, continuously optimizing SDK functionalities._ 

> _Here, I sincerely wish that Deferred Deep Link could be integrated with the SDK, as we aim to enhance user experience without any intention of infringing on personal privacy._ 

For technical details, please refer to “[WWDC 2021 — Meet privacy-preserving ad attribution](https://developer.apple.com/videos/play/wwdc2021/10033/){:target="_blank"}”.
### Cross-Platform

![](/assets/9a05f632eba0/1*fWuWfmUzOZ2w2iI1FrzwRA.png)

> **_All apps supporting third-party login on iOS ≥ 13 must implement Sign in with Apple; otherwise, they cannot be successfully listed on the App Store._** 

- Names can be edited by the user
- Real Email can be hidden (using Apple's generated virtual Email instead)
- Users can request account deletion [**by 2022/01/31, apps must complete implementation**](https://developer.apple.com/news/?id=mdkbobfo){:target="_blank"} 🆕 

![](/assets/9a05f632eba0/1*AzjnZmNm6eqG72bVw8iKag.png)

> **_iOS >= 15 iCloud+ users support Hide My Email._** 

- Supports all email fields in Safari and apps
- Users can generate virtual email addresses at will in settings

Similar to Sign in with Apple, using Apple's generated virtual Email instead of the real email, Apple will forward received emails to your real inbox, thus protecting your email information.

It is similar to a 10-minute email but even more powerful; as long as you keep using it, that virtual email address is permanently yours; there is no limit on new additions, and it can be added infinitely, though it is uncertain how Apple prevents abuse.

![](/assets/9a05f632eba0/1*g9-kZBAG13Hx1bq196j8Qg.jpeg)

![](/assets/9a05f632eba0/1*TD7XRAexz8SOJylrVyQUHw.png)

![Settings -> Apple ID -> Hide My Email](/assets/9a05f632eba0/1*U2MC_Qp1ZwvJkVHuZ2zcpA.png)

Settings -> Apple ID -> Hide My Email
### Others
#### **App privacy details on the App Store：**

![](/assets/9a05f632eba0/1*oWsbWGst_MP-J0OMplxskQ.jpeg)

> [_Apps must explain to users what data will be tracked and how it will be used on the App Store._](https://developer.apple.com/app-store/user-privacy-and-data-use/){:target="_blank"} _.

For detailed explanations, please refer to: “[App privacy details on the App Store](https://developer.apple.com/app-store/app-privacy-details/){:target="_blank"}”.
#### **Fine control of personal privacy data：**

![](/assets/9a05f632eba0/1*qZF5DvQx6RTIggWS7Be4Bw.png)

> _Starting from iOS ≥ 14, access to location and photos can be controlled more finely, allowing authorization for only certain photos or permitting location access only while the app is in use._ 

![[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}](/assets/9a05f632eba0/1*Y95go0uE0DC5lqAAJ9N96Q.png)

[Test Project](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}

> _iOS ≥ 15 introduces the [CLLocationButton](https://developer.apple.com/documentation/corelocationui/cllocationbutton){:target="_blank"} button to enhance user experience, allowing the current location to be obtained through user clicks without prior inquiry/consent; this button cannot be customized and can only be triggered by user action._

```markdown
#### **Personal Privacy Access Prompts:**

![](/assets/9a05f632eba0/1*XP5mELBBaaUMI8IixwUCcg.png)

> _iOS ≥ 15 introduces prompts for accessing personal privacy features, such as: clipboard, location, camera, microphone_

#### **App Privacy Access Reports:**

> _iOS ≥ 15 allows exporting a report of all app privacy-related access and network activity records for the past 7 days._

1. Since the report file is a `.ndjson` plain text file, it is not easy to view directly; you can first download the "[Privacy Insights](https://apps.apple.com/tw/app/%E9%9A%B1%E7%A7%98%E6%B4%9E%E8%A6%8B-app-privacy-insights/id1575583991){:target="_blank"}" app from the App Store to view the report.
2. Go to Settings -> Privacy -> Scroll down to "Record App Activity" -> Enable Record App Activity.
3. Save App Activity.
4. Select "Import to [Privacy Insights](https://apps.apple.com/tw/app/%E9%9A%B1%E7%A7%98%E6%B4%9E%E8%A6%8B-app-privacy-insights/id1575583991){:target="_blank"}".
5. After the import is complete, you can view the privacy report.

![](/assets/9a05f632eba0/1*7o4UN1Jv-zKjNRU9TKASiQ.png)

![](/assets/9a05f632eba0/1*rshLnUlppBj1OF5mvTZZHw.png)

![](/assets/9a05f632eba0/1*ZRL7V1Hxu7r__bljiohpEw.png)

As mentioned in the [news](https://technews.tw/2021/10/12/china-app-reads-iphone-user-album-data/){:target="_blank"}, WeChat indeed reads photo information in the background when the app is launched.

> **_Additionally, I have also caught several Chinese apps doing the same thing, and I have disabled all their permissions in the settings._**

> **_If it weren't for this feature exposing them, we wouldn't know how long our data has been stolen!_**

### Recap
#### Apple’s Privacy Principles

![](/assets/9a05f632eba0/1*YUtG3sEQMvu8433VD5j8WA.png)

After understanding the adjustments to privacy features over the years, let's revisit Apple's privacy principles:
- Data Minimization: Apple uses technical means to limit access to necessary data.
- On-Device Processing: Privacy data is not uploaded to the cloud; everything is processed locally; for example, Safari Private Click Measurement, Apple's [machine learning SDK CoreML](../793bf2cdda0f/) also runs locally, as do Siri/camera text recognition features in iOS ≥ 15, Apple Maps, News, photo recognition features, etc.
- User Transparency and Control: New privacy access prompts, record reports, and fine-grained privacy control features.
- Security: Secure storage and transmission of data, avoiding misuse of UserDefaults, and iOS 15 allows direct use of CryptoKit for point-to-point encryption and decryption, ensuring the security of Private Relay transmission.

#### Fragmented Data

![](/assets/9a05f632eba0/1*H0dYwwbNMT08_REzs4SUBg.png)

Returning to the initial technical means used to piece together Harry's association map, the connections between websites or apps are blocked, leaving only the clipboard usable, but with prompts.

For personal data related to service registration and third-party logins, you can use Sign in with Apple and the hide my email feature for protection; or use more native iOS apps.

Offline activities might consider using Apple Card to prevent privacy leaks?

> **_No one has the opportunity to piece together Harry's activity profile anymore._**

#### Apple is People-Centric

![](/assets/9a05f632eba0/1*5LLnXt2Glp7de_vdouufnQ.png)

Thus, "people-centric" is the term I would use to describe Apple's philosophy; it takes a strong belief to go against the commercial market; related to this, "technology-centric" is the term I would use for Google, as Google always manages to create many geeky tech projects; finally, "business-centric" is the term I would use for Facebook, as FB pursues commercial profit in many aspects.

![](/assets/9a05f632eba0/1*lpYyN-yGAS86YRVYlzh5Ig.png)
```



In addition to adjustments for privacy features, iOS has continuously strengthened its capabilities to prevent smartphone addiction over the past few years, introducing features such as "Screen Time Reports," "App Usage Limits," and "Focus Mode," among others; helping everyone break free from smartphone addiction.
### Finally, I hope everyone can
- **Value personal privacy**
- **Not be controlled by capital**
- **Reduce virtual addiction**
- **Prevent societal decline**



> **_Live a wonderful life in the real world!_** 



#### Private Relay/IDFA/Pasteboard/Location Testing Project:


[![](https://opengraph.githubassets.com/eb3ecca5e67740485a43fc93d06fd6551fd620c8418f40dde5b35876a2de63dc/zhgchgli0718/PrivacyTest)](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}

#### References
- [WWDC 2021 — Apple’s privacy pillars in focus](https://developer.apple.com/videos/play/wwdc2021/10085/){:target="_blank"}
- [Apple privacy white paper — A Day in the Life of Your Data](https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf){:target="_blank"}
- [WWDC 2021 — Get ready for iCloud Private Relay](https://developer.apple.com/videos/play/wwdc2021/10096/){:target="_blank"}
- [WWDC 2021 — Meet privacy\-preserving ad attribution](https://developer.apple.com/videos/play/wwdc2021/10033/){:target="_blank"}
- [**iOS 14 Clipboard Theft Panic, the Dilemma of Privacy and Convenience**](../8a04443024e2/)
- [iOS Deferred Deep Link Implementation (Swift)](../b08ef940c196/)
- [The Matters of iOS UUID (Swift/iOS ≥ 6)](../a4bc3bce7513/)



If you have any questions or suggestions, feel free to [contact me](https://www.zhgchg.li/contact){:target="_blank"}.



_[Post](https://medium.com/zrealm-ios-dev/ios-%E9%9A%B1%E7%A7%98%E8%88%87%E4%BE%BF%E5%88%A9%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F-9a05f632eba0){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._

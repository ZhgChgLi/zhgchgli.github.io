---
title: "Automatically Backing Up Medium Articles to Github Pages (Jekyll)"
author: "ZhgChgLi"
date: 2025-01-18T15:12:33.960+0000
last_modified_at: 2025-01-19T15:16:05.506+0000
categories: ["ZRealm Dev."]
tags: ["medium","jekyll","automation","ios-app-development","github-pages"]
description: "Records of building, maintaining, upgrading, and customizing a personal Medium article backup mirror site"
image:
  path: /assets/5bb7d3a4954f/1*oM79EdbsiBYiWnqb0mH8QQ.png
render_with_liquid: false
---

### Automatically Backing Up Medium Articles to Github Pages \(Jekyll\)

Records of building, maintaining, upgrading, and customizing a personal Medium article backup mirror site

#### Introduction

After six years of managing Medium, the total number of articles surpassed 100 last year; as time goes on and the number of articles increases, I worry more about the day when Medium suddenly shuts down or my account experiences issues, causing all my hard work to go up in smoke. Some articles may not hold much value, but many are records of technical frameworks and problem-solving thoughts at the time. I often revisit my previous articles to review knowledge; additionally, in recent years, I have started documenting my travel experiences abroad, which are cherished memories and have performed well in terms of traffic. If these contents were lost, it would be impossible to rewrite them.

#### Developing a Backup Tool

I usually write articles directly on the Medium platform without my own backup. Therefore, during the 2022 New Year period, I spent time developing a tool to download Medium articles and convert them into Markdown files \(including article images, embedded code, etc.\) **â€” [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}:**

[![](https://repository-images.githubusercontent.com/493527574/9b5b7025-cc95-4e81-84a9-b38706093c27)](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}

I then extended the use of this tool to deploy the downloaded Markdown using [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} as a static backup mirror site on Github Pages â€” [https://zhgchg\.li/](https://zhgchg.li/){:target="_blank"}

![[https://zhgchg\.li/](https://zhgchg.li/){:target="_blank"}](/assets/5bb7d3a4954f/1*oM79EdbsiBYiWnqb0mH8QQ.png)

[https://zhgchg\.li/](https://zhgchg.li/){:target="_blank"}

At that time, I integrated this entire setup into a Github Template Repo for friends with similar needs to quickly deploy â€” [ZMediumToJekyll](https://github.com/ZhgChgLi/ZMediumToJekyll){:target="_blank"}. After that \(in 2022\), I did not update the version and settings of [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} anymore; [**ZMediumToMarkdown**](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"} **is still being maintained, and I occasionally fix formatting parsing errors immediately; it is currently stable.**

The version of [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} I used at that time was v5\.x, which had no major issues, and all necessary features were present \(e.g. sticky posts, categories, tags, cover images, comments, etc.\); however, there were frequent scrolling issues where the page would not scroll, but after a few attempts, it would return to normal. This was a shortcoming in the user experience. I once tried upgrading to v6\.x, but the issue persisted, and I received no response from the official support; furthermore, as the version increased, the conflicts encountered during upgrades became more frequent, so I eventually completely abandoned the idea of upgrading.


Recently, I made the decision to resolve the issues with [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"}, upgrade the version, and conveniently optimize the quick deployment tool [ZMediumToJekyll](https://github.com/ZhgChgLi/ZMediumToJekyll){:target="_blank"}.
### New! medium-to-jekyll-starter ðŸŽ‰ðŸŽ‰
#### [medium-to-jekyll-starter.github.io](https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io){:target="_blank"}


[![](https://repository-images.githubusercontent.com/918538745/779cd996-4dc3-4ee0-88b7-951b39fc4463)](https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io){:target="_blank"}


I have integrated the latest version v7.x of [**Jekyll \(Chirpy Theme\)**](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} with my [**ZMediumToMarkdown**](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"} Medium article download and conversion tool into a new â€” [medium-to-jekyll-starter.github.io](https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io){:target="_blank"} GitHub Template Repo.

Everyone can directly use this template Repo to quickly set up their own Medium mirror content backup website, **with a one-time setup for permanent automatic backup and deployment on GitHub Pages completely free**.


> **_For a step-by-step setup tutorial, please refer to this article: [https://zhgchg\.li/posts/zh\-TW\-medium\-to\-jekyll/](https://zhgchg.li/posts/zh-TW-medium-to-jekyll/){:target="_blank"}_** 




#### Results


![[https://zhgchg\.li/](https://zhgchg.li/){:target="_blank"}](/assets/5bb7d3a4954f/1*Nyg7Fg93sDUAIMZQfN5QTg.png)

[https://zhgchg\.li/](https://zhgchg.li/){:target="_blank"}


> _\*All the articles above are **automatically** downloaded from my Medium, converted to Markdown format, and re-uploaded._ 





> **_Hereâ€™s a comparison example of the conversion results of a random article:_** 
 

> **_[Original content on Medium](https://shorturl.at/CG9ua){:target="_blank"} / [Converted result on my personal website](../78507a8de6a5/)_** 





After the upgrade, the scrolling issue has not reappeared, and this upgrade also added customized dynamic content (displaying Medium follower count).
### Some Technical Records

The deployment configuration method for [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} on GitHub Pages mainly refers to the official Start Repo:


[![](https://opengraph.githubassets.com/3b11a63cf12622e6e904699627d64c75396133de90c8c7008148f3bb19149693/cotes2020/chirpy-starter)](https://github.com/cotes2020/chirpy-starter/tree/main){:target="_blank"}



> _Last month, I also referenced this project's method to create a new open-source project â€” [Linkyee](https://github.com/ZhgChgLi/linkyee){:target="_blank"} which is an open-source version of a Link Tree personal link page._ 

```markdown
![[https://link\.zhgchg\.li/](https://link.zhgchg.li/){:target="_blank"}](/assets/5bb7d3a4954f/1*OTotv1Nw-KnhsflSSiNgkg.png)

[https://link\.zhgchg\.li/](https://link.zhgchg.li/){:target="_blank"}
#### Jekyll Customization Method (1) â€” Override HTML

[Jekyll](https://jekyllrb.com/){:target="_blank"} is a powerful Ruby static site generator. The [Jekyll (Chirpy Theme)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} is just one theme based on Jekyll, and compared to other themes, the [Chirpy Theme](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} offers the best quality, user experience, and comprehensive features.

Jekyll pages have inheritance, allowing us to add [page files with the same name as Jekyll](https://github.com/cotes2020/jekyll-theme-chirpy/tree/master/_layouts){:target="_blank"} in `./_layouts`, so that the engine will use your custom page content to replace the original when generating site content.

For example, if I want to add a line of text at the end of each article page, I first copy the original article page file ([post.html](https://github.com/cotes2020/jekyll-theme-chirpy/blob/master/_layouts/post.html){:target="_blank"}) and place it in the `./_layouts` directory:

![](/assets/5bb7d3a4954f/1*oDykwzZ0P5o8GEw8lc3WPQ.png)

Open post.html in an editor, add the text or customization in the appropriate place, and redeploy the site to see the customized result.

![](/assets/5bb7d3a4954f/1*7ni973_1JykXoj8le78v1A.png)

You can also create a `./_include` directory to store some shared page content files:

![](/assets/5bb7d3a4954f/1*rExx8jMcMfEQZ3LfvhwT2w.png)

Then in `post.html`, you can directly use `{% include buymeacoffee.html %}` to include the HTML content from the file for reuse.

> _The advantage of overriding HTML layout files is 100% customization; you can freely adjust how the page content and layout are presented. The downside is that during the upgrade process, you may encounter conflicts or unexpected results, requiring you to review your customizations again._

#### Jekyll Customization Method (2) â€” Plugin

The second method is to use the [Plugin](https://jekyllrb.com/docs/plugins/){:target="_blank"} method with [Hook](https://jekyllrb.com/docs/plugins/hooks/#built-in-hook-owners-and-events){:target="_blank"} to inject your desired custom content during the static content generation phase in Jekyll.

![](/assets/5bb7d3a4954f/1*JI-uJ8tIKnomJyQk9cVfyQ.png)

![[Built\-in Hook Owners and Events](https://jekyllrb.com/docs/plugins/hooks/#built-in-hook-owners-and-events){:target="_blank"}](/assets/5bb7d3a4954f/1*GrUJn6HXoBqYXUQMKrnqTA.png)

[Built\-in Hook Owners and Events](https://jekyllrb.com/docs/plugins/hooks/#built-in-hook-owners-and-events){:target="_blank"}

There are many [Hook events](https://jekyllrb.com/docs/plugins/hooks/#built-in-hook-owners-and-events){:target="_blank"}, but here I only include the ones I used: `site:pre_render` and `post:pre_render`.
```


Adding a new method is also very simple; just create a Ruby file in `./_plugins`.

![posts-lastmod-hook.rb is an existing Plugin](/assets/5bb7d3a4954f/1*1QTCNuYJbJPlfJoMrc6v5g.png)

posts-lastmod-hook.rb is an existing Plugin.

I want a few "pseudo" dynamic content features. The first one is to display the number of Medium followers under the profile and show the last updated time of the page content at the bottom.

![](/assets/5bb7d3a4954f/1*6JA9ONLP_A0eNL_q-5b6yg.png)

A `zhgchgli-customize.rb` file was created under `./_plugins`:
```ruby
#!/usr/bin/env ruby
#
require 'net/http'
require 'nokogiri'
require 'uri'
require 'date'


def load_medium_followers(url, limit = 10)
  return 0 if limit.zero?

  uri = URI(url)
  response = Net::HTTP.get_response(uri)
  case response
  when Net::HTTPSuccess then
      document = Nokogiri::HTML(response.body)

      follower_count_element = document.at('span.pw-follower-count > a')
      follower_count = follower_count_element&.text&.split(' ')&.first

      return follower_count || 0
  when Net::HTTPRedirection then
    location = response['location']
    return load_medium_followers(location, limit - 1)
  else
      return 0
  end
end

$medium_url = "https://medium.com/@zhgchgli"
# could also define in _config.yml and retrieve in Jekyll::Hooks.register :site, :pre_render do |site| site.config

$medium_followers = load_medium_followers($medium_url)

$medium_followers = 1000 if $medium_followers == 0
$medium_followers = $medium_followers.to_s.reverse.scan(/\d{1,3}/).join(',').reverse


Jekyll::Hooks.register :site, :pre_render do |site|

  tagline = site.config['tagline']
  
  followMe = <<-HTML
  <a href="#{$medium_url}" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">#{$medium_followers}+ Followers on Medium</a>
  HTML

  site.config['tagline'] = "#{followMe}";
  site.config['tagline'] += tagline;

  meta_data = site.data.dig('locales', 'en', 'meta');
  # only implementation in en, could implementation to all langs.

  if meta_data
    gmt_plus_8 = Time.now.getlocal("+08:00")
    formatted_time = gmt_plus_8.strftime("%Y-%m-%d %H:%M:%S")
    site.data['locales']['en']['meta'] += "<br/>Last updated: #{formatted_time} +08:00"
  end
end
```
- The principle is to register a Hook before the website renders, to add the Medium follower count display HTML to the `tagline` section of the profile.
- The Medium follower count will be scraped for the latest number each time it runs.
- The logic for the last updated time at the bottom is similar; it adds the last updated time string to locales->en->meta when generating the site.
- Additionally, if it is a Hook before article generation, you can access the Markdown; after the Hook article is generated, you can access the generated HTML.

```markdown
After saving, you can first test the results locally with `bundle exec jekyll s`:

![](/assets/5bb7d3a4954f/1*T1idAZIWAJ2N9J054-PFSA.png)

Open `127.0.0.1:4000` in your browser to view the results.

![](/assets/5bb7d3a4954f/1*6JA9ONLP_A0eNL_q-5b6yg.png)

Finally, add a scheduled action in the Actions tab of your GitHub Pages Repo to automatically regenerate the site, and you're done:

![](/assets/5bb7d3a4954f/1*2BFHmkhnytEwHTkNHwZsTg.png)

In the [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} repo project, find the " `pages-deploy.yml` " in Actions and add the following under `on:`:
```yaml
  schedule:
    - cron: "10 1 * * *" # Automatically runs once daily at UTC 01:10, https://crontab.guru
```

> _The advantage of the plugin is that it can achieve dynamic content effects (scheduled content updates) without affecting the website structure, avoiding conflicts during upgrades; the downside is that the adjustable content and display positions are limited._

#### [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} Deployment Issues on GitHub Pages after v7.x

In addition to adjustments in the website structure, the deployment script for v.7.x has also changed; the original [deploy.sh](https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io/blob/main/tools/deploy.sh){:target="_blank"} deployment script has been removed, and the deployment steps now directly use GitHub Actions:
```yaml
# build:
# ...
      - name: Upload site artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: "_site${{ steps.pages.outputs.base_path }}"

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

However, I encountered an issue during the deployment process:

`Uploaded artifact size of 1737778940 bytes exceeds the allowed size of 1 GB` because my website content was too large, causing the Upload Artifact to fail; however, the previous deployment script worked, so I had to revert to using the original [deploy.sh](https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io/blob/main/tools/deploy.sh){:target="_blank"} + [commenting out the above section](https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/.github/workflows/pages-deploy.yml){:target="_blank"}.

#### Test Site Step Failing During GitHub Pages Deployment

The deployment of [Jekyll \(Chirpy Theme\)](https://github.com/cotes2020/jekyll-theme-chirpy){:target="_blank"} includes a step to test the site to check if the webpage content is correct, such as whether links are functioning properly, if HTML tags are missing, etc.
```yaml
# build:
# ...
      - name: Test site
        run: |
          bundle exec htmlproofer _site \
            \-\-disable-external \
            \-\-no-enforce-https \
            \-\-ignore-empty-alt \
            \-\-ignore-urls "/^http:\/\/127.0.0.1/,/^http:\/\/0.0.0.0/,/^http:\/\/localhost/"
```

I added `--no-enforce-https` and `--ignore-empty-alt` to ignore the checks for https and html tags without alt attributes, **skipping these two checks to pass validation (since I cannot modify the content for now)**.

The official documentation for the CLI commands of [htmlproofer](https://github.com/gjtorikian/html-proofer){:target="_blank"} does not mention this; after searching for a long time, I found the rules in a [Comment](https://github.com/gjtorikian/html-proofer/issues/727#issuecomment-1334430268){:target="_blank"} on a certain issue:

![[https://github\.com/gjtorikian/html\-proofer/issues/727\#issuecomment\-1334430268](https://github.com/gjtorikian/html-proofer/issues/727#issuecomment-1334430268){:target="_blank"}](/assets/5bb7d3a4954f/1*kn6TE3wlIqIA8Nxe8OqTww.png)

[https://github\.com/gjtorikian/html\-proofer/issues/727\#issuecomment\-1334430268](https://github.com/gjtorikian/html-proofer/issues/727#issuecomment-1334430268){:target="_blank"}
#### Additional Articles
- [Github Pages Custom Domain Tutorial](../483af5d93297/)
- [Linkyee â€” Quickly Create a Personal LinkTree Page for Free Using GitHub Pages](../70aeddb1fd9b/)

If you have any questions or suggestions, feel free to [contact me](https://www.zhgchg.li/contact){:target="_blank"}.

_[Post](https://medium.com/zrealm-ios-dev/%E8%87%AA%E5%8B%95%E5%82%99%E4%BB%BD-medium-%E6%96%87%E7%AB%A0%E5%88%B0-github-pages-jekyll-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B-5bb7d3a4954f){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._

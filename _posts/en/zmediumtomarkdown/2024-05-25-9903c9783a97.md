---
title: "Plane.so Docker Self-Hosted Setup Record"
author: "ZhgChgLi"
date: 2024-05-25T13:12:58.622+0000
last_modified_at: 2024-05-25T13:14:38.442+0000
categories: ["ZRealm Dev."]
tags: ["ios-app-development","docker","nginx","project-management","self-hosted"]
description: "Plane Self-Hosted Docker setup, backup, restore, and Nginx domain reverse proxy configuration tutorial"
image:
  path: /assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.jpeg
render_with_liquid: false
---

### Plane\.so Docker Self\-Hosted Setup Record

Plane Self\-Hosted Docker setup, backup, restore, and Nginx domain reverse proxy configuration tutorial



![](/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.jpeg)

### Introduction

Plane\.so is a free and open-source project management tool similar to Asana, Jira, and Clickup that supports self-hosting. It was established in 2022, with its first version released in 2023, and is still in the development phase.

For detailed usage instructions and a combined introduction to the development process, please refer to the previous article "[**Plane\.so: A Free and Open-Source Project Management Tool Supporting Self-Hosting Like Asana/Jira**](../9d0f23784359/)". This article only records the process of self-hosting Plane\.so using Docker.
#### Self\-Hosted Plane

[**Docker Compose \- Plane**](https://docs.plane.so/self-hosting/methods/docker-compose){:target="_blank"} 
[_In this guide, we will walk you through the process of setting up a self\-hosted environment\. Self\-hosting allows you to…_ docs\.plane\.so](https://docs.plane.so/self-hosting/methods/docker-compose){:target="_blank"}
- Supports Docker, K8s / Cloud, and private on-premises installation
- Self\-Hosted is the Community Edition (officially abbreviated as CE)
- Self\-Hosted may not include all features of the Cloud version
- The features of the Self\-Hosted version are based on the Cloud free version; **to use other features, you still need to upgrade to the paid version**.
- This article takes Docker + private on-premises installation as an example
- **Currently, the official version does not provide a way to export from Cloud and import into the Self\-Hosted version; you can only achieve this through API integration yourself**
- Official note: Performance degrades beyond 50 users on our recommended 4 GB, 2vCPU infrastructure. Increased infrastructure will help accommodate more users.
`We have seen performance degradation beyond 50 users on our recommended 4 GB, 2vCPU infra. Increased infra will help with more users.`
- Open-sourced under the [AGPL\-3\.0 license](https://github.com/makeplane/plane#AGPL-3.0-1-ov-file){:target="_blank"}, the first version was released in January 2023 and is still under continuous development, with no official release version available yet.
- Please note that open-source and support for self-hosting does not mean free.
- A complete configuration example repository is attached at the end of the article.

#### Docker Installation

This article will not elaborate further; please refer to the [official Docker installation method](https://www.docker.com/){:target="_blank"} to complete the local Docker environment installation and configuration. The following example uses macOS Docker.
### Plane @ Docker Installation

Refer to the [official manual](https://docs.plane.so/self-hosting/methods/docker-compose#option-2-using-docker-desktop){:target="_blank"}.
1. Create a directory & download the installation script

```bash
mkdir plane-selfhost

cd plane-selfhost

curl -fsSL -o setup.sh https://raw.githubusercontent.com/makeplane/plane/master/deploy/selfhost/install.sh

chmod +x setup.sh
```

2\. Ensure that the Docker environment is installed and Docker is running, then execute the script.
```bash
./setup.sh
```


![](/assets/9903c9783a97/1*TD7LN5US1dvurUwQR-gQVg.png)

- Enter `1` to start the installation (download images)



![](/assets/9903c9783a97/1*q4RXXzsSHw4564rEeCPCUg.png)

- Wait for the images used by Plane to be pulled completely



![](/assets/9903c9783a97/1*fYopj6xrbQWEf8bheAFcvQ.png)

- After the images are pulled, navigate to the `./plane-app` folder and open the `.env` configuration file

```makefile
APP_RELEASE=stable

WEB_REPLICAS=1
SPACE_REPLICAS=1
ADMIN_REPLICAS=1
API_REPLICAS=1

NGINX_PORT=80
WEB_URL=http://localhost
DEBUG=0
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
CORS_ALLOWED_ORIGINS=http://localhost

#DB SETTINGS
PGHOST=plane-db
PGDATABASE=plane
POSTGRES_USER=plane
POSTGRES_PASSWORD=plane
POSTGRES_DB=plane
POSTGRES_PORT=5432
PGDATA=/var/lib/postgresql/data
DATABASE_URL=

# REDIS SETTINGS
REDIS_HOST=plane-redis
REDIS_PORT=6379
REDIS_URL=

# Secret Key
SECRET_KEY=60gp0byfz2dvffa45cxl20p1scy9xbpf6d8c5y0geejgkyp1b5

# DATA STORE SETTINGS
USE_MINIO=1
AWS_REGION=
AWS_ACCESS_KEY_ID=access-key
AWS_SECRET_ACCESS_KEY=secret-key
AWS_S3_ENDPOINT_URL=http://plane-minio:9000
AWS_S3_BUCKET_NAME=uploads
MINIO_ROOT_USER=access-key
MINIO_ROOT_PASSWORD=secret-key
BUCKET_NAME=uploads
FILE_SIZE_LIMIT=5242880

# Gunicorn Workers
GUNICORN_WORKERS=1

# UNCOMMENT `DOCKER_PLATFORM` IF YOU ARE ON `ARM64` AND DOCKER IMAGE IS NOT AVAILABLE FOR RESPECTIVE `APP_RELEASE`
# DOCKER_PLATFORM=linux/amd64
```
- By default, the Plane service starts on port `:80`. If there is a conflict, you can change the port.
- Complete the configuration adjustments (it is not recommended to directly modify `docker-compose.yml` as future updates to Plane will overwrite this file).

### Starting Plane @ Docker
- Re-enter `./setup.sh`



![](/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.png)

- Enter `2` to start Plane:



![](/assets/9903c9783a97/1*MNys2fjcUtsQ7SbtGXsO7g.png)

- **After starting successfully and confirming that everything has started, open the URL `/` `god-mode/` for the initial setup:**



![](/assets/9903c9783a97/1*SFLxN5kmIYhGUEfHYg9UAA.png)

- The account and password set here have the highest administrative privileges (God/Admin Mode).
- For security reasons, the password must include special characters, be more than 8 characters long, and contain numbers and both uppercase and lowercase letters; otherwise, it cannot be submitted.
- If this step is not completed, the login page will display `Instance not configured. Please contact your administrator.`

```markdown
### Plane God/Admin Mode

You can access it from the Plane URL `/god-mode/`, where you can configure the entire Plane service environment.
#### General Settings：

![](/assets/9903c9783a97/1*N4N-c6G9LAodW5-gTZRpVA.png)

General settings.
#### Email：

![](/assets/9903c9783a97/1*BhMM8nsSSWgZeuoHOi07LA.png)

- Email notification SMTP settings

If you don't want to set up your own SMTP Server, you can [directly use GMAIL SMTP](https://docs.plane.so/self-hosting/govern/communication){:target="_blank"} to send emails:
- Host: `smtp.gmail.com`
- Port: `465`
- Sender email address: Display email e.g. `noreply@zhgchg.li`
- Username: Your Gmail account
- Password: Your Gmail password, [if you have two-step verification, use an app password](https://www.webdesigntooler.com/google-smtp-send-mail){:target="_blank"}.
- If there is no response after setting up, please check the Port and Email Security corresponding settings (TLS/STARTTLS: use port 587, SSL: use port 465).

> _Additionally, there's an idea that since Plane currently does not support Slack notifications, you could set up an SMTP Server shell to convert email notifications into Slack notifications using a Python script._

[![](https://opengraph.githubassets.com/286f2857104d078f595c484f5127fa6c7bd77f315179994488274758b597c44e/ont/slacker)](https://github.com/ont/slacker){:target="_blank"}

#### Authentication

![](/assets/9903c9783a97/1*mCXH4MQ9WNvBZFOkyNTEFw.png)

The Plane service login uses authentication methods. If you want to bind only Google organization email accounts, you can disable "Password based login" and enable the "Google" login feature, then generate a login App from Google that is limited to organizational accounts.
#### Artificial Intelligence

![](/assets/9903c9783a97/1*jTntKpLGWeEfwjDnZ9QRpQ.png)

AI-related settings, currently not very functional, but if you have the Key, you can use AI to assist in writing Issue Descriptions.
#### Image in Plane

![](/assets/9903c9783a97/1*dXJpZ0eiQqtfHYC2Aw85AA.png)

Currently not very functional either, but if you have the Unsplash Key, you can fetch images through the [Unsplash](https://unsplash.com/){:target="_blank"} API when selecting project cover images.

> ⚠️⚠️Disclaimer⚠️⚠️ 

> _The above is a usage introduction for version 0.20-Dev as of 2024–05–25. The official team is actively developing new features and optimizing user experience, so please refer to the latest settings._

> Once the God/Admin Mode is set up, it can be used similarly to the Cloud version.

> For detailed usage operations and development process integration, please refer to the previous article “[**Plane.so: A Free and Open Source Project Management Tool Similar to Asana/Jira that Supports Self-Hosting**](../9d0f23784359/)”.

### Plane @ Docker Upgrade

As mentioned earlier, Plane is still in the development stage, with new versions released approximately every two to three weeks, and the changes can be quite significant; it is recommended to read the [Release Note](https://github.com/makeplane/plane/releases){:target="_blank"} for changes and necessary adjustments to settings, and ensure everything is fine before proceeding with the upgrade.

> ⚠️Backup is essential before upgrading!⚠️ After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly.

> ⚠️Backup is essential before upgrading!⚠️ After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly.

> ⚠️Backup is essential before upgrading!⚠️ After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly.
```

> Since Plane is in the development stage and is unstable, there is no guarantee that upgrading will not cause data loss. Therefore, it is strongly recommended to back up before proceeding, and the backup method will be explained below.

**Upgrade Method:**
- Re-enter `./setup.sh`

![](/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.png)

- Enter `5` to upgrade Plane (which essentially just pulls the new images and restarts)
- After the images are pulled, you can restart the service
- The `.env` file may have changed after the upgrade, please refer to the Release Note for adjustments

### Plane @ Docker Backup

Starting from `0.20-dev`, `./setup.sh` has added a Backup Data command, but [referring to the official manual](https://docs.plane.so/plane-one/self-host/methods/one-command){:target="_blank"}, it only mentions how to restore Backup Data to their One paid service; therefore, I will still use my own method to back up uploaded files, Redis, and the PostgreSQL Docker Container.
#### Backup Script

`./plane-backup.sh` :
```bash
#!/bin/bash

# Backup Plane data
# Author: zhgchgli (https://zhgchg.li)

##### Execution Method
# ./plane-backup.sh [path to target backup folder] [Plane's Docker project name] [maximum number of Plane backup files to keep, delete the oldest backups if exceeded]
# e.g. ./plane-backup.sh /backup/plane plane-app 14
###### Settings

# Path to target backup folder
backup_dir=${1:-.}

# Plane's Docker project name
docker_project_name=${2:-"plane-app"}

# Maximum number of Plane backup files to keep, delete the oldest backups if exceeded
keep_count=${3:-7}

######

# Check if the directory exists
if [ ! -d "$backup_dir" ]; then
  echo "Backup failed, directory does not exist: $backup_dir"
  exit;
fi

# Remove oldest
count=$(find "$backup_dir" -mindepth 1 -type d | wc -l)

while [ "$count" -ge $keep_count ]; do
    oldest_dir=$(find "$backup_dir" -mindepth 1 -maxdepth 1 -type d | while read dir; do
        # Use stat command to get modification time
        if [[ "$OSTYPE" == "darwin"* ]]; then
            # macOS system
            echo "$(stat -f %m "$dir") $dir"
        else
            # Linux system
            echo "$(stat -c %Y "$dir") $dir"
        fi
    done | sort -n | head -n 1 | cut -d ' ' -f 2-)
    
    echo "Remove oldest backup: $oldest_dir"
    rm -rf "$oldest_dir"

    count=$(find "$backup_dir" -mindepth 1 -type d | wc -l)
done
#

# Backup new
date_dir=$(date "+%Y_%m_%d_%H_%M_%S")
target_dir="$backup_dir/$date_dir"

mkdir -p "$target_dir"

echo "Backing up to: $target_dir"

# Plane's PostgreSQL .SQL dump
docker exec -i $docker_project_name-plane-db-1 pg_dump --dbname=postgresql://plane:plane@plane-db/plane -c > $target_dir/dump.sql

# Plane's Redis
docker run --rm -v $docker_project_name-redis-1:/volume -v $target_dir:/backup ubuntu tar cvf /backup/plane-app_redis.tar /volume > /dev/null 2>&1

# Plane's uploaded files
docker run --rm -v ${docker_project_name}_uploads:/volume -v $target_dir:/backup ubuntu tar cvf /backup/plane-app_uploads.tar /volume > /dev/null 2>&1

echo "Backup up Success!"
```

```
When creating the Script file for the first time, remember to: `chmod +x ./plane-backup.sh`

**Execution Method:**
```bash
./plane-backup.sh [Path to backup target folder] [Name of the Plane Docker project] [Maximum number of Plane backup files to retain; older backups will be deleted if exceeded]
```
- Path to backup target folder: e.g. `/backup/plane/` or `./`
- Name of the Plane Docker project: Name of the Plane Docker Compose Project



![](/assets/9903c9783a97/1*kJjqWIuKwubpXZ-yzaKtpQ.png)

- Maximum number of Plane backup files to retain; older backups will be deleted if exceeded: Default is 7 copies


**Example Execution:**
```bash
./plane-backup.sh /backup/plane plane-app 14
```


![](/assets/9903c9783a97/1*0WHK8gVB2KVmI_zOB0g5dw.png)

- Ensure that Plane is in a running state during execution.


Simply add the above command to Crontab to enable scheduled automatic backups of Plane.


> If you encounter execution errors or cannot find the Container, please verify the Plane Docker Compose Project name or check the script and Docker container names (they may have been renamed by the official team).




#### Restore Script

`./plane-restore.sh` :
```bash
#!/bin/bash

# Restore Plane backup data
# Author: zhgchgli (https://zhgchg.li)

##### Execution Method
# ./plane-restore.sh

# 
inputBackupDir() {
    read -p "Folder of the Plane backup file to restore (e.g. /backup/plane/2024_05_25_19_14_12): " backup_dir
}
inputBackupDir

if [[ -z $backup_dir ]]; then
    echo "Please provide the backup folder (e.g. sh /backup/docker/plane/2024_04_09_17_46_39)"
    exit;
fi

inputDockerProjectName() {
    read -p "Name of the Plane Docker project (leave blank to use default plane-app): " input_docker_project_name
}
inputDockerProjectName
 
docker_project_name=${input_docker_project_name:-"plane-app"}

confirm() {
    read -p "Are you sure you want to execute Restore Plane.so data? [y/N] " response
    
    # Check the response
    case "$response" in
        [yY][eE][sS]|[yY]) 
            true
            ;;
        *)
            false
            ;;
    esac
}

if ! confirm; then
    echo "Action cancelled."
    exit
fi

# Restore

echo "Restoring..."

docker cp $backup_dir/dump.sql $docker_project_name-plane-db-1:/dump.sql && docker exec -i $docker_project_name-plane-db-1 psql postgresql://plane:plane@plane-db/plane -f /dump.sql

# Restore Redis
docker run --rm -v ${docker_project_name}-redis-1:/volume -v $backup_dir:/backup alpine tar xf /backup/plane-app_redis.tar --strip-component=1 -C /volume

# Restore uploaded files
docker run --rm -v ${docker_project_name}_uploads:/volume -v $backup_dir:/backup alpine tar xf /backup/plane-app_uploads.tar --strip-component=1 -C /volume

echo "Restore Success!"
```

```markdown
When creating the Script file for the first time, remember to: `chmod +x ./plane-restore.sh`

**Execution Method:**
```bash
 ./plane-restore.sh
Input: The folder of the Plane backup file to restore (e.g. /backup/plane/2024_05_25_19_14_12)
Input: The name of the Docker project for Plane (leave blank to use the default plane-app)
Input: Are you sure you want to execute Restore Plane.so data? [y/N] y
```

![](/assets/9903c9783a97/1*RfSvyRCGpKnXk_uk0EyOUw.png)

After seeing `Restore Success!`, you need to restart Plane for the changes to take effect.

**Using Plane `./setup.sh`, input `4` to Restart:**

![](/assets/9903c9783a97/1*BCJ07O43BFVlqfe8IUnt_Q.png)

Go back to the website, refresh, and log in to the Workspace to check if the restoration was successful:

![](/assets/9903c9783a97/1*fmF4Z8yemneoe4wefz6x9g.png)

**Done!**

> ⚠️ It is recommended to regularly test the backup and restore process to ensure that backups can be useful in case of unexpected events.

### Plane @ Docker Upgrade

As mentioned earlier, Plane is still in the development stage, and new versions are released approximately every two to three weeks, with potentially significant changes; it is advisable to read the [Release Note](https://github.com/makeplane/plane/releases){:target="_blank"} carefully for changes and necessary adjustments. Ensure there are no issues before proceeding with the upgrade.

> ⚠️ Always back up before upgrading! ⚠️ After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly.

> ⚠️ Always back up before upgrading! ⚠️ After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly.

> ⚠️ Always back up before upgrading! ⚠️ After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly.

> Since Plane is in the development stage and is unstable, there is no guarantee that upgrading will not cause data loss; therefore, it is strongly recommended to back up before performing any operations.

**Upgrade Method:**
- Re-enter `./setup.sh`

![](/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.png)

- Input `5` to upgrade Plane (which essentially just pulls the new images and restarts)
- After the Images are pulled, you can restart the service
- The `.env` file may have changes after the upgrade; please refer to the Release Note for adjustments
- After the upgrade, be sure to check if the scheduled backup scripts are still functioning properly
- If the Container Name has changed, you need to modify the backup, restore, and the Nginx reverse proxy script introduced below

### Using Nginx + Plane for Reverse Proxy

Since we may have multiple web services to provide, such as: [Self-Hosted LibreChat (ChatGPT)](https://github.com/danny-avila/LibreChat){:target="_blank"}, [Self-Hosted Wiki.js](https://js.wiki/){:target="_blank"}, [Self-Hosted Bitwarden](https://bitwarden.com/help/self-host-an-organization/){:target="_blank"}, etc., each service typically requires port 80 by default. If we do not want to specify the port in the URL while using them, we need to start a Docker Nginx as a reverse proxy for the web services.

**The effect is as follows:**
```rust
chat.zhgchg.li -> LibreChat :8082
wiki.zhgchg.li -> Wiki.js :8083
pwd.zhgchg.li -> Bitwarden :8084

plane.zhgchg.li -> Plane.so :8081
```

To achieve the above effect, you need to move the `./plane-selfhost` directory to a unified directory, which we will name `webServices`.

**Final Directory Structure Preview:**

![](/assets/9903c9783a97/1*ERwnbdC9ePP7kRNd_LYzWQ.png)

**Adjust the environment configuration file `webServices/plane-selfhost/plane-app/.env`:**
```makefile
APP_RELEASE=stable

WEB_REPLICAS=1
SPACE_REPLICAS=1
ADMIN_REPLICAS=1
API_REPLICAS=1

NGINX_PORT=8081
WEB_URL=http://plane.zhgchg.li
DEBUG=0
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
CORS_ALLOWED_ORIGINS=http://plane.zhgchg.li

#DB SETTINGS
PGHOST=plane-db
PGDATABASE=plane
POSTGRES_USER=plane
POSTGRES_PASSWORD=plane
POSTGRES_DB=plane
POSTGRES_PORT=5432
PGDATA=/var/lib/postgresql/data
DATABASE_URL=

# REDIS SETTINGS
REDIS_HOST=plane-redis
REDIS_PORT=6379
REDIS_URL=

# Secret Key
SECRET_KEY=60gp0byfz2dvffa45cxl20p1scy9xbpf6d8c5y0geejgkyp1b5

# DATA STORE SETTINGS
USE_MINIO=1
AWS_REGION=
AWS_ACCESS_KEY_ID=access-key
AWS_SECRET_ACCESS_KEY=secret-key
AWS_S3_ENDPOINT_URL=http://plane-minio:9000
AWS_S3_BUCKET_NAME=uploads
MINIO_ROOT_USER=access-key
MINIO_ROOT_PASSWORD=secret-key
BUCKET_NAME=uploads
FILE_SIZE_LIMIT=5242880

# Gunicorn Workers
GUNICORN_WORKERS=1

# UNCOMMENT `DOCKER_PLATFORM` IF YOU ARE ON `ARM64` AND DOCKER IMAGE IS NOT AVAILABLE FOR RESPECTIVE `APP_RELEASE`
# DOCKER_PLATFORM=linux/amd64
```
- Replace the URL with the desired one, using `plane.zhgchg.li` as an example
- Change `NGINX_PORT` to `8081` to allow the original `80` to be used for the reverse proxy Nginx
```

`webServices/` **Create a `docker-compose.yml` file for Nginx:**  
```yaml
version: '3.8'

services:
  webServices-nginx:
    image: nginx
    restart: unless-stopped
    volumes:
      - ./nginx/conf.d/plane.zhgchg.li.conf:/etc/nginx/conf.d/plane.zhgchg.li.conf

    ports:
      - 80:80
      - 443:443

    networks:
      - plane-app_default # Network used by Plane
networks:
  plane-app_default:
    external: true
```
- We need to add the Plane app's network to Nginx.


`webServices/` **Create the `/conf.d` directory & `plane.zhgchg.li.conf` file:**  
```shell
# For plane.zhgchg.li

# http example:
server {
    listen 80;
    server_name plane.zhgchg.li;

    client_max_body_size 0;

    location / {
 proxy_pass http://plane-app-proxy-1; # Service name for plane proxy-1
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}


# https & http example:
# server {
#     listen 443 ssl;
#     server_name plane.zhgchg.li;

#     #ssl
#     ssl_certificate             /etc/nginx/conf/ssl/zhgchgli.crt; # Replace with your domain's crt & remember to add the key to docker-compose.yml volumes Mount into Docker
#     ssl_certificate_key         /etc/nginx/conf/ssl/zhgchgli.key; # Replace with your domain's key & remember to add the key to docker-compose.yml volumes Mount into Docker
#     ssl_prefer_server_ciphers   on;
#     ssl_protocols               TLSv1.1 TLSv1.2;
#     ssl_ciphers                 "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4";
#     ssl_ecdh_curve              secp384r1; # Requires nginx >= 1.1.0
#     ssl_session_timeout         10m;
#     ssl_session_cache           shared:SSL:10m;
#     add_header                  Strict-Transport-Security "max-age=63072000; includeSubDomains; preload";

#     client_max_body_size 0;

#     location / {
#  proxy_pass http://plane-app-proxy-1; # Service name for plane proxy-1
#         proxy_set_header Host $host;
#         proxy_set_header X-Real-IP $remote_addr;
#         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#         proxy_set_header X-Forwarded-Proto $scheme;
#     }
# }

# server {
#     listen 80;
#     server_name plane.zhgchg.li;
#     return 301 https://plane.zhgchg.li$request_uri;
# }
```
- The proxy\_pass should point to the service entry in the Plane network.
- This example uses HTTP; for HTTPS support, refer to the method for [creating a self-signed certificate](https://calvertyang.github.io/2013/10/17/creating-a-self-signed-ssl-certificate-for-nginx/){:target="_blank"}.

```markdown
Since there are multiple docker-compose.yml files that need to be started individually, and then starting the Nginx reverse proxy, we can place all the startup scripts into a single Shell Script.

`webServices/` **Create the `/start.sh` file:**
```bash
#!/bin/sh

# Package startup Script

# First, start Plane... wait for other services
docker compose -f ./plane-selfhost/plane-app/docker-compose.yaml --env-file ./plane-selfhost/plane-app/.env up -d


# Finally, start Nginx
docker compose -f ./docker-compose.yml --env-file ./.env up -d
```

When creating the Script file for the first time, remember to: `chmod +x ./start.sh`

You can also create one for stopping services, `webServices/` **Create the `/stop.sh` file:**
```bash
#!/bin/sh

# Package stop Script

docker compose -f ./plane-selfhost/plane-app/docker-compose.yaml --env-file ./plane-selfhost/plane-app/.env down

docker compose -f ./docker-compose.yml --env-file ./.env down
```

When creating the Script file for the first time, remember to: `chmod +x ./stop.sh`
#### Start
- After packaging Nginx reverse proxy + Plane service + others, you can directly run `./start.sh` to start all services.

```bash
./start.sh
```


![](/assets/9903c9783a97/1*dNJzZpnUNdgo0Fr7l8mi-g.png)



![](/assets/9903c9783a97/1*BDBsaS6qcdM42VAkAoNkWg.png)

#### DNS Settings

For deployment on an internal network, please ask the IT department to add a DNS record for plane.zhgchg.li -> server IP address in the internal DNS.
```typescript
plane.zhgchg.li server IP address
```

If you are testing on your own local computer, you can add the following to the /private/etc/hosts file:
```typescript
127.0.0.1 plane.zhgchg.li
```
#### After completing the DNS settings, you can access Plane by entering plane.zhgchg.li!


![](/assets/9903c9783a97/1*zRFYLw4MMiqaXahqAlZKxA.png)

#### Frequently Asked Questions
1. Nginx fails to start and keeps restarting, checking the logs shows nginx: [emerg] host not found in upstream
This means that the Nginx reverse proxy service cannot find the Plane service. Check if the name `http://plane-app-proxy-1` is correct and if the network settings in the Nginx docker-compose.yml are correct.
2. A 502 Bad Gateway error appears
The startup order is incorrect (ensure that the Nginx reverse proxy is started last) or the Plane process has restarted. Trying to restart should resolve the issue.
3. The default Nginx homepage `welcome to nginx!` appears. Using the reverse proxy, you will no longer be able to access Plane via the original IP:80 method; you must use the URL.
4. If the URL cannot be resolved or the host cannot be found, please check if the DNS network settings are normal.

### ⚠️⚠️Security Issues⚠️⚠️

Since the Plane project is still under development and is an open-source project, it is uncertain whether there are serious system vulnerabilities, which could potentially become an entry point for intrusion. Therefore, it is not recommended to host Plane.so Self-Hosted on a public network; it is advisable to add an extra layer of security (Tunnel or certificate or VPN) to access it; if hosted on an internal network, it is also best to isolate it.

**Development projects inevitably have bugs, experience, and security issues; please be patient with the Plane.so team. If you have any questions, feel free to report below:**
- Issue reporting: [https://github\.com/makeplane/plane/issues](https://github.com/makeplane/plane/issues){:target="_blank"}
- Official Discord: [https://discord\.com/invite/A92xrEGCge](https://discord.com/invite/A92xrEGCge){:target="_blank"}
```

```markdown
### Complete Self-Hosted Repo Example Download

[![](https://opengraph.githubassets.com/efb750533f6a1db19a83e907375c3d59f4d4618e1770d797d416a21b25227cdd/zhgchgli0718/plane-docker-example)](https://github.com/zhgchgli0718/plane-docker-example){:target="_blank"}

### Plane.so Usage and Integration with Scrum Process Tutorial
- [**Plane.so is a free and open-source project management tool similar to Asana/Jira that supports Self-Hosting**](../9d0f23784359/)

If you have any questions or suggestions, feel free to [contact me](https://www.zhgchg.li/contact){:target="_blank"}.

_[Post](https://medium.com/zrealm-ios-dev/plane-so-docker-self-hosted-%E8%87%AA%E6%9E%B6%E7%B4%80%E9%8C%84-9903c9783a97){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
```

---
title: "Smart Home First Experience - Apple HomeKit & Xiaomi Mijia"
author: "ZhgChgLi"
date: 2019-07-05T17:13:47.487+0000
last_modified_at: 2024-04-13T07:49:52.330+0000
categories: ["ZRealm Life."]
tags: ["Lifestyle", "Unboxing", "3C", "Mijia", "HomeKit"]
description: "Mijia smart camera and Mijia smart desk lamp, Mijia and HomeKit setup tutorial"
image:
  path: /assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.jpeg
render_with_liquid: false
---

### Smart Home First Experience - Apple HomeKit & Xiaomi Mijia

Mijia smart camera and Mijia smart desk lamp, HomeKit setup tutorial


**\[2020/04/20\]** [**Advanced article published**](../99db2a1fbfe5/) **：** 
**[Experienced friends please turn left directly to&gt;&gt;](../99db2a1fbfe5/)** [**Demonstration of using Raspberry Pi as HomeBridge host to connect all Mijia appliances to HomeKit**](../99db2a1fbfe5/)
### Chatting:

I recently just moved; unlike my previous place, where the ceiling had office light fixtures that were so bright I had to remove a few tubes to make it more comfortable for my eyes, my current place has recessed lighting that is somewhat insufficient for using the computer and reading. After two weeks, my eyes feel drier and more uncomfortable. I initially thought about going to IKEA for a purchase, but considering the color temperature and eye protection, I ultimately compared the cost-performance ratio and chose the Xiaomi desk lamp (especially since I already had a Xiaomi smart camera, both are from the Mijia series).
### This Article:

Actually, I didn't pay special attention to whether it supports Apple HomeKit when I was shopping. As an iOS developer, I feel quite inadequate because I never thought Xiaomi would support it.

So this article will separately introduce **Using Apple HomeKit**, **How to use third-party integration with HomeKit for smart homes that do not support Apple HomeKit?**, and **How to build a smart home using Mijia itself (with IFTTT)**.

You can jump to the sections based on your device needs.
### Purchases:

I bought two desk lamps in total, one (Pro) for my computer desk and the other for my bedside as a reading lamp.
#### [Mijia Desk Lamp Pro](https://www.mi.com/tw/mi-adjustable-smart-desk-lamp/){:target="_blank"} :


![NT$ 1,795 supports Mijia, Apple HomeKit](/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.jpeg)

NT$ 1,795 supports Mijia, Apple HomeKit
#### [Mijia LED Smart Desk Lamp](https://www.mi.com/tw/smartlamp/){:target="_blank"} :


![NT$ 995 supports only Mijia](/assets/c3150cdc85dd/1*PCaRI8AroRgFELEA1elaiA.jpeg)

NT$ 995 supports only Mijia

For detailed information, please refer to the official website. Both lamps support smart control, color changing, brightness adjustment, and eye protection. The Pro version supports Apple HomeKit and has three adjustable angles. Currently, I am quite satisfied with the functionality of one lamp; if I had to pick a flaw, it would be that the Pro version's angle adjustment can only rotate the base horizontally, not the lamp itself, which means the light angle cannot be adjusted!
### Ideal Smart Home Goals:
#### Current Devices:
1. Mijia Smart Camera PTZ 1080P (supports: Mijia)
2. Mijia Desk Lamp Pro (supports: Apple HomeKit, Mijia)
3. Mijia LED Smart Desk Lamp (supports: Mijia)

#### Ideal Goals:

**When returning home:** Automatically turn off the camera (for privacy and to prevent accidental triggering of the home security alarm, as there is a bug in the Mijia app that prevents the home security alarm from being set to turn on and off at scheduled times), turn on the Pro lamp at the computer desk (I don't want to fumble in the dark).
**When leaving home:** Automatically turn on the camera (default to enable home security), turn off all lights.
#### **Final Achievements of This Article:**

Receive push notifications when leaving and returning home, with a tap on the phone to trigger actions (the existing devices cannot achieve the ideal automation goals).
### The Journey of Smart Home Setup:
#### **Using Apple HomeKit**

**\*Limited to Mijia Desk Lamp Pro! Mijia Desk Lamp Pro! Mijia Desk Lamp Pro!**

This is the simplest part, as it is all native functionality.


![Only four steps needed](/assets/c3150cdc85dd/1*pv62RZ_TjL8X6t-gXnwWtQ.jpeg)

Only four steps needed
1. Find the Home app (if not available, please search for "Home" in the App Store and install it)
2. Open the Home app
3. Click the "+" in the upper right corner to add accessory
4. Scan the HomeKit QR code on the bottom of the Pro lamp to add the accessory!

```markdown
![](/assets/c3150cdc85dd/1*0Rm1Ij86bD-fld-N-N1qJw.jpeg)

After successfully adding the accessory, press down (3D TOUCH) / long press on the accessory to adjust brightness and color.
#### How to use third-party integrations with HomeKit for devices that do not support Apple HomeKit?

In addition to the smart devices that are natively supported, can devices that do not support Apple HomeKit be completely controlled through the Home app?
This section will guide you step-by-step on how to add unsupported devices (cameras, standard desk lamps) to your "Home"!

> **Mac ONLY, WIN users please skip to the section on using the Mi Home app** 

> **My device is MacOS 10.14/iOS 12** 

**Using [HomeBridge](https://github.com/nfarina/homebridge){:target="_blank"}:**

HomeBridge uses a Mac computer as a bridge to simulate unsupported devices as HomeKit devices, allowing them to be added to the accessories in "Home."

![Operation Comparison](/assets/c3150cdc85dd/1*q2ctcxaaxLFExKXd-9NjPg.png)

Operation Comparison

One key point to note is **you need to have a Mac computer kept on to maintain a smooth bridging channel**; once the computer is shut down or goes to sleep, you will not be able to control those HomeKit devices.

Of course, there are also enthusiasts online who buy a Raspberry Pi to use as a bridge; however, this involves too much technical detail, which will not be covered in this article.

If you still want to proceed after knowing the drawbacks, you can continue reading or jump to the next section that directly uses the Mi Home app.

**Step 1:**

Install [node.js](https://nodejs.org/en/){:target="_blank"}: [click here](https://nodejs.org/dist/v12.6.0/node-v12.6.0.pkg){:target="_blank"} [to download](https://nodejs.org/dist/v12.6.0/node-v12.6.0.pkg){:target="_blank"}, and install it.

**Step 2:**

Open "Terminal" and enter
```bash
sudo npm -v
```

![](/assets/c3150cdc85dd/1*RBRWT93L_abbhzTItL9Mhg.png)

Check if the node.js npm package manager is installed successfully: if the version number is displayed, it means success!

**Step 3:**

Install the HomeBridge package via npm:
```bash
sudo npm -g install homebridge --unsafe-perm
```

After waiting for the installation to complete… the HomeBridge tool is now installed!

As mentioned earlier, “HomeBridge uses a Mac computer as a bridge to simulate unsupported devices as HomeKit devices,” **in reality, HomeBridge is just a platform, and additional plugins are needed for each device to be added.**

These plugins are easy to find; just Google or search on GitHub for “mija product English name homebridge” and you will find many resources. Here are two resources for devices I am using:

**1. Mijia Camera PTZ Resource: [MijiaCamera](https://github.com/josepramon/homebridge-mijia-camera){:target="_blank"}**

Cameras are relatively tricky devices, and I spent some time researching and organizing this information; I hope it helps those in need!

First, use "Terminal" to run the command to install the MijiaCamera npm package
```bash
sudo npm install -g homebridge-mijia-camera
```

After installation, we need to obtain the camera's network **IP address** and **Token** information.

![](/assets/c3150cdc85dd/1*n0TIhqyCoKZo7--ePZwuLA.jpeg)

Open the Mi Home app → Camera → Tap the top right corner "…" → Settings → Network Information to get the **IP address**!

The **Token** information is a bit more complicated; you need to connect your phone to your Mac:

![Open iTunes Interface](/assets/c3150cdc85dd/1*0ewSMEH7K2rzUlUtSB61vw.png)

Open iTunes Interface

Select Backup **do not check "Encrypt local backup"**, then click "Back Up Now."

Once the backup is complete, [download](http://www.imactools.com/iphonebackupviewer/download/mac){:target="_blank"} and install the backup viewer software: [iBackupViewer](http://www.imactools.com/iphonebackupviewer/download/mac){:target="_blank"}
```

```markdown
Open "iBackupViewer". The first time you start it, you will need to go to Mac "System Preferences" - "Security & Privacy" - "Privacy" - "+" - add "iBackupViewer".
**_\*If you have privacy concerns, you can disable internet access for this software and remove it after use._**

![](/assets/c3150cdc85dd/1*kEOxJCkOxDRuFfoxumssgA.png)

After reopening "iBackupViewer" and successfully reading the backup file, click the top right corner to switch to "Tree View" mode.

![](/assets/c3150cdc85dd/1*R4l6tRzDaqtiN7xutPKtQg.png)

The left side will display all your installed apps. Find the Xiaomi Home app "AppDomain-com\.xiaomi\.mihome" -> "Documents".

In the file list on the right, find and select the file **数字_mihome\.sqlite**.

Click the top right corner "Export" -> "Selected".

Throw the exported sqlite file into [https://inloop\.github\.io/sqlite\-viewer/](https://inloop.github.io/sqlite-viewer/){:target="_blank"} to view the contents.

![](/assets/c3150cdc85dd/1*oRK8tHqom2tnR3CE5xz_-w.png)

You can see all the device information fields from the Xiaomi Home app. Scroll to the right end to find the **ZTOKEN** field, double-click to edit and select all to copy.

Finally, open [http://aes\.online\-domain\-tools\.com/](http://aes.online-domain-tools.com/){:target="_blank"} to convert **ZTOKEN** into the final **Token**.

![](/assets/c3150cdc85dd/1*ZXTe6MEFXjYhqtf9uAJWwQ.png)

1. Paste the copied ZTOKEN into "Input Text" and select "Hex".
2. For Key, enter "00000000000000000000000000000000" (32 zeros), and also select "Hex".
3. Then press "Decrypt!" to convert.
4. Select all and copy the result in the blue box at the bottom right, removing spaces to get the desired **Token**.

> I tried to sniff the Token directly using "miio", but it seems that the firmware of the Xiaomi camera has been updated, and this method can no longer quickly and conveniently obtain the Token!

**Back to HomeBridge! Edit the configuration file config\.json.**

![](/assets/c3150cdc85dd/1*Zh_BWLwMUg5pOxFEVipgiQ.png)

Use "Finder" -> "Go" -> "Go to Folder" -> enter "~/\.homebridge" to go there.

Open "config\.json" with a text editor. If this file does not exist, please create one or [click here to download](https://drive.google.com/file/d/1S67NZwXrVqOpps_Cl9l0494foDaHxuWF/view?usp=sharing){:target="_blank"} and place it directly inside.
```json
{
   "bridge":{
      "name":"Homebridge",
      "username":"CC:22:3D:E3:CE:30",
      "port":51826,
      "pin":"123-45-568"
   },
   "accessories":[
      {
         "accessory":"MijiaCamera",
         "name":"Mi Camera",
         "ip":"",
         "token":""
      }
   ]
}
```

Add the above content to config\.json, filling in the IP and Token sections with the information obtained above.

At this point, return to the "Terminal" and enter the following command to start HomeBridge:
```bash
sudo homebridge start
```

If you have already started it and then changed the config\.json content, you can modify it as follows:
```bash
sudo homebridge restart
```

Restart.

![](/assets/c3150cdc85dd/1*vwCS3QHu285oCrChau9mpw.png)

At this time, a HomeKit QR Code will appear for you to scan and add the accessory (the steps are as mentioned above, for adding Apple HomeKit devices).

![](/assets/c3150cdc85dd/1*CB76x9ryWBve2bssFd0nzA.jpeg)
```

Below are the status messages:
\[2019–7–4 23:45:03\] \[Mi Camera\] connecting to camera at 192\.168\.0\.100…
\[2019–7–4 23:45:03\] \[Mi Camera\] current power state: off

If these messages appear and there are no error messages, it indicates that the setup was successful!

Common errors usually stem from an incorrect Token; just check if there are any omissions in the above process.

Now you can control the Mi Home Smart Camera from the "Home" app!

**2\. Mi Home LED Smart Desk Lamp HomeBridge Resources: [homebridge\-yeelight\-wifi](https://github.com/vieira/homebridge-yeelight-wifi){:target="_blank"}**

Next is the Mi Home LED Smart Desk Lamp. Since it does not support Apple HomeKit like the Pro version, we still need to use the HomeBridge method to add it. Although the steps **do not require a cumbersome process to obtain the IP and Token**, it is relatively simpler than the camera. However, the desk lamp has its own pitfalls; you need to pair it with another YeeLight app and enable the local network control settings:

![](/assets/c3150cdc85dd/1*uuaLjWduzC5RrOf-gd2-Jw.jpeg)

I must criticize the poor integration here; the native Mi Home app cannot perform this setting. So please search for the "[Yeelight](https://apps.apple.com/tw/app/yeelight/id977125608){:target="_blank"}" app in the App Store to download and install.

Open the app -> log in directly with your Mi Home account -> add device -> Mi Desk Lamp -> follow the instructions to bind the desk lamp to the Yeelight app.

![](/assets/c3150cdc85dd/1*GTcap563FDdC0TsH09hZww.jpeg)

After binding the device, return to the "Devices" page -> click on "Mi Desk Lamp" -> click the "△" tab in the lower right corner -> click "Local Network Control" to enter the settings -> enable the button to allow local network control.

**The setup for the desk lamp ends here; you can keep this app to control the lamp or rebind it back to Mi Home.**

**Next is the HomeBridge setup; similarly, open the "Terminal" and run the command to install the [homebridge\-yeelight\-wifi](https://github.com/vieira/homebridge-yeelight-wifi){:target="_blank"} npm package.**
```bash
sudo npm install -g homebridge-yeelight-wifi
```

After installation, follow the same steps as for the camera. Go to the ~/\.homebridge folder, create or edit the config\.json file, and this time just add the following inside the last \}:
```json
"platforms": [
   {
         "platform" : "yeelight",
         "name" : "yeelight"
   }
 ]
```

That's it!

**Finally, the combined config\.json file from the above camera setup is as follows:**
```json
{
 "bridge": {
  "name": "Homebridge",
  "username": "CC:22:3D:E3:CE:30",
  "port": 51826,
  "pin": "123-45-568"
 },

 "accessories": [
  {
   "accessory": "MijiaCamera",
   "name": "Mi Camera",
   "ip": "",
   "token": ""
  }
 ],

 "platforms": [
   {
         "platform" : "yeelight",
         "name" : "yeelight"
   }
 ]
}
```

Then, return to the "Terminal" and run:
```bash
sudo homebridge start
```

or
```bash
sudo homebridge restart
```

You will see that the previously unsupported Mi Home LED Smart Desk Lamp has also been added to the HomeKit "Home" app!

![](/assets/c3150cdc85dd/1*3jm0Kd4545DcmzNtPY-dXA.jpeg)

Moreover, it also supports color and brightness adjustments!
#### Now that all HomeKit accessories are added, how do we make them smart?

Once everything is added and bridged, open the "Home" app again.

![](/assets/c3150cdc85dd/1*s33BtesqfNSUNyyR069m_Q.jpeg)

```markdown
Add a scene scenario according to the steps, taking returning home as an example:

Click the “\+” in the upper right corner -> Add Scenario -> Custom -> Enter accessory name (EX: Home) -> Click “Add Accessory” below -> Select the HomeKit accessories that have been connected -> Set the accessory status for this scene (Camera: Off / Table Lamp: On) -> You can click “Test Scenario” to conduct a test -> Click “Done” in the upper right corner!

Now the scene is set! At this point, clicking the scene on the homepage will change the settings for all accessories inside!

![](/assets/c3150cdc85dd/1*VSArlFmoFERbjH13Cns5TQ.jpeg)

There’s also a quick tip: directly click the house-shaped button in the pull-up control menu for quick operation of HomeKit/execute scenarios (you can switch modes in the upper right corner)!

#### With intelligence in place, how do we automate it?

Now that we have intelligence, I want to achieve the ultimate goal: automatically turn off the camera and turn on the lights when I come home; automatically turn on the camera and turn off the lights when I leave.

![](/assets/c3150cdc85dd/1*tCpQ3io2Q2DDCVFxJpBm_g.png)

Switch to the third tab “Automation” to set it up. I’m sorry that there isn’t one of the above devices (iPad/Apple TV/HomePod) that can serve as a **"[Home Hub](https://support.apple.com/zh-tw/HT207057){:target="_blank"}"**, so I haven’t researched this part.

The principle seems to be that when you return home, it senses the **"Home Hub"** and your phone/watch can trigger it accurately!

#### Here I found a tricky method: (GPS sensing)

Using a third-party app to connect to “Home” and add automation settings allows you to achieve automation by using your phone's GPS location to bypass the restrictions on using the “Automation” tab.

p.s. GPS may have an error of about 100 meters.

![](/assets/c3150cdc85dd/1*Rm101LKv29Avb5wv4isg4A.jpeg)

The third-party app I used for integration is: [myHome Plus](https://apps.apple.com/us/app/myhome-plus-control-for-nest-wemo-and-homekit/id1050479330){:target="_blank"}

After downloading & installing, open the app -> Allow access to “Home Data” -> You will see the data configuration of “Home” -> Click the “Settings Button” in the upper right corner -> Click “My Home” to enter -> Scroll down to the “Triggers” area -> Click “Add Trigger”.

![](/assets/c3150cdc85dd/1*Kk6AMnhSYP4sM8JD_66Iow.jpeg)

Select “Location” for Trigger Type -> Enter a name (EX: Home) for Name -> Click “Set Location” to set the location area -> Next, in REGION STATUS, you can set whether to enter or leave the area -> Finally, in SCENES, you can choose the corresponding “scene” (the one created above).

After clicking “Done” in the upper right corner to save, return to the “Home” app, and you will see that the “Automation” tab has been opened and can be used!

![](/assets/c3150cdc85dd/1*SXYVBHk9-pMD8YufRQA4zw.png)

At this point, you can select the “+” in the upper right corner to directly add automation scripts using the “Home” app!!

![](/assets/c3150cdc85dd/1*qbtjNCj9mOvjuX7an6rhXw.jpeg)

The steps are similar to the third-party app, but the integration is better! After setting up automation using the native “Home” app, you can also swipe to delete the one created with the third-party app.

> **_!! Just be careful to keep at least one; otherwise, the tab will revert to its original locked state!!_**

**Regarding Siri voice control:**

Compared to the Xiaomi Home introduced below, HomeKit has a high level of integration, allowing direct voice control of configured accessories and executing scenes without any additional setup.

![](/assets/c3150cdc85dd/1*q_ui00ruJl1Fd3_5M-0EhQ.png)

That concludes the introduction to HomeKit settings. Next, I will explain how to use Xiaomi's native smart home features.

#### **How to build a smart home using Xiaomi itself:**

Here I encountered a confusing point: I couldn't find the same Xiaomi table lamp in the list of added devices. The answer is:

![Just read the text, this is it](/assets/c3150cdc85dd/1*xLM5-khndWjvEDdTaFiPfw.png)

Just read the text, this is it.

For other devices: Cameras, Pro table lamps can be added directly according to the official instructions, so I won’t elaborate further.

**Scene setting:**

![](/assets/c3150cdc85dd/1*leO3Z492pJPh3hEASYr-ww.jpeg)

Same as the “Home setting method” -> Switch to the “Smart” tab -> Select “Manual Execution” -> Choose device operations below (since it’s native, more functions can be selected) -> Continue to add other devices (table lamp) -> Click “Save” to complete!
```

> _There will definitely be people wondering why not directly choose "leave or arrive at a certain place"? Because this feature is essentially useless; their app is not optimized for GPS in Taiwan, which is incorrect, and its positioning can only be set at landmarks. If your location has that, you can directly use this feature. **The subsequent articles can be skipped!**_

> **_Fun Fact: [The maps of China in Google Maps are all wrong!](https://buzzorange.com/techorange/2019/05/09/china-map-is-wrong/){:target="_blank"}_**

![](/assets/c3150cdc85dd/1*ZjdH5A0QnLq2LNh9lWvCCw.jpeg)

For the quick switch section, you can set up the widget from "My" -> "Widgets"!

This way, you can quickly execute scenes and devices from the notification center!

![](/assets/c3150cdc85dd/1*DMmicpzKUIr2xtN8JtP3wQ.png)

You can also control the widget from [Apple Watch](../a2920e33e73e/)!
_*If the watch app keeps showing blank, please delete and reinstall the watch or phone app; this app really has a lot of bugs._

#### With intelligence, how do we automate?

Here, we also need to use GPS sensing. **If the added scene above is "leave or arrive at a certain place," you can skip the following settings!**

\* \* \* \* \*
#### \[2019/09/26\] Update iOS ≥ 13 only uses the built-in Shortcuts app for automation:

[For iOS ≥ 13.1, use the "Shortcuts" automation feature with Xiaomi smart home, click to view >>](../21119db777dd/)

\* \* \* \* \*

> _iOS ≥ 12, iOS < 13 Only:_

> **Use the built-in Shortcuts app with IFTTT**

![](/assets/c3150cdc85dd/1*e9ld6Qn7D64CG-DZA1vAsA.jpeg)

First, go to "My" -> "Lab Features" -> "iOS Shortcuts" -> "Add Xiaomi Scene to Shortcuts"

Open the system's built-in "[Shortcuts](https://apps.apple.com/tw/app/%E6%8D%B7%E5%BE%91/id915249334){:target="_blank"}" app (if you can't find it, please search and download it from the App Store)

![](/assets/c3150cdc85dd/1*-rjtmZ6PHzSzOoBvjJ-FJQ.jpeg)

Click the "+" in the upper right corner to create a shortcut -> Click the "Done" button below to complete the settings -> Name -> Enter a name (it is recommended to use English, as it will be used later)

![](/assets/c3150cdc85dd/1*5aUsslYvZvlFiSQYJrGgRw.jpeg)

Return to the add shortcut page -> In the lower menu, search for "Xiaomi" -> Add the corresponding scene set in Xiaomi, and turn off "Show When Running," otherwise the Xiaomi app will open after execution.

> \*If you can't find Xiaomi, please return to the Xiaomi app and try toggling "My" -> "Lab Features" -> "iOS Shortcuts" -> "Add Xiaomi Scene to Shortcuts," then close and reopen the "Shortcuts" app.

At this point, we need to use a third-party app. We will use IFTTT to create GPS entry and exit background triggers. Search for "[IFTTT](https://apps.apple.com/us/app/ifttt/id660944635){:target="_blank"}" in the App Store to download and install.

![](/assets/c3150cdc85dd/1*5tXhFP4uT1ySSFAZnnDQGw.jpeg)

Open IFTTT, log in to your account, switch to the "My Applets" tab, click the "+" in the upper right corner to add -> Click "+this" -> Search for "Location" -> Choose whether to enter or leave

![](/assets/c3150cdc85dd/1*2vs32eIxtEmvqzxOsDLGEw.jpeg)

Set the location -> Click "Create trigger" to confirm -> Then click below "+that" -> Search for "notification"

![](/assets/c3150cdc85dd/1*bVmWLH5tUcko5eeOmnR3kQ.jpeg)

Select "Send a rich notification from the IFTTT app":

Title = Notification Title, Message = Notification Content

For Link URL, please enter: shortcuts://run-shortcut?name= **_Shortcut Name_**

That's why it's better to set the shortcut name in English.

-> Click "Create action" -> You can click "Edit title" to set the name.

```markdown
-> "Finish" saved successfully!

**The next time you leave/enter the set area, you will receive a triggered notification (with an error margin of about 100 meters). Clicking on the notification will automatically execute the Mi Home scene!**

![Clicking the notification will automatically execute the scene in the background](/assets/c3150cdc85dd/1*a9zXd_JSpz9IKInJlPoJ1w.png)

Clicking the notification will automatically execute the scene in the background

**Siri voice control:**

Since Mi Home is not an Apple built-in app, additional setup is required to support Siri voice control:

![](/assets/c3150cdc85dd/1*lyzEU2cKxafbnXkWnR7ltg.jpeg)

In the "Smart" Tab -> "Add to Siri" -> Select "Target Scene" and press "Add to Siri"

-> Click the red record command (EX: Turn off the lights) -> Done!

You can now directly call and control the scene in Siri!
### Summary

To summarize the numerous setup steps mentioned above:

For a good experience, you need to spend a lot of money on appliances with the HomeKit logo (which eliminates the need to keep a Mac running HomeBridge, allowing for perfect integration with the native Apple Home features). You also need to purchase a HomePod or Apple TV, or an iPad as a home hub; both HomeKit appliances and home hubs are not cheap!

If you have technical skills, consider using third-party smart devices (like Mi Home) paired with a Raspberry Pi to create a HomeBridge.

If you are like me, just an ordinary person, then using Mi Home directly is the most convenient. Currently, my usage habit is to execute scene operations from the notification center when I arrive home or leave; the Shortcuts app paired with IFTTT is only used for notification reminders, in case I forget sometimes.

Currently, the experience has not reached the ideal target, but it is already a step closer to **"smart home"!**
### Advanced Section

[**Demonstration of using Raspberry Pi as a HomeBridge host to connect all Mi Home appliances to HomeKit**](../99db2a1fbfe5/)
### Further Reading
1. [New purchases for Xiaomi smart home (AI speaker, temperature and humidity sensor, weight scale 2, DC inverter fan)](../bcff7c157941/)
2. [Using the "Shortcuts" automation feature with Mi Home smart home on iOS ≥ 13.1 (directly using the built-in Shortcuts app on iOS ≥ 13.1 for automation)](../21119db777dd/)
3. [Mi Home APP / Xiao Ai speaker regional issues](../94a4020edb82/)

If you have any questions or suggestions, feel free to [contact me](https://www.zhgchg.li/contact){:target="_blank"}.

_[Post](https://medium.com/zrealm-life/%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E5%88%9D%E9%AB%94%E9%A9%97-apple-homekit-%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6-c3150cdc85dd){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
```

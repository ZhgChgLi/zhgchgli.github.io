---
author: ZhgChgLi
categories:
- ZRealm Robotic Process Automation
date: 2024-10-12T13:10:46.227+0000
description: Discover how users can seamlessly transfer their Line Notify personal
  alerts to Telegram Bot, a free and more powerful notification service, with this
  step-by-step 10-minute guide for improved messaging efficiency.
image:
  path: /assets/6922e90ba90c/1*r59nJAx__InU09hYMenePg.jpeg
last_modified_at: 2024-10-20T08:57:41.630+0000
render_with_liquid: false
tags:
- iOS App Development
- LINE
- Telegram
- Google Apps Script
- Automation
title: Line Notify to Telegram Bot Migration｜Fast 10-Minute Guide for Enhanced Notifications
---

### 10-Minute Quick Transfer from Line Notify to Telegram Bot Notifications

Step-by-Step Guide to Migrate Line Notify Personal Notification Service to the Also Free and More Powerful Telegram Bot

![Photo by [Lana Codes](https://unsplash.com/@lanacodes?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash){:target="_blank"}](/assets/6922e90ba90c/1*r59nJAx__InU09hYMenePg.jpeg)

Photo by [Lana Codes](https://unsplash.com/@lanacodes?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash){:target="_blank"}

#### [LINE Notify Service Termination Announcement](https://notify-bot.line.me/closing-announce){:target="_blank"}

> *Thank you for using LINE Notify for a long time.*

> *Since its launch in September 2016, LINE Notify has been dedicated to serving developers. To provide better services and focus resources on similar future products, we have decided to end this service on March 31, 2025. We sincerely thank all users who have supported and used LINE as a notification integration service over the years.*

> *If you still need to use LINE to send notifications to users, it is recommended to switch to the more feature-rich Messaging API.*

Excerpted from [Line Notify Official Website](https://notify-bot.line.me/closing-announce){:target="_blank"}, Line announced on 2024/10/08 that Line Notify will be completely shut down on 2025/04/01. To continue using Line for message notifications, only the paid [Message API](https://developers.line.biz/en/services/messaging-api/){:target="_blank"} can be used.

The advantage of Line Notify is that it is very easy to integrate, making it convenient and useful for personal notification bots. Some Line Bots or third-party services also use Line Notify for notifications (e.g., Louisa, your order notification feature). However, it has several drawbacks, such as limited message content, no group segmentation (all messages are sent to the Line Notify Bot), and message length restrictions, among others.

With Line Notify announcing its termination, it also gave me an opportunity to migrate to other communication and notification services:

- Slack: The free version only keeps messages for 30 days. My notifications are more personal, so using Slack feels a bit like overkill. (For sending messages with Slack, refer to my previous article: [Slack & ChatGPT Integration](../bd94cc88f9c9/))

- Discord: My notifications are more personal, which feels a bit like overkill.

- **Telegram: Free, almost unlimited use.**

For me, Telegram's messaging service better meets my original Line Notify usage needs. I need a channel that can receive notifications, preferably with different channels for different needs. The more diverse the acceptable content and formats, the better, and it should be easy and quick to integrate. Telegram meets all these requirements and also supports interactive features with bots.

#### Results

First, here is the final result image (using [Github Star notification, Repo Stats notification as examples](../382218e15697/)):

![](/assets/6922e90ba90c/1*1kHJu5yZMUST-wrna6KqkA.gif)

- ✅ When someone stars the Repo, it triggers a Webhook -> Google Apps Script -> Telegram Bot to send a notification to Telegram — Github Stats Group

- ✅ Google Apps Script Daily Schedule -> Fetch Github Repo Stats -> Telegram Bot Sends Notification to Telegram — Github Stats Group

- ✅ Use the `/update` Telegram Bot Command to trigger fetching Github Repo Stats status -> Telegram Bot sends notification to Telegram — Github Stats Group

#### Compared to the original Line Notify

![](/assets/6922e90ba90c/1*mTycFPe7rPh1qc0BagUXdw.png)

- ❌ All messages that cannot be categorized or grouped are sent to Line Notify

- ❌ Cannot set special settings for individual messages (such as notification sound, mute…)

- ❌ Unable to input messages for interaction

#### Table of Contents

- Setting up a Telegram Bot

- Migrating Line Notify Message Sending to Telegram Bot (Google Apps Script)

- Interacting with Telegram Bot (Commands) using Google Apps Script

### (1/2) Setting up Telegram Bot

Applying for a Telegram Bot is very simple; you don't even need to open a webpage. Just interact with the official [BotFather bot](https://t.me/BotFather){:target="_blank"}.

#### Step 1. Apply for a Telegram Bot

After installing and registering for the Telegram service, click to add [BotFather bot](https://t.me/BotFather){:target="_blank"} as a friend.

![](/assets/6922e90ba90c/1*-3qluwPXk-HeGRCTOd-EAA.png)

![](/assets/6922e90ba90c/1*QfzbJYQ2vVI2CNvvLU7r_w.png)

1. Open and join [BotFather bot](https://t.me/BotFather){:target="_blank"}

2. After joining, send the message "/newbot" to create your bot.

3. Enter your bot name

4. Enter your bot username (must be unique and end with `bot`, for example, mine is `zhgchgli_bot`)

5. Your bot link, click to start using (e.g. t.me/harrytest56_bot)

6. Get your `BOT_API_Token`, **please keep it safe** ⚠️⚠️⚠️

Click the link obtained in step 4 to start using the Bot:

![](/assets/6922e90ba90c/1*5q5PE3D9nwQPlYoY8SqCHQ.png)

![](/assets/6922e90ba90c/1*NKz9GSDlGov9q7xIlHYlCQ.png)

![](/assets/6922e90ba90c/1*VU7EyeZL2BpVnLRHQBNOPQ.png)

Currently, there are no features available. You can tap the top right corner Info to edit your name or upload a profile picture.

#### Step 2. Create a Telegram Notification Group & Add the Bot Account

> *I want different types of personal notifications to be sent to different Groups, but **here only one My Notify Group is created for the Demo**.*

> *You can create different Groups based on actual needs and add or configure bots step by step.*

![](/assets/6922e90ba90c/1*geb_lwnJOUXiuLHvguuXjQ.png)

![](/assets/6922e90ba90c/1*bfXDTACy4mW3LZlq6ErKzQ.png)

![](/assets/6922e90ba90c/1*ZmsCLqEZbNN3IS2uoZV8cw.png)

1. New Group

2. Search for your bot account & click Join

3. Set Group Name and Avatar

#### Step 3. Obtain Group Chat ID

Telegram Bot API does not provide a direct endpoint to get the list of Groups or Group Chat IDs. You can only obtain the bot's message list through `/getUpdates` and extract the Group Chat IDs from there:

**Request:**

```rust
curl 'https://api.telegram.org/bot你的_BOT_API_Token/getUpdates'
```

- The Telegram API format is `https://api.telegram.org/bot` **your_BOT_API_Token** `/getUpdates`. The BOT API Token string must be prefixed with the `bot` string.

- Example: `curl 'https://api.telegram.org/bot7814194578:AAEWpPJvKn06ID7D9FjV65aDKQLkGkz8cc8/getUpdates'`

**Response:**

```json
{
    "ok": true,
    "result": [
        {
            "update_id": 706454235,
            "my_chat_member": {
                "chat": {
                    "id": -4532420331,
                    "title": "My Nofify",
                    "type": "group",
                    "all_members_are_administrators": false
                },
                "from": {
                    "id": 986128250,
                    "is_bot": false,
                    "first_name": "Harry",
                    "last_name": "Li",
                    "username": "zhgchgli"
                },
                "date": 1728726861,
                "old_chat_member": {
                    "user": {
                        "id": 7814194578,
                        "is_bot": true,
                        "first_name": "Harry Test",
                        "username": "harrytest56_bot"
                    },
                    "status": "left"
                },
                "new_chat_member": {
                    "user": {
                        "id": 7814194578,
                        "is_bot": true,
                        "first_name": "Harry Test",
                        "username": "harrytest56_bot"
                    },
                    "status": "member"
                }
            }
        },
        {
            "update_id": 706454236,
            "message": {
                "message_id": 1,
                "from": {
                    "id": 986128250,
                    "is_bot": false,
                    "first_name": "Harry",
                    "last_name": "Li",
                    "username": "zhgchgli"
                },
                "chat": {
                    "id": -4532420331,
                    "title": "My Nofify",
                    "type": "group",
                    "all_members_are_administrators": true
                },
                "date": 1728726861,
                "group_chat_created": true
            }
        },
        {
            "update_id": 706454237,
            "message": {
                "message_id": 2,
                "from": {
                    "id": 986128250,
                    "is_bot": false,
                    "first_name": "Harry",
                    "last_name": "Li",
                    "username": "zhgchgli"
                },
                "chat": {
                    "id": -4532420331,
                    "title": "My Nofify",
                    "type": "group",
                    "all_members_are_administrators": true
                },
                "date": 1728726864,
                "new_chat_photo": [
                    {
                        "file_id": "AgACAgUAAxkBAAMCZwpHUEaLZSvFFYu8GiO-8qI_jVYAApfAMRu0B1BUJP-4u2wF6scBAAMCAANhAAM2BA",
                        "file_unique_id": "AQADl8AxG7QHUFQAAQ",
                        "file_size": 5922,
                        "width": 160,
                        "height": 160
                    },
                    {
                        "file_id": "AgACAgUAAxkBAAMCZwpHUEaLZSvFFYu8GiO-8qI_jVYAApfAMRu0B1BUJP-4u2wF6scBAAMCAANiAAM2BA",
                        "file_unique_id": "AQADl8AxG7QHUFRn",
                        "file_size": 15097,
                        "width": 320,
                        "height": 320
                    },
                    {
                        "file_id": "AgACAgUAAxkBAAMCZwpHUEaLZSvFFYu8GiO-8qI_jVYAApfAMRu0B1BUJP-4u2wF6scBAAMCAANjAAM2BA",
                        "file_unique_id": "AQADl8AxG7QHUFQB",
                        "file_size": 37988,
                        "width": 640,
                        "height": 640
                    }
                ]
            }
        }
    ]
}
```

You can find the corresponding nested JSON data for Group Name + type=group in the response, where the id is the Group Chat ID:

```json
"chat": {
  "id": -4532420331,
  "title": "My Nofify",
  "type": "group",
  "all_members_are_administrators": false
}
```

- `Group Chat Id` = `-4532420331`

> ***⚠️⚠️⚠️️*** *If your response is empty `{ "ok": true, "result": [] }`, please try sending a message in your group (e.g. `Hello`) and then call the API again. It should work.*

#### Step 4. Send Message

We can use `/sendMessage` to send messages to a Group.

**Request:**

```rust
curl 'https://api.telegram.org/bot你的_BOT_API_Token/sendMessage' \
--form 'chat_id="Group Chat Id"' \
--form 'text="Message content"'
```

**Example:**

```rust
curl 'https://api.telegram.org/bot7814194578:AAEWpPJvKn06ID7D9FjV65aDKQLkGkz8cc8/sendMessage' \
--form 'chat_id="-4532420331"' \
--form 'text="test"'
```

- [**API parameters can be found in the official documentation**](https://core.telegram.org/bots/api#sendmessage){:target="_blank"}

**Response & Result:**

```json
{
  "ok": true,
  "result": {
    "message_id": 5,
    "from": {
      "id": 7814194578,
      "is_bot": true,
      "first_name": "Harry Test",
      "username": "harrytest56_bot"
    },
    "chat": {
      "id": -4532420331,
      "title": "My Nofify",
      "type": "group",
      "all_members_are_administrators": true
    },
    "date": 1728727847,
    "text": "test"
  }
}
```

- Sent successfully and received the above response

![](/assets/6922e90ba90c/1*WG4ngRKKac1cICU4NvoEJA.png)

- Replying in the Telegram Group will display the message content just sent.

### (2/2) Migrate Line Notify Message Sending to Telegram Bot (Google Apps Script)

My personal notification bot service is implemented using Google Apps Script, so I will use Google Apps Script (JavaScript-like) as an example for conversion.

#### Original Line Notify Sending Code:

```javascript
const lineToken = "XXXX";

function sendLineNotifyMessage(message) {
  var url = 'https://notify-api.line.me/api/notify';
  
  var options = {
    method: 'post',
    headers: {
      'Authorization': 'Bearer '+lineToken
    },
    payload: {
      'message': message
    }
  }; 
  const response = UrlFetchApp.fetch(url, options);
  Logger.log(response.getContentText());
}
```

You can see it is very simple, convenient, and easy to use…

#### Code for migrating to a Telegram Bot:

```javascript
const telegramToken = "your_BOT_API_Token";
const TelegramChatId = {
  GA: -123456,
  GITHUB: -123457,
  MEDIUM: -123458
};

function sendNotifyMessage(message, chatId) {
  var url = "https://api.telegram.org/bot"+telegramToken+"/sendMessage";
  
  const payload = {
    "chat_id": chatId,
    "text": message,
    "parse_mode": "Markdown"
  } 
  const options = {
    'method': 'post',
    'contentType': 'application/json',
    'muteHttpExceptions': true,
    'payload': JSON.stringify(payload)
  };

  const response = UrlFetchApp.fetch(url, options);
  Logger.log(response.getContentText());
}
```

Information obtained from the previous Telegram Bot setup steps.

- `telegramToken` = `your_BOT_API_Token`

- `TelegramChatId` here is a custom method I defined because, in practice, I want different notifications to be sent to different groups. Therefore, I created a structure to manage target groups and their `Group Chat Id`.

`/sendMessage` [**API parameters, for more parameters and details please refer to the official documentation**](https://core.telegram.org/bots/api#sendmessage){:target="_blank"}, below are the parameters I commonly use:

- text: Message content (required)

- chat_id: Target Group Chat Id (required)

- parse_mode: Message content parsing method, here I specify `Markdown`

- disable_web_page_preview: Whether to disable link previews in the message content. Setting this to `true` here will turn off previews, making the message display simpler.

**Usage:**

```scss
sendNotifyMessage("Hello", TelegramChatId.MEDIUM) // Send Hello message to MEDIUM Group Chat Id
sendNotifyMessage("Hello", -1234) // Send Hello message to -1234 Group Chat Id
```

### Results

Using my [Github Repo Star Notifier bot](../382218e15697/) as an example:

![](/assets/6922e90ba90c/1*yJDcnb7n1fIJAM-AV1Qk6w.png)

![](/assets/6922e90ba90c/1*5kBotSkNf9nN8NV-lCwZoQ.png)

- Verification successful! When someone stars my Repo, the notification is correctly sent to the Telegram Group! 🎉🎉🎉

- For the setup, you can refer to my previous article "[Using Google Apps Script in Three Steps to Create a Free Github Repo Star Notifier](../382218e15697/)"

#### Set Custom Sounds or Mute

![](/assets/6922e90ba90c/1*kQsYkefi0SD7e9t4PerdRA.jpeg)

Even better than Line Notify is that we can set different notification sounds or mute options for different groups.

### Interacting with Telegram Bot (Command) x Using Google Apps Script

Besides replacing the Notify function, Telegram Bot can also easily implement user interaction features — Telegram Bot Command.

Back to my use case, my bot sends notification messages to me either on a schedule or triggered by a Webhook; but sometimes I want to manually trigger the bot to get the current result immediately. Previously, Line Notify did not have this feature. With Google Apps Script, the only option was to forcibly set up a URL that triggers the bot whenever opened, which is not user-friendly.

Telegram Bot Command lets me directly enter command messages and have the bot immediately perform the tasks I want.

> *This article uses [Google Apps Script](https://script.google.com/home){:target="_blank"} as an example. For a detailed introduction to Google Apps Script, please refer to my previous article “[**Using Google Apps Script to Achieve Google Services RPA Automation**](../f6713ba3fee3/)”.*

#### Step 1. Implement Command Handling Logic Using Google Apps Script

- Go to the Google Apps Script homepage

- Top left "Create New Project"

- Click "Untitled Project" to enter the project name, e.g. `Telegram`

- Paste the basic code:

![](/assets/6922e90ba90c/1*ZeW4O7Mdgcyj0VsSLDpxeA.png)

```javascript
const telegramToken = "your_BOT_API_Token";

function doPost(e) {
  const content = JSON.parse(e.postData.contents);
  if (content.message && content.message.text) {
    const command = content.message.text.split(' ')[0];
    const chatId = content.message.chat.id;

    if (command.startsWith("/update")) { 
      // Received /update command
      // Handle your tasks here... then respond...
      sendNotifyMessage("Hello.....\nCommand:"+command, chatId);
    }
  }

  return HtmlService.createHtmlOutput("OK!");
}

function sendNotifyMessage(message, chatId) {
  var url = "https://api.telegram.org/bot"+telegramToken+"/sendMessage";
  
  const payload = {
    "chat_id": chatId,
    "text": message,
    "disable_web_page_preview": true,
    "parse_mode": "Markdown"
  } 
  const options = {
    'method': 'post',
    'contentType': 'application/json',
    'muteHttpExceptions': true,
    'payload': JSON.stringify(payload)
  };

  const response = UrlFetchApp.fetch(url, options);
  Logger.log(response.getContentText());
}
```

- `telegramToken` = `your_BOT_API_Token`

- In the demo program above, when receiving a POST request with the Command parameter set to `/update`, it responds with `你好…` to simulate processing and replying after receiving the command.

#### Step 2. Complete Google Apps Script Web Deployment

![](/assets/6922e90ba90c/1*JfJfs4bYsSfsZYGVkApCSg.png)

![](/assets/6922e90ba90c/1*TwSm45_Xwv4p7z4o9HJz2w.png)

![](/assets/6922e90ba90c/1*7RLJXZ3APnEI4V9bKqp3eg.png)

- Top right corner "Deploy" -> "Add Deployment Task"

- Top left corner "Settings" -> "Web Applications"

- Who can access if "Everyone" is selected?

![](/assets/6922e90ba90c/1*aRBaOOnhwBeK05l9e3Yv8g.png)

![](/assets/6922e90ba90c/1*FtY8NL36peDbOB4JWdzhDA.png)

![](/assets/6922e90ba90c/1*e2E41TCEf5O7nSOnVzpgbw.png)

- Add a deployment task and select "Grant Access"

- Exit the account window and select your Google login account

- A warning window will pop up. Select "Advanced" -> "Go to `Project Name` (unsafe)"

- Select "Allow"

![](/assets/6922e90ba90c/1*n0iO-XSPqifUKUkIgVQUSg.png)

- Web application URL: `Your Webhook URL` **.**  
  Copy it.  
  e.g. `https://script.google.com/macros/s/AKfycbx2oFv-eB4LezdOk3P3aoEZVhx_PI6n_YnTNP7WVVQSaiRU52di5bKNThsvIZxus3Si/exec`

> *For deploying, updating, using, and debugging Google Apps Script web applications, please refer to my previous article "[**Automating Google Services with Google Apps Script RPA**](../f6713ba3fee3/)".*

> ***⚠️⚠️⚠️ Please note, if the Google Apps Script code changes, you must click Deploy -> Manage Deployments -> Select Create New Version for the changes to take effect. For details, please refer to the article above.***

> ***⚠️⚠️⚠️Please note, if the Google Apps Script code is changed, you must click Deploy -> Manage Deployments -> Select Create New Version for the changes to take effect. For details, please refer to the article above.***

> ***⚠️⚠️⚠️Please note, if the Google Apps Script code is changed, you must click Deploy -> Manage Deployments -> Select Create New Version for the changes to take effect. For details, refer to the article above.***

#### Step 3. Register Webhook

Use the Telegram API `/setWebhook` to register your Webhook URL.

**Request:**

```rust
curl --location 'https://api.telegram.org/你的_BOT_API_Token/setWebhook' \
--form 'url="Your Webhook URL"'
```

**Response:**

```json
{
    "ok": true,
    "result": true,
    "description": "Webhook was set"
}
```

#### Test

![](/assets/6922e90ba90c/1*wNhksFLSip5DC0rXqMA_0A.png)

![](/assets/6922e90ba90c/1*d_B3h3C30vI61p3ALP77yw.png)

- We respond based on different Chat IDs, so we can reply whether it's a 1:1 chat with the bot or a group chat that includes the bot.

- Success 🎉🎉🎉

### Next:

- [Simple 3 Steps — Build a Free GA4 Automated Data Notification Bot](../1e85b8df2348/)

### Other Google Apps Script Automation Articles

- [Automate Google Services with Google Apps Script RPA](../f6713ba3fee3/)

- [Slack & ChatGPT Integration](../bd94cc88f9c9/)

- [Using Google Apps Script to Create a Free Github Repo Star Notifier in Three Steps](../382218e15697/)

#### Notes

![](/assets/6922e90ba90c/1*zOFjvO5SSwbJgFL8kMff0w.png)

This is also my 100th article on Medium (first published in October 2018 [first article](../b7a3fb3d5531/), 6 years ago). I will keep persevering and working hard. I will share detailed insights and data once I reach 1,000 followers (currently 925 as of October 2024) or 1,000,000 total views (currently 984,549 as of October 2024).

If you have any questions or feedback, feel free to [contact me](https://www.zhgchg.li/contact){:target="_blank"}.

*[Post](https://medium.com/zrealm-robotic-process-automation/10-%E5%88%86%E9%90%98%E5%BF%AB%E9%80%9F%E7%A7%BB%E8%BD%89-line-notify-%E5%88%B0-telegram-bot-%E9%80%9A%E7%9F%A5-6922e90ba90c){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}.*
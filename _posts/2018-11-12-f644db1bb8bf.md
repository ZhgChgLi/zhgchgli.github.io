---
title: iOS â‰¥ 12 åœ¨ä½¿ç”¨è€…çš„ã€Œè¨­å®šã€ä¸­å¢åŠ ã€ŒAPPé€šçŸ¥è¨­å®šé ã€æ·å¾‘ (Swift)
author: ZhgChgLi
date: 2018-11-12T22:38:42.897Z
categories: ZRealm Dev.
tags: [ios-app-development,ios,swift,push-notification,ios-12]
---

### iOS â‰¥ 12 åœ¨ä½¿ç”¨è€…çš„ã€Œè¨­å®šã€ä¸­å¢åŠ ã€ŒAPPé€šçŸ¥è¨­å®šé ã€æ·å¾‘ (Swift)

é™¤äº†å¾ç³»çµ±é—œé–‰é€šçŸ¥ï¼Œè®“ä½¿ç”¨è€…é‚„æœ‰å…¶ä»–é¸æ“‡
#### ç·Šæ¥è‘—å‰ä¸‰ç¯‡æ–‡ç« ï¼š
- [iOS â‰¥ 10 Notification Service Extension æ‡‰ç”¨ (Swift)](../cb6eba52a342)
- [ä»€éº¼ï¼ŸiOS 12 ä¸éœ€ä½¿ç”¨è€…æˆæ¬Šå°±èƒ½å‚³é€æ¨æ’­é€šçŸ¥(Swift)](../ade9e745a4bf)
- [å¾ iOS 9 åˆ° iOS 12 æ¨æ’­é€šçŸ¥æ¬Šé™ç‹€æ…‹è™•ç†(Swift)](../fd7f92d52baa)


æˆ‘å€‘ç¹¼çºŒé‡å°æ¨æ’­é€²è¡Œæ”¹é€²ï¼Œä¸ç®¡æ˜¯åŸæœ‰çš„æŠ€è¡“æˆ–æ˜¯æ–°é–‹æ”¾çš„åŠŸèƒ½ï¼Œéƒ½ä¾†å˜—è©¦å˜—è©¦ï¼
### é€™æ¬¡æ˜¯å•¥ï¼Ÿ

iOS â‰¥ 12 å¯ä»¥åœ¨ä½¿ç”¨è€…çš„ã€Œè¨­å®šã€ä¸­å¢åŠ æ‚¨çš„APPé€šçŸ¥è¨­å®šé é¢æ·å¾‘ï¼Œè®“ä½¿ç”¨è€…æƒ³è¦èª¿æ•´é€šçŸ¥æ™‚ï¼Œèƒ½æœ‰å…¶ä»–é¸æ“‡ï¼›å¯ä»¥è·³è½‰åˆ°ã€ŒAPPå…§ã€è€Œä¸æ˜¯å¾ã€Œç³»çµ±é¢ã€ç›´æ¥é—œé–‰ï¼Œã„§æ¨£ä¸å›‰å”†å…ˆä¸Šåœ–ï¼š

![ã€Œè¨­å®šã€->ã€ŒAPPã€->ã€Œé€šçŸ¥ã€->ã€Œåœ¨APPä¸­è¨­å®šã€](/assets/f644db1bb8bf/1*BAdVMElIjgg34meOSdHhOw.gif "ã€Œè¨­å®šã€->ã€ŒAPPã€->ã€Œé€šçŸ¥ã€->ã€Œåœ¨APPä¸­è¨­å®šã€")
ã€Œè¨­å®šã€->ã€ŒAPPã€->ã€Œé€šçŸ¥ã€->ã€Œåœ¨APPä¸­è¨­å®šã€

å¦å¤–åœ¨ä½¿ç”¨è€…æ”¶åˆ°é€šçŸ¥æ™‚ï¼Œè‹¥æ¬²ä½¿ç”¨3D Touchèª¿æ•´è¨­å®šã€Œé—œé–‰ã€é€šçŸ¥ï¼Œæœƒå¤šä¸€å€‹ã€Œåœ¨APPä¸­è¨­å®šã€çš„é¸é …ä¾›ä½¿ç”¨è€…é¸æ“‡

![ã€Œé€šçŸ¥ã€->ã€Œ3D Touchã€->ã€Œâ€¦ã€->ã€Œé—œé–‰â€¦ã€->ã€Œåœ¨APPä¸­è¨­å®šã€](/assets/f644db1bb8bf/1*KMKbYQU3nPfF9XpMS5NbPQ.gif "ã€Œé€šçŸ¥ã€->ã€Œ3D Touchã€->ã€Œâ€¦ã€->ã€Œé—œé–‰â€¦ã€->ã€Œåœ¨APPä¸­è¨­å®šã€")
ã€Œé€šçŸ¥ã€->ã€Œ3D Touchã€->ã€Œâ€¦ã€->ã€Œé—œé–‰â€¦ã€->ã€Œåœ¨APPä¸­è¨­å®šã€
### æ€éº¼å¯¦ä½œï¼Ÿ

é€™éƒ¨åˆ†çš„å¯¦ä½œéå¸¸ç°¡å–®ï¼Œç¬¬ä¸€æ­¥åƒ…éœ€åœ¨è¦æ±‚æ¨æ’­æ¬Šé™æ™‚å¤šè¦æ±‚ä¸€å€‹ **.providesAppNotificationSettings** æ¬Šé™å³å¯
```swift
//appDelegate.swift didFinishLaunchingWithOptions or....
if #available(iOS 12.0, *) {
    let center = UNUserNotificationCenter.current()
    let permissiones:UNAuthorizationOptions = [.badge, .alert, .sound, .provisional,.providesAppNotificationSettings]
    center.requestAuthorization(options: permissiones) { (granted, error) in
        
    }
}
```

![](/assets/f644db1bb8bf/1*_xztNYANTU6ilOXY_qKOKA.png)

åœ¨è©¢å•éä½¿ç”¨è€…è¦ä¸è¦å…è¨±é€šçŸ¥ä¹‹å¾Œï¼Œé€šçŸ¥è‹¥ç‚ºé–‹å•Ÿç‹€æ…‹ä¸‹æ–¹å°±æœƒå‡ºç¾é¸é …å›‰ï¼ˆ **ä¸è«–å‰é¢ä½¿ç”¨è€…æŒ‰å…è¨±æˆ–ä¸å…è¨±** ï¼‰ã€‚
#### ç¬¬äºŒæ­¥ï¼š

ç¬¬äºŒæ­¥ï¼Œä¹Ÿæ˜¯æœ€å¾Œä¸€æ­¥ï¼›æˆ‘å€‘è¦è®“ **appDelegate** éµå®ˆ **UNUserNotificationCenterDelegate** ä»£ç†ä¸¦å¯¦ä½œ **userNotificationCenter(_ center: UNUserNotificationCenter, openSettingsFor notification: UNNotification?)** æ–¹æ³•å³å¯ï¼
```swift
//appDelegate.swift
import UserNotifications
@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?
    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {
        if #available(iOS 10.0, *) {
            UNUserNotificationCenter.current().delegate = self
        }
        
        return true
    }
    //å…¶ä»–éƒ¨ä»½çœç•¥...
}
extension AppDelegate: UNUserNotificationCenterDelegate {
    @available(iOS 10.0, *)
    func userNotificationCenter(_ center: UNUserNotificationCenter, openSettingsFor notification: UNNotification?) {
        //è·³è½‰åˆ°ä½ çš„è¨­å®šé é¢ä½ç½®..
        //EX:
        //let VC = SettingViewController();
        //self.window?.rootViewController.present(alertController, animated: true)
    }
}
```
- åœ¨Appdelegateçš„didFinishLaunchingWithOptionsä¸­å¯¦ç¾ä»£ç†
- Appdelegateéµå®ˆä»£ç†ä¸¦å¯¦ä½œæ–¹æ³•


å®Œæˆï¼ç›¸è¼ƒæ–¼å‰å¹¾ç¯‡æ–‡ç« ï¼Œé€™å€‹åŠŸèƒ½å¯¦ä½œç›¸è¼ƒèµ·ä¾†éå¸¸ç°¡å–® ğŸ†
### ç¸½çµ

é€™å€‹åŠŸèƒ½è·Ÿ [å‰ä¸€ç¯‡](../ade9e745a4bf) æåˆ°çš„å…ˆä¸ç”¨ä½¿ç”¨è€…æˆæ¬Šå°±ç™¼å¹²æ“¾æ€§è¼ƒä½çš„éœéŸ³æ¨æ’­çµ¦ä½¿ç”¨è€…è©¦è©¦æ°´æº«æœ‰é»é¡ä¼¼ï¼

éƒ½æ˜¯åœ¨é–‹ç™¼è€…èˆ‡ä½¿ç”¨è€…ä¹‹å‰æ¶èµ·æ–°çš„æ©‹æ¨‘ï¼Œä»¥å¾€APPå¤ªåµï¼Œæˆ‘å€‘æœƒç›´æ¥é€²åˆ°è¨­å®šé ç„¡æƒ…åœ°é—œé–‰æ‰€æœ‰é€šçŸ¥ï¼Œä½†é€™æ¨£å°é–‹ç™¼è€…ä¾†èªªï¼Œä»¥å¾Œä¸ç®¡å¥½çš„å£çš„æœ‰ç”¨çš„â€¦ä»»ä½•é€šçŸ¥éƒ½ç„¡æ³•å†ç™¼çµ¦ä½¿ç”¨è€…ï¼Œä½¿ç”¨è€…å¯èƒ½ä¹Ÿå› æ­¤éŒ¯éé‡è¦æ¶ˆæ¯æˆ–é™å®šå„ªæƒ ï¼

é€™å€‹åŠŸèƒ½è®“ä½¿ç”¨è€…æ¬²é—œé–‰é€šçŸ¥æ™‚èƒ½æœ‰é€²åˆ°APPèª¿æ•´é€šçŸ¥çš„é¸æ“‡ï¼Œé–‹ç™¼è€…å¯ä»¥é‡å°æ¨æ’­é …ç›®ç´°åˆ†ï¼Œè®“ä½¿ç”¨è€…æ±ºå®šè‡ªå·±æƒ³è¦æ”¶åˆ°ä»€éº¼é¡å‹çš„æ¨æ’­ã€‚

![](/assets/f644db1bb8bf/1*ju98WxxFonEimTx2tEFO3Q.jpeg)

ä»¥ [çµå©šå§APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&mt=8) ä¾†èªªï¼Œä½¿ç”¨è€…è‹¥è¦ºå¾—å°ˆæ¬„é€šçŸ¥å¤ªå¹²æ“¾ï¼Œå¯å€‹åˆ¥é—œé–‰ï¼›ä½†ä¾ç„¶èƒ½æ”¶åˆ°é‡è¦ç³»çµ±æ¶ˆæ¯é€šçŸ¥ï¼
> **p.s å€‹åˆ¥é—œé–‰é€šçŸ¥åŠŸèƒ½æ˜¯æˆ‘å€‘APPæœ¬ä¾†å°±æœ‰çš„åŠŸèƒ½ï¼Œä½†é€éçµåˆiOS â‰¥12çš„æ–°é€šçŸ¥ç‰¹æ€§èƒ½æœ‰æ›´å¥½çš„æ•ˆæœåŠä½¿ç”¨è€…é«”é©—çš„æå‡**


![](/assets/f644db1bb8bf/1*DEOMdPwDxyHca-GnYr8HIQ.jpeg)
[Like Z Realm's work](https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fbutton.like.co%2Fin%2Fembed%2Fzhgchgli%2Fbutton&display_name=LikeCoin&url=https%3A%2F%2Fbutton.like.co%2Fzhgchgli&image=https%3A%2F%2Fstorage.googleapis.com%2Flikecoin-foundation.appspot.com%2Flikecoin_store_user_zhgchgli_main%3FGoogleAccessId%3Dfirebase-adminsdk-eyzut%2540likecoin-foundation.iam.gserviceaccount.com%26Expires%3D2430432000%26Signature%3DgFRSNto%252BjjxXpRoYyuEMD5Ecm7mLK2uVo1vGz4NinmwLnAK0BGjcfKnItFpt%252BcYurx3wiwKTvrxvU019ruiCeNav7s7QUs5lgDDBc7c6zSVRbgcWhnJoKgReRkRu6Gd93WvGf%252BOdm4FPPgvpaJV9UE7h2MySR6%252B%252F4a%252B4kJCspzCTmLgIewm8W99pSbkX%252BQSlZ4t5Pw22SANS%252BlGl1nBCX48fGg%252Btg0vTghBGrAD2%252FMEXpGNJCdTPx8Gd9urOpqtwV4L1I2e2kYSC4YPDBD6pof1O6fKX%252BI8lGLEYiYP1sthjgf8Y4ZbgQr4Kt%252BRYIicx%252Bg6w3YWTg5zgHxAYhOINXw%253D%253D&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=like)

æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ [èˆ‡æˆ‘è¯çµ¡](https://www.zhgchg.li/contact) ã€‚



+-----------------------------------------------------------------------------------+

| **[View original post on Medium](https://medium.com/zrealm-ios-dev/ios-12-%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%80%85%E7%9A%84-%E8%A8%AD%E5%AE%9A-%E4%B8%AD%E5%A2%9E%E5%8A%A0-app%E9%80%9A%E7%9F%A5%E8%A8%AD%E5%AE%9A%E9%A0%81-%E6%8D%B7%E5%BE%91-swift-f644db1bb8bf) - Converted by [ZhgChgLi](https://zhgchg.li)/[ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown)** |

+-----------------------------------------------------------------------------------+

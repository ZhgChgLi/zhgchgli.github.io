---
title: åšé®® iOS 12 CoreMLâ€Šâ€”â€Šä½¿ç”¨æ©Ÿå™¨å­¸ç¿’è‡ªå‹•é æ¸¬æ–‡ç« åˆ†é¡ï¼Œé€£æ¨¡å‹ä¹Ÿè‡ªå·±è¨“ç·´ï¼
author: ZhgChgLi
date: 2018-10-17T23:20:35.448Z
categories: ZRealm Dev.
tags: [swift,ios,machine-learning,natural-language-process,ios-app-development]
---

### åšé®® iOS 12 CoreML â€” ä½¿ç”¨æ©Ÿå™¨å­¸ç¿’è‡ªå‹•é æ¸¬æ–‡ç« åˆ†é¡ï¼Œé€£æ¨¡å‹ä¹Ÿè‡ªå·±è¨“ç·´ï¼

æ¢ç´¢CoreML 2.0ï¼Œå¦‚ä½•è½‰æ›æˆ–è¨“ç·´æ¨¡å‹åŠå°‡å…¶æ‡‰ç”¨åœ¨å¯¦éš›ç”¢å“ä¸Š

æ¥çºŒ [ä¸Šä¸€ç¯‡](../9a9aa892f9a9) é‡å°åœ¨ iOSä¸Šä½¿ç”¨æ©Ÿå™¨å­¸ç¿’çš„ç ”ç©¶ï¼Œæœ¬ç¯‡æ­£å¼åˆ‡å…¥ä½¿ç”¨CoreML

é¦–å…ˆç°¡è¿°ä¸€ä¸‹æ­·å²ï¼Œè˜‹æœåœ¨2017å¹´ç™¼å¸ƒäº†CoreML(åŒ…å«ä¸Šç¯‡æ–‡ç« ä»‹ç´¹çš„Vision) æ©Ÿå™¨å­¸ç¿’æ¡†æ¶ï¼›2018ç·Šæ¥è‘—æ¨å‡ºCoreML 2.0ï¼Œé™¤ [æ•ˆèƒ½æå‡](https://www.appcoda.com.tw/core-ml-2/) å¤–é‚„æ”¯æ´ **è‡ªè¨‚å®¢è£½åŒ–CoreMLæ¨¡å‹** ã€‚
#### å‰è¨€

å¦‚æœä½ åªæ˜¯è½éã€Œæ©Ÿå™¨å­¸ç¿’ã€é€™å€‹åè©è€Œä¸æ¸…æ¥šä»–çš„æ„æ€çš„è©±ï¼Œé€™é‚Šç”¨ä¸€å¥è©±ç°¡å–®èªªæ˜ï¼š
> **ã€Œä¾ç…§ä½ éå¾€çš„ç¶“é©—å»é æ¸¬æœªä¾†åŒæ¨£äº‹æƒ…çš„çµæœã€**
> ä¾‹å¦‚ï¼šæˆ‘åƒè›‹é¤…è¦åŠ ç•ªèŒ„é†¬ï¼Œè²·éå¹¾æ¬¡å¾Œæ—©é¤åº—è€é—†å¨˜å°±æœƒè¨˜å¾—ï¼Œã€Œå¸¥å“¥ï¼ŒåŠ ç•ªèŒ„é†¬ï¼Ÿã€æˆ‘å›ç­”ï¼šã€Œæ˜¯ã€ â€” è€é—†å¨˜é æ¸¬æ­£ç¢ºï¼›è‹¥å›ç­”ã€Œä¸æ˜¯ï¼Œå› ç‚ºæ˜¯è˜¿è””ç³•+è›‹é¤…ã€ â€” è€é—†å¨˜è¨˜å¾—ä¸¦å†ä¸‹æ¬¡é‡åˆ°ç›¸åŒæƒ…æ³ä¿®æ­£ä»–çš„å•é¡Œï¼
> è¼¸å…¥çš„è³‡æ–™ï¼šè›‹é¤…ã€èµ·å¸è›‹é¤…ã€è›‹é¤…+è˜¿è””ç³•ã€è˜¿è””ç³•ã€è›‹
> è¼¸å‡ºçš„è³‡æ–™ï¼šè¦åŠ ç•ªèŒ„é†¬/ä¸åŠ ç•ªèŒ„é†¬
> æ¨¡å‹ï¼šè€é—†å¨˜çš„è¨˜æ†¶è·Ÿåˆ¤æ–·


å…¶å¯¦æˆ‘å°æ©Ÿå™¨å­¸ç¿’çš„èªçŸ¥ï¼Œä¹Ÿæ˜¯åœ¨ç´”ç²¹çŸ¥é“æ¦‚å¿µç†è«–ï¼Œä½†æ²’å¯¦éš›æ·±å…¥äº†è§£éï¼Œå¦‚æœ‰éŒ¯èª¤è«‹å¤§å®¶å¤šå¤šæŒ‡æ•™

æåˆ°é€™å°±è¦é †ä¾¿æ‹œğŸ›ä¸€ä¸‹è˜‹æœå¤§ç¥ï¼ŒæŠŠæ©Ÿå™¨å­¸ç¿’ç”¢å“åŒ–ï¼Œåªè¦çŸ¥é“åŸºæœ¬æ¦‚å¿µå°±èƒ½æ“ä½œï¼Œä¸ç”¨å…·å‚™é¾å¤§çš„çŸ¥è­˜åŸºç¤ï¼Œé™ä½å…¥é–€é–€æª»ï¼Œæˆ‘è‡ªå·±ä¹Ÿæ˜¯åœ¨å¯¦ä½œéé€™å€‹ç¯„ä¾‹å¾Œï¼Œæ‰ç¬¬ä¸€æ¬¡è¦ºå¾—æœ‰æ¥è§¸åˆ°æ©Ÿå™¨å­¸ç¿’çš„è¸å¯¦æ„Ÿï¼Œè®“æˆ‘å°é€™å€‹é …ç›®ç”¢ç”Ÿå¾ˆå¤§çš„èˆˆè¶£ï¼
#### é–‹å§‹

ç¬¬ä¸€æ­¥ï¼Œæœ€é‡è¦çš„ç•¶ç„¶æ˜¯å‰é¢æ‰€æåˆ°çš„ã€Œæ¨¡å‹ã€ï¼Œæ¨¡å‹å¾å“ªä¾†å‘¢ï¼Ÿ

æœ‰ä¸‰ç¨®æ–¹å¼ï¼š
- ç¶²è·¯æ‰¾åˆ¥äººè¨“ç·´å¥½çš„æ¨¡å‹ä¸¦è½‰æˆCoreMLçš„æ ¼å¼


[Awesome-CoreML-Models](https://github.com/likedan/Awesome-CoreML-Models) é€™å€‹GitHubå°ˆæ¡ˆæœé›†å¾ˆå¤šåˆ¥äººè¨“ç·´å¥½çš„æ¨¡å‹

æ¨¡å‹è½‰æ›å¯åƒè€ƒ [å®˜ç¶²](https://developer.apple.com/machine-learning/build-run-models/) æˆ–ç¶²è·¯è³‡æ–™
- è˜‹æœ [Machine Learningå®˜ç¶²](https://developer.apple.com/machine-learning/build-run-models/) æœ€ä¸‹æ–¹çš„ Download Core ML Models ï¼Œå¯ä»¥ä¸‹è¼‰è˜‹æœå¹«æˆ‘å€‘è¨“ç·´å¥½çš„æ¨¡å‹ (ä¸»è¦æ˜¯æ‹¿ä¾†å­¸ç¿’æˆ–æ¸¬è©¦è€Œå·²)
- **é‹ç”¨å·¥å…·è‡ªå·±è¨“ç·´æ¨¡å‹ğŸ†**

#### æ‰€ä»¥ï¼Œèƒ½åšä»€éº¼ï¼Ÿ
- åœ–ç‰‡è¾¨è­˜ **ğŸ†**
- **æ–‡å­—å…§å®¹è­˜åˆ¥åˆ†é¡ğŸ†**
- æ–‡å­—æ–·è©
- æ–‡å­—èªè¨€åˆ¤æ–·
- åè©è­˜åˆ¥


æ–·è©è«‹åƒè€ƒ [åœ¨ iOS App ä¸­é€²è¡Œè‡ªç„¶èªè¨€è™•ç†ï¼šåˆæ¢ NSLinguisticTagger](https://www.appcoda.com.tw/nslinguistictagger/)
### ä»Šæ—¥ä¸»è¦é‡é» â€” æ–‡å­—å…§å®¹è­˜åˆ¥åˆ†é¡ï¼‹ **è‡ªå·±è¨“ç·´æ¨¡å‹**

è¬›ç™½è©±å°±æ˜¯ï¼Œæˆ‘å€‘çµ¦æ©Ÿå™¨ã€Œæ–‡å­—å…§å®¹ã€è·Ÿã€Œåˆ†é¡ã€è¨“ç·´é›»è…¦å°æœªä¾†çš„è³‡æ–™åšåˆ†é¡ï¼ä¾‹å¦‚ï¼šã€Œé»æ“ŠæŸ¥çœ‹æœ€æ–°å„ªæƒ ï¼ã€ã€ã€Œ1000$è³¼ç‰©é‡‘é¦¬ä¸Šé ˜ã€=>ã€Œå»£å‘Šã€ï¼›ã€ŒAlanç™¼é€ä¸€å‰‡è¨Šæ¯çµ¦æ‚¨ã€ã€ã€Œæ‚¨çš„å¸³æˆ¶å³å°‡åˆ°æœŸã€=>ã€Œé‡è¦äº‹é …ã€

å¯¦éš›æ‡‰ç”¨ï¼šåƒåœ¾ä¿¡ä»¶åˆ¤åˆ¥ã€æ¨™ç±¤ç”¢ç”Ÿã€åˆ†é¡é æ¸¬

_p.s ç”±æ–¼åœ–ç‰‡è¾¨è­˜æˆ‘é‚„æ²’æƒ³åˆ°èƒ½è¨“ç·´å®ƒåšä»€éº¼ï¼Œæ‰€ä»¥å°±æ²’å»ç ”ç©¶äº†ï¼›æœ‰èˆˆè¶£çš„æœ‹å‹å¯ä»¥çœ‹ [é€™ç¯‡](https://www.jianshu.com/p/28ed4eff68d1) ï¼Œå®˜æ–¹æœ‰æä¾›åœ–ç‰‡çš„GUIè¨“ç·´å·¥å…· å¾ˆæ–¹ä¾¿ï¼ï¼_

**éœ€æ±‚å·¥å…·ï¼š** MacOS Mojaveâ¬† + Xcode 10

**è¨“ç·´å·¥å…·ï¼š** [BlankSpace007/TextClassiferPlayground](https://github.com/BlankSpace007/TextClassiferPlayground) ï¼ˆå®˜æ–¹åªæä¾› **åœ–ç‰‡çš„GUIè¨“ç·´å·¥å…·** ï¼Œæ–‡å­—çš„è¦è‡ªå·±å¯«ï¼›é€™æ˜¯ç”±ç¶²è·¯å¤§ç¥æä¾›çš„ç¬¬ä¸‰æ–¹å·¥å…·ï¼‰
#### æº–å‚™è¨“ç·´è³‡æ–™ï¼š

![è³‡æ–™çµæ§‹å¦‚ä¸Šåœ–ï¼Œæ”¯æ´.json,.csvæª”](/assets/793bf2cdda0f/1*bqKGHErvqhd6gIKCnvve4Q.png "è³‡æ–™çµæ§‹å¦‚ä¸Šåœ–ï¼Œæ”¯æ´.json,.csvæª”")

æº–å‚™å¥½è¦æ‹¿ä¾†è¨“ç·´çš„è³‡æ–™ï¼Œé€™è£¡ä»¥ç”¨Phpmyadmin(Mysql) åŒ¯å‡ºè¨“ç·´è³‡æ–™
```
SELECT `title` AS `text`,`type` AS `label` FROM `posts` WHERE `status` = '1'
```

![åŒ¯å‡ºæ–¹å¼æ›´æ”¹æˆJSONæ ¼å¼](/assets/793bf2cdda0f/1*fc10j10OzmI2TGemaqlDmw.png "åŒ¯å‡ºæ–¹å¼æ›´æ”¹æˆJSONæ ¼å¼")
```
[
{"type":"header","version":"4.7.5","comment":"Export to JSON plugin for PHPMyAdmin"},
{"type":"database","nameâ€:"db"},
{"type":"table","nameâ€:"posts","databaseâ€:"db","data":
//ä»¥ä¸Šåˆªé™¤
[
  {
     â€œlabelâ€:â€â€,
     â€œtextâ€:â€"
  }
]
//ä»¥ä¸‹åˆªé™¤
}]
```

æ‰“é–‹å‰›ä¸‹è¼‰çš„JSONæª”æ¡ˆï¼Œåªç•™ä¸‹ä¸­é–“DATAçµæ§‹è£¡çš„å…§å®¹
#### ä½¿ç”¨è¨“ç·´å·¥å…·ï¼š

ä¸‹è¼‰å¥½è¨“ç·´å·¥å…·å¾Œï¼Œé»æ“Š TextClassifer.playground æ‰“é–‹ Playground

![é»æ“Šç´…åŒ¡åŸ·è¡Œ->é»æ“Šç¶ åŒ¡åˆ‡æ›Viewé¡¯ç¤º](/assets/793bf2cdda0f/1*ct9AHpetBuEKHDGfRwvMlg.png "é»æ“Šç´…åŒ¡åŸ·è¡Œ->é»æ“Šç¶ åŒ¡åˆ‡æ›Viewé¡¯ç¤º")

![å°‡JSONæª”æ¡ˆæ‹‰å…¥GUIå·¥å…·](/assets/793bf2cdda0f/1*kV_Dh2pP94gUakcmYcI6bQ.png "å°‡JSONæª”æ¡ˆæ‹‰å…¥GUIå·¥å…·")

![æ‰“é–‹ä¸‹æ–¹ConsoleæŸ¥çœ‹è¨“ç·´é€²åº¦ï¼Œçœ‹åˆ°ã€Œæ¸¬è©¦æ­£ç¢ºç‡ã€é€™è¡Œä»£è¡¨å·²å®Œæˆæ¨¡å‹è¨“ç·´](/assets/793bf2cdda0f/1*NIyGqbNaArovIDEPK6Ynhg.png "æ‰“é–‹ä¸‹æ–¹ConsoleæŸ¥çœ‹è¨“ç·´é€²åº¦ï¼Œçœ‹åˆ°ã€Œæ¸¬è©¦æ­£ç¢ºç‡ã€é€™è¡Œä»£è¡¨å·²å®Œæˆæ¨¡å‹è¨“ç·´")

è³‡æ–™å¤ªå¤šå°±è¦è€ƒé©—è€ƒé©—ä½ çš„é›»è…¦è™•ç†èƒ½åŠ›ã€‚

![å¡«å¯«åŸºæœ¬è¨Šæ¯å¾ŒæŒ‰ã€Œä¿å­˜ã€](/assets/793bf2cdda0f/1*-jN91i4v0ijo6_qkCH1qwg.png "å¡«å¯«åŸºæœ¬è¨Šæ¯å¾ŒæŒ‰ã€Œä¿å­˜ã€")

ä¿å­˜ä¸‹è¨“ç·´å¥½çš„æ¨¡å‹æª”æ¡ˆ

![](/assets/793bf2cdda0f/1*ML0yNr3NzRwGfBjIBzCfpg.png)

![CoreML æ¨¡å‹æª”](/assets/793bf2cdda0f/1*WWg3yfrgNastu0U20iiCUQ.png "CoreML æ¨¡å‹æª”")

åˆ°æ­¤ä½ çš„æ¨¡å‹å°±å·²ç¶“è¨“ç·´å¥½å›‰ï¼æ˜¯ä¸æ˜¯å¾ˆå®¹æ˜“

**å…·é«”è¨“ç·´æ–¹å¼ï¼š**
. å…ˆå°‡è¼¸å…¥çš„èªå¥åšæ–·è©(æˆ‘æƒ³çŸ¥é“å©šç¦®éœ€è¦æº–å‚™ä»€éº¼=>æˆ‘æƒ³,çŸ¥é“,å©šç¦®,éœ€è¦,æº–å‚™,ä»€éº¼)ï¼Œå†çœ‹ä»–çš„åˆ†é¡æ˜¯ä»€éº¼åšä¸€é€£ä¸²çš„æ©Ÿå™¨å­¸ç¿’è¨ˆç®—ã€‚
. å°‡è¨“ç·´è³‡æ–™åˆ†çµ„ï¼Œä¾‹å¦‚: 80% æ˜¯æ‹¿ä¾†è¨“ç·´å¦å¤–20%æ˜¯æ‹¿ä¾†æ¸¬è©¦é©—è­‰


åˆ°é€™é‚Šå·²ç¶“å®Œæˆå¤§éƒ¨åˆ†çš„å·¥ä½œï¼Œæ¥ä¸‹ä¾†åªè¦æŠŠæ¨¡å‹æª”åŠ å…¥iOS å°ˆæ¡ˆä¸­ï¼Œå¯«å€‹å¹¾è¡Œç¨‹å¼å°±è¡Œå›‰ã€‚

![å°‡æ¨¡å‹æª”æ¡ˆ(*.mlmodel) æ‹–æ›³/åŠ å…¥å°ˆæ¡ˆä¹‹ä¸­](/assets/793bf2cdda0f/1*4Uc1elBmhEnQ-J8z_RIQHQ.png "å°‡æ¨¡å‹æª”æ¡ˆ(*.mlmodel) æ‹–æ›³/åŠ å…¥å°ˆæ¡ˆä¹‹ä¸­")
#### ç¨‹å¼éƒ¨åˆ†ï¼š
```swift
import CoreML

//
if #available(iOS 12.0, *),let prediction = try? textClassifier().prediction(text: "è¦é æ¸¬çš„æ–‡å­—å…§å®¹") {
    let type = prediction.label
    print("æˆ‘è¦ºå¾—æ˜¯...\(type)")
}
```

**å®Œå·¥ï¼**
#### å¾…æ¢ç´¢å•é¡Œï¼š
. å¯ä»¥æ”¯æŒå†å­¸ç¿’ï¼Ÿ
. å¯ä»¥å°‡mlmodelæ¨¡å‹æª”è½‰æ›åˆ°å…¶ä»–å¹³å°ï¼Ÿ
. èƒ½å†iOSä¸Šè¨“ç·´æ¨¡å‹ï¼Ÿ


ä»¥ä¸Šä¸‰é»ï¼Œç›®å‰æŸ¥åˆ°çš„è³‡æ–™æ˜¯éƒ½ä¸è¡Œã€‚
#### çµèªï¼š

ç›®å‰æˆ‘å°‡å…¶æ‡‰ç”¨åœ¨å¯¦å‹™APPä¸Šï¼Œåšæ–‡ç« ç™¼æ–‡æ™‚é æ¸¬ä»–çš„åˆ†é¡

![[çµå©šå§APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&mt=8)](/assets/793bf2cdda0f/1*pOYPHRwPNLVtikVKzfIqsw.png "[çµå©šå§APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&mt=8)")

æˆ‘æ‹¿å»è¨“ç·´è³‡æ–™ç´„æ‰100ç­†ï¼Œç›®å‰é æ¸¬å‘½ä¸­ç‡ç´„35%ï¼Œä¸»è¦ç‚ºå¯¦é©—æ€§è³ªè€Œå·²ã€‚

â€” â€” â€” â€” â€”

å°±æ˜¯é€™éº¼ç°¡å–®ï¼Œå®Œæˆäººç”Ÿä¸­ç¬¬ä¸€å€‹æ©Ÿå™¨å­¸ç¿’é …ç›®ï¼›å…¶ä¸­èƒŒæ™¯å¦‚ä½•é‹ä½œé‚„æœ‰å¾ˆé•·çš„è·¯å¯ä»¥å­¸ç¿’ï¼Œå¸Œæœ›é€™å€‹é …ç›®èƒ½çµ¦å¤§å®¶ä¸€äº›å•Ÿç™¼ï¼

åƒè€ƒè³‡æ–™ï¼š [WWDC2018ä¹‹Create ML(äºŒ)](https://www.jianshu.com/p/205ee896663f)
[Like Z Realm's work](https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fbutton.like.co%2Fin%2Fembed%2Fzhgchgli%2Fbutton&display_name=LikeCoin&url=https%3A%2F%2Fbutton.like.co%2Fzhgchgli&image=https%3A%2F%2Fstorage.googleapis.com%2Flikecoin-foundation.appspot.com%2Flikecoin_store_user_zhgchgli_main%3FGoogleAccessId%3Dfirebase-adminsdk-eyzut%2540likecoin-foundation.iam.gserviceaccount.com%26Expires%3D2430432000%26Signature%3DgFRSNto%252BjjxXpRoYyuEMD5Ecm7mLK2uVo1vGz4NinmwLnAK0BGjcfKnItFpt%252BcYurx3wiwKTvrxvU019ruiCeNav7s7QUs5lgDDBc7c6zSVRbgcWhnJoKgReRkRu6Gd93WvGf%252BOdm4FPPgvpaJV9UE7h2MySR6%252B%252F4a%252B4kJCspzCTmLgIewm8W99pSbkX%252BQSlZ4t5Pw22SANS%252BlGl1nBCX48fGg%252Btg0vTghBGrAD2%252FMEXpGNJCdTPx8Gd9urOpqtwV4L1I2e2kYSC4YPDBD6pof1O6fKX%252BI8lGLEYiYP1sthjgf8Y4ZbgQr4Kt%252BRYIicx%252Bg6w3YWTg5zgHxAYhOINXw%253D%253D&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=like)

æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ [èˆ‡æˆ‘è¯çµ¡](https://www.zhgchg.li/contact) ã€‚



+-----------------------------------------------------------------------------------+

| **[View original post on Medium](https://medium.com/zrealm-ios-dev/%E5%9A%90%E9%AE%AE-ios-12-coreml-%E4%BD%BF%E7%94%A8%E6%A9%9F%E5%99%A8%E5%AD%B8%E7%BF%92%E8%87%AA%E5%8B%95%E9%A0%90%E6%B8%AC%E6%96%87%E7%AB%A0%E5%88%86%E9%A1%9E-%E9%80%A3%E6%A8%A1%E5%9E%8B%E4%B9%9F%E8%87%AA%E5%B7%B1%E8%A8%93%E7%B7%B4-793bf2cdda0f) - Converted by [ZhgChgLi](https://zhgchg.li)/[ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown)** |

+-----------------------------------------------------------------------------------+

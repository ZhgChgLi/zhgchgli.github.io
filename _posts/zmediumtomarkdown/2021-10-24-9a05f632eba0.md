---
title: iOS éš±ç§èˆ‡ä¾¿åˆ©çš„å‰ä¸–ä»Šç”Ÿ
author: ZhgChgLi
date: 2021-10-24T01:15:55.402Z
categories: ZRealm Dev.
tags: [ios-app-development,privacy,private-relay,apple-privacy,mopcon]
description: Apple éš±ç§åŸå‰‡åŠ iOS æ­·å¹´å°éš±ç§ä¿è­·çš„åŠŸèƒ½èª¿æ•´
render_with_liquid: false
---

### iOS éš±ç§èˆ‡ä¾¿åˆ©çš„å‰ä¸–ä»Šç”Ÿ

Apple éš±ç§åŸå‰‡åŠ iOS æ­·å¹´å°éš±ç§ä¿è­·çš„åŠŸèƒ½èª¿æ•´


![Theme by slidego](/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.png "Theme by slidego"){:target="_blank"}

Theme by [slidego](https://slidesgo.com/theme/cyber-security-business-plan#search-technology&position-3&results-12){:target="_blank"}
### å‰è¨€

é€™æ¬¡å¾ˆæ¦®å¹¸èƒ½åƒåŠ  [MOPCON æ¼”è¬›](https://mopcon.org/2021/schedule/2021028){:target="_blank"} ï¼Œä½†å› ç–«æƒ…é—œä¿‚æ”¹æˆç·šä¸Šç›´æ’­å½¢å¼è »éºæ†¾çš„ï¼Œç„¡æ³•èªè­˜æ›´å¤šæ–°æœ‹å‹ï¼›é€™æ¬¡æ¼”è¬›çš„ä¸»é¡Œæ˜¯ã€ŒiOS éš±ç§èˆ‡ä¾¿åˆ©çš„å‰ä¸–ä»Šç”Ÿã€ä¸»è¦æƒ³è·Ÿå¤§å®¶åˆ†äº« Apple é—œæ–¼éš±ç§çš„åŸå‰‡åŠé€™äº›å¹´ä¾† iOS åŸºæ–¼é€™äº›éš±ç§åŸå‰‡æ‰€åšçš„åŠŸèƒ½èª¿æ•´ã€‚


![iOS éš±ç§èˆ‡ä¾¿åˆ©çš„å‰ä¸–ä»Šç”Ÿ \| Pinkoi, We Are Hiring\!](/assets/9a05f632eba0/1*gYucHdBa4tyd9lX5eyr08w.png "iOS éš±ç§èˆ‡ä¾¿åˆ©çš„å‰ä¸–ä»Šç”Ÿ \| Pinkoi, We Are Hiring\!"){:target="_blank"}

[iOS éš±ç§èˆ‡ä¾¿åˆ©çš„å‰ä¸–ä»Šç”Ÿ](https://mopcon.org/2021/schedule/2021028){:target="_blank"} | [Pinkoi, We Are Hiring!](https://www.pinkoi.com/about/careers){:target="_blank"}

**ç›¸ä¿¡é€™å¹¾å¹´é–‹ç™¼è€…æˆ–æ˜¯ iPhone ç”¨æˆ¶æ‡‰è©²éƒ½å°ä»¥ä¸‹åŠŸèƒ½èª¿æ•´ä¸¦ä¸é™Œç”Ÿï¼š**


![](/assets/9a05f632eba0/1*XyJpqYVWh1PNoMAzWtDnQQ.png)

- **iOS â‰¥ 13ï¼š** æ‰€æœ‰æ”¯æ´ç¬¬ä¸‰æ–¹ç™»å…¥çš„ App éƒ½éœ€è¦å¤šå¯¦ä½œ Sign in with Appleï¼Œå¦å‰‡ç„¡æ³•æˆåŠŸä¸Šæ¶ App
- **iOS â‰¥ 14ï¼š** å‰ªè²¼ç°¿å­˜å–è­¦å‘Š
- **iOS â‰¥ 14.5ï¼š** IDFA å¿…é ˆå…è¨±å¾Œæ‰èƒ½å­˜å–ï¼Œå¹¾ä¹ç­‰åŒå°æ®º IDFA
- **iOS â‰¥ 15** ï¼šPrivate Relayï¼Œä½¿ç”¨ Proxy éš±è—ä½¿ç”¨è€…åŸå§‹ IP ä½å€
- â€¦.é‚„æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œæœƒåœ¨æ–‡ç« å¾Œè·Ÿå¤§å®¶åˆ†äº«

#### Why?

å¦‚æœä¸æ¸…æ¥š Apple çš„éš±ç§åŸå‰‡ï¼Œç”šè‡³æœƒè¦ºå¾—ç‚ºä½• Apple é€™å¹¾å¹´ä¸æ–·åœ°åœ¨è·Ÿé–‹ç™¼è€…ã€å»£å‘Šå•†ä½œå°ï¼Ÿå¾ˆå¤šå¤§å®¶ç”¨å¾—å¾ˆç¿’æ…£çš„åŠŸèƒ½éƒ½è¢«å°é–äº†ã€‚

å†è¿½å®Œã€Œ [WWDC 2021 â€” Appleâ€™s privacy pillars in focus](https://developer.apple.com/videos/play/wwdc2021/10085/){:target="_blank"} ã€åŠã€Œ [Apple privacy white paper â€” A Day in the Life of Your Data](https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf){:target="_blank"} ã€å…©ä»½æ–‡ä»¶å¾Œå¦‚å¤¢åˆé†’ï¼ŒåŸä¾†æˆ‘å€‘æ—©å·²åœ¨ä¸çŸ¥ä¸è¦ºä¸­æ´©æ¼è¨±å¤šå€‹äººéš±ç§ä¸¦ä¸”è®“å»£å‘Šå•†æˆ–ç¤¾ç¾¤åª’é«”è³ºçš„ç›†æ»¿ç¼½æ»¿ï¼Œåœ¨æˆ‘å€‘çš„æ—¥å¸¸ç”Ÿæ´»ä¸­å·²ç¶“é”åˆ°ç„¡å­”ä¸å…¥çš„å¢ƒç•Œã€‚

åƒè€ƒ [Apple privacy white paper](https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf){:target="_blank"} æ”¹å¯«ï¼Œä»¥ä¸‹ä»¥è™›æ§‹äººç‰©å“ˆé‡Œç‚ºä¾‹ï¼›ç‚ºå¤§å®¶è¬›è¿°éš±ç§æ˜¯å¦‚ä½•æ´©æ¼çš„åŠå¯èƒ½é€ æˆçš„å±å®³ã€‚


![é¦–å…ˆæ˜¯å“ˆé‡Œ iPhone ä¸Šçš„ä½¿ç”¨ç´€éŒ„ã€‚](/assets/9a05f632eba0/1*f0F0ypi2F-6_yOTsBmynhg.png "é¦–å…ˆæ˜¯å“ˆé‡Œ iPhone ä¸Šçš„ä½¿ç”¨ç´€éŒ„ã€‚")

é¦–å…ˆæ˜¯å“ˆé‡Œ iPhone ä¸Šçš„ä½¿ç”¨ç´€éŒ„ã€‚

**å·¦é‚Šæ˜¯ç¶²é ç€è¦½ç´€éŒ„ï¼š** å¯ä»¥çœ‹åˆ°åˆ†åˆ¥é€ è¨ªäº†è·Ÿè»Šå­ã€iPhone 13ã€ç²¾å“æœ‰é—œçš„ç¶²ç«™

**å³é‚Šæ˜¯å·²å®‰è£çš„ Appï¼š** æœ‰æŠ•è³‡ã€æ—…éŠã€ç¤¾äº¤ã€è³¼ç‰©ã€é‚„æœ‰å¬°å…’æ”å½±æ©Ÿâ€¦é€™äº› App


![å“ˆé‡Œçš„ç·šä¸‹äººç”Ÿ](/assets/9a05f632eba0/1*u7PRvQK9fyu7iLLdZFvAyQ.png "å“ˆé‡Œçš„ç·šä¸‹äººç”Ÿ")

å“ˆé‡Œçš„ç·šä¸‹äººç”Ÿ

ç·šä¸‹æ´»å‹•æœƒç•™ä¸‹è¨˜éŒ„çš„åœ°æ–¹ä¾‹å¦‚ï¼šç™¼ç¥¨ã€ä¿¡ç”¨å¡åˆ·å¡ç´€éŒ„ã€è¡Œè»Šè¨˜éŒ„å™¨â€¦ç­‰ç­‰
#### çµ„åˆ

ä½ å¯èƒ½æœƒæƒ³èªªï¼Œæˆ‘ç€è¦½ä¸åŒçš„ç¶²ç«™ã€è£ä¸åŒçš„ App (ç”šè‡³æ ¹æœ¬æ²’ç™»å…¥)ã€å†åˆ°ç·šä¸‹æ´»å‹•æ€éº¼å¯èƒ½æœ‰æ©Ÿæœƒè®“æŸå€‹æœå‹™ä¸²èµ·æ‰€æœ‰è³‡æ–™ï¼Ÿ

**ç­”æ¡ˆæ˜¯ï¼šå°±æŠ€è¡“æ‰‹æ®µæ˜¯æœ‰çš„ï¼Œè€Œä¸”ã€Œå¯èƒ½ã€æˆ–æ˜¯ã€Œå·²ç¶“ã€å±€éƒ¨ç™¼ç”Ÿã€‚**


![](/assets/9a05f632eba0/1*t6OJvmXAMsurcn6XuDuGng.png)


å¦‚ä¸Šåœ–æ‰€ç¤ºï¼š
- æœªç™»å…¥æ™‚ç¶²ç«™èˆ‡ç¶²ç«™ä¹‹é–“å¯ä»¥é€é Third-Party Cookieã€IP Address + è£ç½®è³‡è¨Šç®—å‡ºçš„ Fingerprint åœ¨ä¸åŒç¶²ç«™ä¸­è­˜åˆ¥å‡ºåŒå€‹ç€è¦½è€…ã€‚
- ç™»å…¥æ™‚ç¶²ç«™èˆ‡ç¶²ç«™ä¹‹é–“å¯ä»¥é€éè¨»å†Šè³‡æ–™ï¼Œå¦‚å§“åã€ç”Ÿæ—¥ã€é›»è©±ã€Emailã€èº«åˆ†è­‰å­—è™Ÿâ€¦ä¸²èµ·ä½ çš„è³‡æ–™
- App èˆ‡ App ä¹‹é–“å¯ä»¥é€éå–å¾— Device UUID åœ¨ä¸åŒ App ä¸­è­˜åˆ¥å‡ºåŒå€‹ä½¿ç”¨è€…ã€URL Scheme å—…æ¢æ‰‹æ©Ÿä¸Šå…¶ä»–å·²å®‰è£çš„ Appã€Pasteboard åœ¨ App èˆ‡ App é–“å‚³éè³‡æ–™ï¼›å¦å¤–ä¸€æ¨£ä¹Ÿå¯åœ¨ä½¿ç”¨è€…ç™»å…¥å¾Œç”¨è¨»å†Šè³‡æ–™ä¸²èµ·è³‡æ–™ã€‚
- App èˆ‡ç¶²ç«™ä¹‹é–“åŒæ¨£å¯ä»¥ç”¨ Third-Party Cookieã€Fingerprintã€Pasteboard å‚³éè³‡æ–™
- ç·šä¸Šèˆ‡ç·šä¸‹æ´»å‹•çš„ä¸²é€£å¯èƒ½ç™¼ç”Ÿåœ¨ï¼ŒéŠ€è¡Œç«¯è’é›†ä¿¡ç”¨å¡æ¶ˆè²»è¨˜éŒ„ã€è¨˜å¸³ Appã€ç™¼ç¥¨è’é›† Appã€è¡Œè»Šè¨˜éŒ„å™¨ Appâ€¦ç­‰ç­‰ï¼Œéƒ½æœ‰æ©ŸæœƒæŠŠç·šä¸‹æ´»å‹•èˆ‡ç·šä¸Šè³‡æ–™ä¸²æ¥åœ¨ä¸€èµ·

> **_äº‹å¯¦è­‰æ˜ï¼ŒæŠ€è¡“ä¸Šæ˜¯å¯è¡Œçš„ï¼›é‚£ç©¶ç«Ÿèº²åœ¨æ‰€æœ‰ç¶²ç«™ã€App ä¹‹å¾Œçš„ç¬¬ä¸‰æ–¹æ˜¯èª°å‘¢ï¼Ÿ_**


è«¸å¦‚å®¶å¤§æ¥­å¤§çš„ Facebookã€Google éƒ½é å€‹äººå»£å‘Šç²å¾—ä¸å°‘æ”¶ç›Šï¼›è¨±å¤šç¶²ç«™ã€App ä¹Ÿéƒ½æœƒä¸²æ¥ Facebookã€Google SDKâ€¦æ‰€ä»¥ä¸€åˆ‡éƒ½å¾ˆé›£èªªï¼Œé€™é‚„æ˜¯çœ‹å¾—åˆ°ï¼Œæ›´å¤šæ™‚å€™æˆ‘å€‘æ ¹æœ¬ä¸çŸ¥é“ç¶²ç«™ã€App ç”¨äº†å“ªäº›ç¬¬ä¸‰æ–¹å»£å‘Šã€æ•¸æ“šè’é›†æœå‹™ï¼Œåœ¨èƒŒå¾Œå·å·ç´€éŒ„è‘—æˆ‘å€‘çš„ä¸€èˆ‰ä¸€å‹•ã€‚

**æˆ‘å€‘å‡è¨­å“ˆé‡Œæ‰€æœ‰çš„æ´»å‹•ï¼ŒèƒŒå¾Œéƒ½å·è—è‘—åŒä¸€å€‹ç¬¬ä¸‰æ–¹åœ¨é»˜é»˜æ”¶é›†ä»–çš„è³‡æ–™ï¼Œé‚£éº¼åœ¨å®ƒçš„çœ¼è£¡ï¼Œå“ˆé‡Œå¯èƒ½çš„è¼ªå»“å¦‚ä¸‹ï¼š**


![](/assets/9a05f632eba0/1*V1q2Ju6ItSSy80NvScD16Q.png)


å·¦é‚Šæ˜¯å€‹äººè³‡æ–™ï¼Œå¯èƒ½ä¾†è‡ªç¶²ç«™è¨»å†Šè³‡æ–™ã€å¤–é€è³‡æ–™ï¼›å³é‚Šæ˜¯ä¾ç…§å“ˆé‡Œçš„æ´»å‹•ç´€éŒ„æ‰“ä¸Šçš„è¡Œç‚ºã€èˆˆè¶£æ¨™ç±¤ã€‚


![](/assets/9a05f632eba0/1*G71DeU1FmX75U2HGaDy-yg.png)


åœ¨å®ƒçœ¼ä¸­çš„å“ˆé‡Œï¼Œå¯èƒ½æ¯”å“ˆé‡Œé‚„æ›´äº†è§£è‡ªå·±ï¼›é€™äº›è³‡æ–™ç”¨åœ¨ç¤¾äº¤åª’é«”ï¼Œå¯ä»¥è®“ä½¿ç”¨è€…æ›´åŠ æ²ˆæ·ªï¼›ç”¨åœ¨å»£å‘Šä¸Šï¼Œå¯ä»¥åˆºæ¿€å“ˆé‡Œéåº¦æ¶ˆè²»æˆ–æ˜¯ç‡Ÿé€ é³¥ç± æ•ˆæ‡‰(EX: æ¨è–¦ä½ è²·æ–°è¤²å­ï¼Œä½ è²·äº†è¤²å­å°±æœƒè²·åˆé©çš„é‹å­ä¾†ç©¿æ­ï¼Œè²·äº†é‹å­å°±æœƒå†è²·è¥ªå­â€¦æ²’å®Œæ²’äº†)ã€‚

**å¦‚æœä½ è¦ºå¾—ä»¥ä¸Šå·²ç¶“å¤ å¯æ€•äº†ï¼Œé‚„æœ‰æ›´å¯æ€•çš„ï¼š**


![](/assets/9a05f632eba0/1*OctTSsyFfaZc1OdaBjLN5g.png)


æœ‰ä½ çš„å€‹äººè³‡æ–™åˆçŸ¥é“ä½ çš„ç¶“æ¿Ÿç‹€æ³â€¦è¦åšæƒ¡çš„è©±ä¸æ•¢æƒ³åƒï¼Œä¾‹å¦‚ï¼šç¶æ¶ã€ç«Šç›œâ€¦
#### ç›®å‰çš„éš±ç§ä¿è­·æ–¹å¼
- æ³•å¾‹è¦ç¯„ (EX: SGS-BS10012 å€‹è³‡é©—è­‰ã€CCPAã€GDPRâ€¦)
- éš±ç§æ¬Šå”è­°ã€å»è­˜åˆ¥åŒ–


ä¸»è¦é‚„æ˜¯é€éæ³•è¦ç´„æŸï¼›å¾ˆé›£ç¢ºä¿æœå‹™ 100% éš¨æ™‚éµå®ˆã€ç¶²è·¯ä¸Šæƒ¡æ„ç¨‹å¼ä¹Ÿå¾ˆå¤šä¹Ÿé›£ä¿è­‰æœå‹™ä¸æœƒè¢«é§­é€ æˆè³‡æ–™å¤–æ´©ï¼›ç¸½ä¹‹é‚„æ˜¯ã€Œ **è¦åšæƒ¡æŠ€è¡“ä¸Šéƒ½å¯è¡Œï¼Œå–®é æ³•è¦è·Ÿä¼æ¥­è‰¯å¿ƒç´„æŸ** ã€ã€‚

é™¤æ­¤ä¹‹å¤–æ›´å¤šæ™‚å€™ï¼Œæˆ‘å€‘æ˜¯ã€Œè¢«è¿«ã€æ¥å—éš±ç§æ¬Šæ¢æ¬¾çš„ï¼Œç„¡æ³•é‡å°å€‹åˆ¥éš±ç§æˆæ¬Šï¼Œè¦é¦¬æ•´å€‹æœå‹™éƒ½ä¸ç”¨ï¼Œè¦é¦¬å°±æ˜¯ç”¨ä½†è¦æ¥å—å…¨éƒ¨éš±ç§æ¬Šæ¢æ¬¾ï¼›é‚„æœ‰éš±ç§æ¢æ¬¾ä¸é€æ˜ï¼Œä¸çŸ¥é“æœƒæ€éº¼è¢«æ”¶é›†åŠæ‡‰ç”¨ï¼Œæ›´ä¸çŸ¥é“èƒŒå¾Œæœ‰æ²’æœ‰é‚„èº²è‘—ä¸€å€‹ç¬¬ä¸‰æ–¹åœ¨ä½ æ ¹æœ¬ä¸çŸ¥é“æƒ…æ³ä¸‹è’é›†ä½ çš„è³‡æ–™ã€‚

å¦å¤– Apple é‚„æœ‰æåˆ°é—œæ–¼æœªæˆå¹´äººçš„å€‹äººéš±ç§ï¼Œå¤šåŠä¹Ÿéƒ½åœ¨ç›£è­·äººæœªåŒæ„çš„æƒ…æ³ä¸‹è¢«æœå‹™è’é›†ã€‚
### Appleâ€™s privacy principles

çŸ¥é“å€‹äººéš±ç§æ´©éœ²å¸¶ä¾†çš„å±å®³ä¹‹å¾Œï¼Œä¾†çœ‹ä¸€ä¸‹è˜‹æœçš„éš±ç§åŸå‰‡ã€‚


![](/assets/9a05f632eba0/1*3GymtGipI60YZ8qSogRk1A.png)


ç¯€éŒ„è‡ª Apple Privacy White Paper è˜‹æœçš„ç†æƒ³ä¸æ˜¯å®Œå…¨å°æ®ºè€Œæ˜¯å¹³è¡¡ï¼Œä¾‹å¦‚é€™å¹¾å¹´å¾ˆå¤šäººéƒ½æœƒç›´æ¥è£ AD Block å®Œå…¨é˜»æ–·å»£å‘Šï¼Œé€™ä¹Ÿä¸æ˜¯è˜‹æœæƒ³çœ‹åˆ°çš„ï¼›å› ç‚ºå¦‚æœå®Œå…¨æ–·é–‹å°±å¾ˆé›£åšå‡ºæ›´å¥½çš„æœå‹™ã€‚

è³ˆä¼¯æ–¯åœ¨ 2010 å¹´çš„ [All Things Digital Conference](https://money.cnn.com/2018/03/27/technology/steve-jobs-mark-zuckerberg-privacy-2010/index.html){:target="_blank"} èªªéï¼š
> _æˆ‘ç›¸ä¿¡äººæ˜¯è°æ˜çš„ï¼Œæœ‰äº›äººæœƒæ¯”å…¶ä»–äººæ›´æƒ³åˆ†äº«æ•¸æ“šï¼Œæ¯æ¬¡éƒ½å»å•ä»–å€‘ï¼Œè®“ä»–å€‘ç…©åˆ°å«ä½ ä¸è¦å†å•ä»–å€‘äº†ï¼Œè®“ä»–å€‘ç²¾æº–çš„çŸ¥é“ä½ è¦æ€éº¼ä½¿ç”¨ä»–å€‘çš„è³‡æ–™ã€‚ â€”_ translate by [Chun-Hsiu Liu](https://medium.com/u/72361fccaa43){:target="_blank"}



![](/assets/9a05f632eba0/1*i7LbId4pPABbu5GkUXZeHw.png)

> _è˜‹æœç›¸ä¿¡éš±ç§æ˜¯åŸºæœ¬äººæ¬Š_

#### **è˜‹æœçš„å››å€‹éš±ç§åŸå‰‡ï¼š**
- Data Minimizationï¼šåªå–ç”¨ä½ éœ€è¦çš„è³‡æ–™
- On-Device Processingï¼šApple åŸºæ–¼å¼·å¤§çš„è™•ç†å™¨æ™¶ç‰‡ï¼Œå¦‚éå¿…è¦ï¼Œå€‹äººéš±ç§ç›¸é—œè³‡æ–™æ‡‰åœ¨æœ¬åœ°åŸ·è¡Œ
- User Transparency and Controlï¼šè®“ä½¿ç”¨è€…äº†è§£å“ªäº›éš±ç§è³‡è¨Šè¢«è’é›†ï¼Ÿè¢«ç”¨åœ¨å“ªï¼Ÿå¦å¤–ä¹Ÿè¦è®“ä½¿ç”¨è€…èƒ½é‡å°å€‹åˆ¥éš±ç§è³‡æ–™åˆ†äº«é–‹é—œæ§åˆ¶
- Securityï¼šç¢ºä¿è³‡æ–™å„²å­˜ã€å‚³éçš„å®‰å…¨

### iOS åŸºæ–¼ä¿è­·å€‹äººéš±ç§çš„æ­·å¹´åŠŸèƒ½èª¿æ•´

äº†è§£åˆ°å€‹äººéš±ç§æ´©éœ²çš„å±å®³åŠè˜‹æœçš„éš±ç§åŸå‰‡å¾Œï¼Œå›åˆ°æŠ€è¡“æ‰‹æ®µä¸Šï¼›æˆ‘å€‘å¯ä»¥ä¾†çœ‹çœ‹ iOS é€™äº›å¹´ä¾†é‡å°ä¿è­·å€‹äººéš±ç§çš„åŠŸèƒ½èª¿æ•´æœ‰å“ªäº›ã€‚
### ç¶²ç«™èˆ‡ç¶²ç«™ä¹‹é–“

å‰é¢æœ‰æåˆ°
#### **ç¬¬ä¸€ç¨®æ–¹æ³•å¯ä»¥ç”¨ Third-Party Cookie è·¨ç¶²ç«™ä¸²èµ·ç€è¦½è€…è³‡æ–™ï¼š**
> **_ğŸˆ²ï¼Œåœ¨ iOS >= 11 å¾Œçš„ Safari éƒ½å¯¦è£äº† Intelligent Tracking Prevention ( [WebKit](https://webkit.org/blog/7675/intelligent-tracking-prevention/){:target="_blank"} )_**


é è¨­å•Ÿç”¨ï¼Œç€è¦½å™¨æœƒä¸»å‹•è¾¨è­˜ç”¨æ–¼è¿½è¹¤ã€å»£å‘Šçš„ç¬¬ä¸‰æ–¹ Cookie åŠ ä»¥é˜»æ“‹ï¼›ä¸¦ä¸”åœ¨æ¯å¹´çš„ iOS ç‰ˆæœ¬ä¸æ–·åœ°åŠ å¼·è¾¨è­˜ç¨‹å¼é˜²æ­¢éºæ¼ã€‚


![](/assets/9a05f632eba0/1*qlan3n0rzMDRpKsCBXnfSQ.png)


é€é Third-Party Cookie è·¨ç¶²ç«™è¿½è¹¤ä½¿ç”¨è€…é€™æ¢è·¯ï¼Œåœ¨ Safari ä¸ŠåŸºæœ¬ä¸Šå·²ç¶“è¡Œä¸é€šäº†ã€‚
#### **ç¬¬äºŒç¨®æ–¹æ³•æ˜¯ç”¨ IP Address + è£ç½®è³‡è¨Šç®—å‡ºçš„ Fingerprint åœ¨ä¸åŒç¶²ç«™ä¸­è­˜åˆ¥å‡ºåŒå€‹ç€è¦½è€…ï¼š**
> **_ğŸˆ²ï¼ŒiOS >= 15 Private Relay_**


å°¤å…¶åœ¨ Third-Party Cookie è¢«ç¦ä¹‹å¾Œï¼Œæœ‰è¶Šä¾†è¶Šå¤šæœå‹™æ¡ç”¨é€™å€‹æ–¹æ³•ï¼Œè˜‹æœä¹ŸçŸ¥é“â€¦æ‰€å¹¸åœ¨ iOS 15 é€£ IP è³‡è¨Šéƒ½çµ¦ä½ æ··æ·†äº†ï¼


![](/assets/9a05f632eba0/1*4xwPyZo24dZL_B6vuGwbMw.png)


Private Relay æœå‹™æœƒå°‡ä½¿ç”¨è€…çš„åŸå§‹è«‹æ±‚å…ˆéš¨æ©Ÿé€åˆ°è˜‹æœçš„ Ingress Proxyï¼Œå†ç”±è˜‹æœéš¨æ©Ÿåˆ†æ´¾åˆ°åˆä½œ CDN çš„ Egress Proxyï¼Œå†ç”± Egress Proxy å»è«‹æ±‚ç›®æ¨™ç¶²ç«™ã€‚

æ•´å€‹æµç¨‹éƒ½ç¶“éåŠ å¯†åªæœ‰è‡ªå·± iPhone çš„æ™¶ç‰‡è§£çš„é–‹ï¼Œä¹Ÿåªæœ‰è‡ªå·±åŒæ™‚çŸ¥é“ IP èˆ‡è«‹æ±‚çš„ç›®æ¨™ç¶²ç«™ï¼›è˜‹æœçš„ Ingress Proxy åªçŸ¥é“ä½ çš„ IPã€CDN çš„ Egress Proxy åªçŸ¥é“è˜‹æœçš„ Ingress Proxy IP è·Ÿè«‹æ±‚çš„ç›®æ¨™ç¶²ç«™ã€ç¶²ç«™åªçŸ¥é“ CDN çš„ Egress Proxy IPã€‚

å¾æ‡‰ç”¨è§’åº¦ä¾†çœ‹ï¼ŒåŒä¸€å€‹åœ°å€çš„æ‰€æœ‰è£ç½®éƒ½æœƒä½¿ç”¨åŒå€‹å…±äº«çš„ CDN çš„ Egress Proxy IP ä¾†è«‹æ±‚ç›®æ¨™ç¶²ç«™ï¼›ä¹Ÿå› æ­¤ç¶²ç«™ç«¯ç„¡æ³•å†ç”¨ IP ç•¶æˆ Fingerprint è³‡è¨Šã€‚

æŠ€è¡“ç´°ç¯€å¯åƒè€ƒã€Œ [WWDC 2021 â€” Get ready for iCloud Private Relay](https://developer.apple.com/videos/play/wwdc2021/10096/){:target="_blank"} ã€ã€‚
#### **è£œå…… Private Relayï¼š**
- Apple/CDN Provider éƒ½æ²’æœ‰å®Œæ•´ Log å¯è¿½æœ”ï¼š
æŸ¥äº†ä¸‹é€™æ¨£è˜‹æœæ€éº¼é˜²æ­¢è¢«ç”¨åœ¨æƒ¡æ„çš„åœ°æ–¹ï¼Œæ²’æ‰¾åˆ°ç­”æ¡ˆï¼›å¯èƒ½å°±è·Ÿè˜‹æœä¹Ÿä¸æœƒå¹« FBI è§£é–ç½ªçŠ¯ iPhone ä¸€æ¨£æ„æ€å§ï¼›éš±ç§æ˜¯æ‰€æœ‰äººçš„åŸºæœ¬äººæ¬Šã€‚
- é è¨­é–‹å•Ÿï¼Œä¸éœ€ç‰¹åˆ¥é€£æ¥
- ä¸å½±éŸ¿é€Ÿåº¦ã€æ•ˆèƒ½
- **IP æœƒä¿è­‰åœ¨åŒå€‹åœ‹å®¶å’Œæ™‚å€** ï¼ˆä½¿ç”¨è€…å¯é¸æ¨¡ç³ŠåŸå¸‚ï¼‰ã€ç„¡æ³•æŒ‡å®š IP
- **åªå°éƒ¨åˆ†æµé‡æœ‰æ•ˆ** 
iCloud+ ç”¨æˆ¶ï¼šæ‰€æœ‰ Safari ä¸Šçš„æµé‡ + App ä¸­çš„ Insecure HTTP Request
ä¸€èˆ¬ç”¨æˆ¶ï¼šåƒ…å° Safari ä¸Šç¶²ç«™å®‰è£çš„ç¬¬ä¸‰æ–¹è¿½è¹¤å·¥å…·æœ‰æ•ˆ
- **å®˜æ–¹æœ‰æä¾› [CDN Egress IP List](https://mask-api.icloud.com/egress-ip-ranges.csv){:target="_blank"} ä¾›ç¶²ç«™é–‹ç™¼è€…è¾¨èª (ä¸è¦èª¤ Blocking Egress IPï¼Œæœƒé€ æˆç¾¤é«”å‚·å®³)**
- [ç¶²è·¯ç®¡ç†è€…å¯ Ban æ‰ DNS å°æ‰€æœ‰é€£æ¥è€…åœç”¨ Private Relay](https://developer.apple.com/support/prepare-your-network-for-icloud-private-relay/){:target="_blank"}
- iPhone å¯é‡å°ç‰¹å®šç¶²è·¯é€£ç·šåœç”¨ Private Relay
- é€£æ¥ VPN/ æ› Proxy æ™‚æœƒåœç”¨ Private Relay
- ç›®å‰é‚„åœ¨ Beta ç‰ˆ (2021/10/24)ï¼Œå•Ÿç”¨å¾Œéƒ¨åˆ†æœå‹™å¯èƒ½æœƒé€£ä¸ä¸Š (ä¸­åœ‹åœ°å€ã€ä¸­åœ‹ç‰ˆæŠ–éŸ³)æˆ–æ˜¯æœå‹™æœƒé »ç¹è¢«ç™»å‡º



![Private Relay å¯¦æ¸¬åœ–](/assets/9a05f632eba0/1*Abc_bFGsL-dUeUSVeAVBxg.jpeg "Private Relay å¯¦æ¸¬åœ–")

Private Relay å¯¦æ¸¬åœ–
- åœ–ä¸€ æœªå•Ÿç”¨ï¼šåŸå§‹ IP ä½å€
- åœ–äºŒ å•Ÿç”¨ Private Relay â€” ä¿æŒä¸€èˆ¬ä½ç½®ï¼šIPè®Šæˆ CDN IP ä½†ä¾ç„¶åœ¨ Taipei
- åœ–ä¸‰ å•Ÿç”¨ Private Relay â€” ä½¿ç”¨åœ‹å®¶å’Œæ™‚å€ï¼ˆæ“´å¤§æ¨¡ç³Šï¼‰ï¼šIPè®Šæˆ CDN IP & è®Šåœ¨ Taichungï¼Œä½†ä¾ç„¶é‚„æ˜¯åŒå€‹æ™‚å€å’Œåœ‹å®¶



![æ¸¬è©¦å°ˆæ¡ˆ](/assets/9a05f632eba0/1*ZDX3oYcoHwSh0Lkb1g1X_g.png "æ¸¬è©¦å°ˆæ¡ˆ"){:target="_blank"}

[æ¸¬è©¦å°ˆæ¡ˆ](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}

App å¯ä»¥ç”¨ `URLSessionTaskMetrics` åˆ†æ Private Relay çš„é€£æ¥ç´€éŒ„ã€‚


![](/assets/9a05f632eba0/1*aMr5w1sZN-ewFEtcNxLcPA.png)


æ‰¯é äº†ï¼Œå› æ­¤ç”¨ IP ä½å€å¾—åˆ° Fingerprint å»è¾¨è­˜ä½¿ç”¨è€…çš„æ–¹æ³•ï¼Œä¹Ÿç„¡æ³•å†ä½¿ç”¨äº†ã€‚
### App èˆ‡ App ä¹‹é–“
#### **ç¬¬ä¸€ç¨®æ–¹å¼æ˜¯æ—©æœŸå¯ä»¥ç›´æ¥å­˜å– Device UUIDï¼š**
> **_ğŸˆ²ï¼ŒiOS >= 7 ç¦æ­¢å­˜å– Device UUID,_** 
**_ä½¿ç”¨ IDentifierForAdvertisers/IDentifierForVendor å–ä»£_**



![](/assets/9a05f632eba0/1*XYD2LWx6gZ5c-iEmm_G2pQ.png)

- **IDFVï¼š** åŒå€‹é–‹ç™¼è€…å¸³è™Ÿä¸‹çš„æ‰€æœ‰ App èƒ½æ‹¿åˆ°åŒä¸€å€‹ UUIDï¼› [æ­é… KeyChain ä¹Ÿæ˜¯ç›®å‰ä½¿ç”¨è€… UUID çš„è¾¨è­˜æ–¹æ³•](../a4bc3bce7513) ã€‚
- **IDFAï¼š** ä¸åŒé–‹ç™¼è€…ã€ä¸åŒ App ä¹‹é–“èƒ½æ‹¿åˆ°ç›¸åŒçš„ UUIDï¼Œä½†æ˜¯ IDFA ä½¿ç”¨è€…å¯ä»¥é‡è¨­æˆ–ç¦ç”¨ã€‚

> **_ğŸˆ²ï¼ŒiOS >= 14.5 IDentifierForAdvertisers éœ€è©¢å•å¾Œæ‰èƒ½ä½¿ç”¨_**



![](/assets/9a05f632eba0/1*KCdE18ucjjUnwPzb7gpa5A.png)


iOS 14.5 å¾Œè˜‹æœåŠ å¼·å° IDFA çš„å–ç”¨é™åˆ¶ï¼ŒApp éœ€è¦å…ˆè©¢å•ä½¿ç”¨è€…å…ä¸å…è¨±è¿½è¹¤å¾Œæ‰èƒ½å–å¾— IDFA UUIDï¼›æœªè©¢å•ã€æœªå…è¨±çš„æƒ…æ³ä¸‹éƒ½æ‹¿ä¸åˆ°å€¼ã€‚

å¸‚èª¿å…¬å¸åˆæ­¥èª¿æŸ¥æ•¸æ“šå¤§ç´„æœ‰ 7æˆçš„ä½¿ç”¨è€…(æœ€æ–°æ•¸æ“šæœ‰äººèªª 9 æˆ)éƒ½ä¸å…è¨±è¿½è¹¤å–ç”¨ IDFAï¼Œæ‰€ä»¥å¤§å®¶æ‰æœƒèªª IDFA å·²æ­»ï¼


![æ¸¬è©¦å°ˆæ¡ˆ](/assets/9a05f632eba0/1*Dz-GYDKsdXQal_PausrHMA.png "æ¸¬è©¦å°ˆæ¡ˆ"){:target="_blank"}

[æ¸¬è©¦å°ˆæ¡ˆ](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}
#### **App èˆ‡ App ä¹‹é–“äº’é€šæœ‰ç„¡çš„ç¬¬äºŒç¨®æ–¹æ³•æ˜¯ URL Schemeï¼š**

iOS App å¯ä»¥ä½¿ç”¨ `canOpenURL` å»æ¢æ¸¬ä½¿ç”¨è€…æ‰‹æ©Ÿä¸Šæœ‰æ²’æœ‰è£æŸå€‹ Appã€‚
> **_ğŸˆ²ï¼ŒiOS >= 9 éœ€å…ˆåœ¨ App å…§è¨­å®šæ‰èƒ½ä½¿ç”¨ï¼›ä¸èƒ½ä»»æ„æ¢æ¸¬ã€‚_**



![](/assets/9a05f632eba0/1*eapZObP6QN6-g_Z1Nd7hZA.png)

> **_iOS â‰¥ 15 æ–°å¢é™åˆ¶ï¼Œæœ€å¤šåªèƒ½è¨­å®š 50 çµ„å…¶ä»– App çš„ Schemeã€‚_** 
_[`Apps linked on or after iOS 15 are limited to a maximum of 50 entries in the LSApplicationQueriesSchemes key.`](https://developer.apple.com/documentation/uikit/uiapplication/1622952-canopenurl?language=objc){:target="_blank"}_

### ç¶²ç«™ èˆ‡ App ä¹‹é–“

**åŒå‰æ–‡æ‰€è¿°**
#### **ç¬¬ä¸€ç¨®æ–¹æ³•ä¹Ÿæ˜¯é€é Cookie ä¾†ä¸²æ¥ï¼š**

æ—©æœŸ iOS Safari çš„ Cookie è·Ÿ App WebView çš„ Cookie æ˜¯å¯ä»¥äº’é€šçš„ï¼Œå¯ä»¥è—‰æ­¤ä¸²èµ· ç¶²ç«™èˆ‡ App ä¹‹é–“çš„è³‡æ–™ã€‚

åšæ³•å¯ä»¥åœ¨ App ç•«é¢ä¸Šå·å¡ä¸€å€‹ 1 pixel çš„ WebView å…ƒä»¶åœ¨èƒŒæ™¯å·å·è®€å– Safari Cookie å›ä¾†ç”¨ã€‚
> **_ğŸˆ²ï¼ŒiOS >= 11 ç¦æ­¢ Safari å’Œ App WebView é–“å…±ç”¨ Cookie_**



![](/assets/9a05f632eba0/1*sCY5ejSzJjNLDZucbsWV8w.png)


å¦‚æœæœ‰éœ€è¦å–å¾— Safari çš„ Cookie (EX: ç›´æ¥ä½¿ç”¨ç¶²ç«™ Cookie ç™»å…¥)ï¼Œå¯ä»¥ä½¿ç”¨ `SFSafariViewController` å…ƒä»¶å–å¾—ï¼›ä½†æ­¤å…ƒä»¶å¼·è¿«è·³æç¤ºè¦–çª—ä¸”ç„¡æ³•å®¢è£½åŒ–ï¼Œç¢ºä¿ä½¿ç”¨è€…ä¸æœƒåœ¨ç„¡æ„é–“è¢«å·å– Cookieã€‚
#### **ç¬¬äºŒç¨®æ–¹æ³•æ˜¯åŒç¶²ç«™èˆ‡ç¶²ç«™ç”¨IP Address + è£ç½®è³‡è¨Šç®—å‡ºçš„ Fingerprint åœ¨ä¸åŒç¶²ç«™ä¸­è­˜åˆ¥å‡ºåŒå€‹ç€è¦½è€…ï¼š**

åŒå‰è¿°ï¼Œ iOS â‰¥ 15 å·²è¢« Private Relay æ··æ·†ã€‚
#### **æœ€å¾Œä¸€ç¨®ä¹Ÿæ˜¯å”¯ä¸€é‚„èƒ½çš„æ–¹æ³• â€” Pasteboard** ï¼š

ä½¿ç”¨å‰ªè²¼ç°¿ä¸²æ¥è·¨å¹³å°çš„è³‡è¨Šï¼Œå› ç‚ºè˜‹æœä¸å¯èƒ½ç¦ç”¨å‰ªè²¼ç°¿è·¨ App ä½¿ç”¨ï¼Œä½†æ˜¯å®ƒå¯ä»¥æç¤ºä½¿ç”¨è€…ã€‚
> **_âš ï¸ iOS >= 14 æ–°å¢å‰ªè²¼ç°¿å­˜å–è­¦å‘Š_**



![](/assets/9a05f632eba0/1*TdsFfW6axWx3nbB1Thaucw.png)

#### **ä½¿ç”¨ Pasteboard å¯¦ç¾** Deferred Deep Link å»¶é²æ·±åº¦é€£çµå¯¦ä½œ
> **_é€™é‚Šè¦å¤šæä¸€ä¸‹é—œæ–¼ iOS 14 å‰ªè²¼ç°¿çš„éš±ç§ææ…Œï¼Œè©³ç´°å¯åƒè€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ã€Œ [iOS 14 å‰ªè²¼ç°¿ç«Šè³‡ææ…Œï¼Œéš±ç§èˆ‡ä¾¿åˆ©çš„å…©é›£](../8a04443024e2) ã€_**


**é›–ç„¶ä¸èƒ½æ’é™¤è®€å–å‰ªè²¼ç°¿æ˜¯æƒ³ç«Šè³‡ï¼Œä½†æ›´å¤šæ™‚å€™æ˜¯æˆ‘å€‘ App éœ€è¦æä¾›æ›´å¥½çš„ä½¿ç”¨é«”é©—ï¼š**


![](/assets/9a05f632eba0/1*lZMyzL6Pmy06lng8PWMk0w.png)


åœ¨æ²’æœ‰å¯¦ç¾ Deferred Deep Link å»¶é²æ·±åº¦é€£çµä¹‹å‰ï¼Œç•¶æˆ‘å€‘å¼•å°ä½¿ç”¨è€…å¾ç¶²ç«™ä¸Šå»å®‰è£ Appï¼Œå®‰è£å®Œæˆå¾Œæ‰“é–‹ App é»˜èªåªæœƒæ‰“é–‹é¦–é ï¼›æ›´å¥½çš„ä½¿ç”¨é«”é©—æ‡‰è©²æ˜¯æ‰“é–‹ App å›å¾©åˆ°ç¶²é ä¸Šåœç•™çš„é é¢çš„ App å°æ‡‰é ã€‚

è¦å¯¦ç¾é€™å€‹åŠŸèƒ½å°±éœ€è¦ ç¶²ç«™èˆ‡ App ä¹‹é–“æœ‰æ©Ÿæœƒä¸²èµ·è³‡æ–™ï¼Œå¦‚æ–‡ç« å‰è¿°çš„å…¶ä»–æ–¹æ³•éƒ½å·²è¢«å°ç¦ï¼Œç›®å‰åƒ…èƒ½é€éå‰ªè²¼ç°¿åšç‚ºè³‡è¨Šå„²å­˜åª’ä»‹ï¼ˆå¦‚ä¸Šåœ–ï¼‰ã€‚


![](/assets/9a05f632eba0/1*jVytiPiHhaubihaHSDYBNA.png)


åŒ…å« Firebase Dynamic Linksã€Branch.io æœ€æ–°ç‰ˆ(ä¹‹å‰ Branch.io ç”¨ IP Adrees Fingerprint ä¾†å¯¦ç¾)ä¹Ÿéƒ½ä½¿ç”¨å‰ªè²¼ç°¿åš Deferred Deep Linkã€‚

å¯¦ä½œå¯åƒè€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ï¼š [iOS Deferred Deep Link å»¶é²æ·±åº¦é€£çµå¯¦ä½œ(Swift)](../b08ef940c196)
> _ä¸€èˆ¬æƒ…æ³ä¸‹å¦‚æœæ˜¯ç‚ºäº†è¦åšåˆ° Deferred Deep Link åƒ…æœƒåœ¨ç¬¬ä¸€æ¬¡æ‰“é–‹ Appã€é‡æ–°è¿”å› App é‚£ä¸€åˆ»å»è®€å–å‰ªè²¼ç°¿è³‡è¨Šï¼›ä¸æœƒåœ¨ä½¿ç”¨ä¸­æˆ–å¥‡æ€ªçš„æ™‚é–“é»è®€å–ï¼Œé€™ä¸€é»å€¼å¾—æ³¨æ„ã€‚_


æ›´å¥½çš„åšæ³•æ˜¯å…ˆç”¨ `UIPasteboard.general.detectPatterns` æ¢æ¸¬å‰ªè²¼ç°¿çš„è³‡æ–™æ˜¯ä¸æ˜¯æˆ‘å€‘éœ€è¦çš„ï¼Œæ˜¯åœ¨è®€å–ã€‚


![æ¸¬è©¦å°ˆæ¡ˆ](/assets/9a05f632eba0/1*7Kyfq0LT1mkPAFxwkmpMRQ.png "æ¸¬è©¦å°ˆæ¡ˆ"){:target="_blank"}

[æ¸¬è©¦å°ˆæ¡ˆ](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}

iOS â‰¥ 15 ä¹‹å¾Œå„ªåŒ–äº†å‰ªè²¼ç°¿æç¤ºï¼Œå¦‚æœæ˜¯ä½¿ç”¨è€…è‡ªå·±çš„è²¼ä¸Šå‹•ä½œï¼Œå°±ä¸æœƒå†è·³æç¤ºäº†ï¼
### å»£å‘Šæˆæ•ˆè§£æ±ºæ–¹æ¡ˆ

åŒå‰æ–‡æ‰€èªªçš„è˜‹æœéš±ç§åŸå‰‡ï¼Œå¸Œæœ›çš„æ˜¯å¹³è¡¡è€Œä¸æ˜¯å®Œå…¨é˜»æ–·ä½¿ç”¨è€…èˆ‡æœå‹™ã€‚
#### **ç¶²ç«™èˆ‡ç¶²ç«™çš„å»£å‘Šæˆæ•ˆçµ±è¨ˆï¼š**

Safari ä¸Šç›¸å°æ–¼é˜»æ“‹ Intelligent Tracking Prevention çš„åŠŸèƒ½å°±æ˜¯ Private Click Measurement ( [WebKit](https://webkit.org/blog/11529/introducing-private-click-measurement-pcm/){:target="_blank"} ) ç”¨æ–¼åœ¨å»é™¤å€‹äººéš±ç§çš„æƒ…æ³ä¸‹çµ±è¨ˆå»£å‘Šæˆæ•ˆã€‚


![](/assets/9a05f632eba0/1*a9DibQQDW9QgiPxt3Y--SQ.png)


å…·é«”æµç¨‹å¦‚ä¸Šåœ–ï¼Œä½¿ç”¨è€…åœ¨ A ç¶²ç«™é»æ“Šå»£å‘Šå‰å¾€ B ç¶²ç«™æ™‚ï¼Œæœƒåœ¨ç€è¦½å™¨ä¸Šç´€éŒ„ä¸€å€‹ Source ID (è­˜åˆ¥åŒå€‹ä½¿ç”¨è€…ç”¨) èˆ‡ Destination è³‡è¨Š (ç›®æ¨™ç¶²ç«™)ï¼›ç•¶ä½¿ç”¨è€…åœ¨ B ç¶²ç«™ä¸Šå®Œæˆè½‰æ›ä¹Ÿæœƒç´€éŒ„ä¸€å€‹ Trigger ID (ä»£è¡¨ä»€éº¼å‹•ä½œ) åœ¨ç€è¦½å™¨ä¸Šã€‚


![](/assets/9a05f632eba0/1*n2PwE4AMOPAqvTI-FcNdRQ.png)


é€™å…©å€‹è³‡è¨Šæœƒåˆä½µèµ·ä¾†åœ¨éš¨æ©Ÿ 24 ~ 48 å°æ™‚å¾Œå‚³é€åˆ° A å’Œ B ç¶²ç«™å¾—åˆ°å»£å‘Šæˆæ•ˆã€‚

ä¸€åˆ‡éƒ½æ˜¯ on-device safari è‡ªè¡Œè™•ç†ã€é˜²ç¯„æƒ¡æ„é»æ“Šä¹Ÿæ˜¯ç”± Safari æä¾›ä¿è­·ã€‚
#### **App èˆ‡ ç¶²ç«™æˆ– App ä¹‹é–“çš„å»£å‘Šæˆæ•ˆçµ±è¨ˆï¼š**


![](/assets/9a05f632eba0/1*jUObXccBCf4dB7ZU_yn-EQ.png)


å¯ä»¥ä½¿ç”¨ [SKAdNetwork](https://developer.apple.com/documentation/storekit/skadnetwork){:target="_blank"} (éœ€å‘è˜‹æœç”³è«‹åŠ å…¥) é¡ä¼¼ Private Click Measurement æ–¹å¼ï¼Œä¸å†å±•é–‹è´…è¿°ã€‚
> _å¯ä»¥å¤šæä¸€ä¸‹ï¼Œè˜‹æœä¸¦éé–‰é–€é€ è»Šï¼› [SKAdNetwork](https://developer.apple.com/documentation/storekit/skadnetwork){:target="_blank"} ç›®å‰ä¾†åˆ° 2.0 ç‰ˆæœ¬ï¼Œè˜‹æœæŒçºŒæ”¶é›†é–‹ç™¼è€…å»£å‘Šå•†çš„éœ€æ±‚ç¶œåˆå€‹äººéš±ç§æ§ç®¡ï¼ŒæŒçºŒå„ªåŒ– SDK åŠŸèƒ½ã€‚_
> _é€™é‚ŠçœŸå¿ƒè¨±é¡˜ Deferred Deep Link èƒ½ç”¨ SDK ä¸²èµ·ï¼Œå› ç‚ºæˆ‘å€‘æ˜¯ç‚ºäº†æå‡ä½¿ç”¨è€…é«”é©—ï¼Œæ²’æœ‰è¦ä¾µçŠ¯å€‹äººéš±ç§çš„æ„æ€ã€‚_


æŠ€è¡“ç´°ç¯€å¯åƒè€ƒã€Œ [WWDC 2021 â€” Meet privacy-preserving ad attribution](https://developer.apple.com/videos/play/wwdc2021/10033/){:target="_blank"} ã€ã€‚
### Cross-Platform


![](/assets/9a05f632eba0/1*fWuWfmUzOZ2w2iI1FrzwRA.png)

> **_iOS â‰¥ 13 æ‰€æœ‰æ”¯æ´ç¬¬ä¸‰æ–¹ç™»å…¥çš„ App éƒ½éœ€è¦å¤šå¯¦ä½œ Sign in with Appleï¼Œå¦å‰‡ç„¡æ³•æˆåŠŸä¸Šæ¶ App_**

- å§“åå¯è‡ªè¡Œç·¨è¼¯
- å¯éš±è—çœŸå¯¦ Email (ä½¿ç”¨è˜‹æœç”¢çš„è™›æ“¬ Email ä»£æ›¿)
- ä½¿ç”¨è€…å¯è¦æ±‚åˆªé™¤å¸³è™Ÿ [**2022/01/31 å‰ App é ˆå®Œæˆå¯¦ä½œ**](https://developer.apple.com/news/?id=mdkbobfo){:target="_blank"} ğŸ†•



![](/assets/9a05f632eba0/1*AzjnZmNm6eqG72bVw8iKag.png)

> **_iOS >= 15 iCloud+ ç”¨æˆ¶æ”¯æ´ Hide My Email_**

- æ”¯æ´ Safariã€App æ‰€æœ‰ä¿¡ç®±æ¬„ä½
- ä½¿ç”¨è€…å¯åˆ°è¨­å®šä¸­ä»»æ„ç”¢ç”Ÿè™›æ“¬ä¿¡ç®±


åŒ Sign in with Apple ä½¿ç”¨è˜‹æœç”¢çš„è™›æ“¬ Email ä»£æ›¿çœŸå¯¦ä¿¡ç®±ï¼Œåœ¨æ”¶åˆ°ä¿¡å¾Œè˜‹æœæœƒè½‰ç™¼åˆ°ä½ çš„çœŸå¯¦ä¿¡ç®±ä¸­ï¼Œè—‰æ­¤ä¿è­·ä½ çš„ä¿¡ç®±è³‡è¨Šã€‚

é¡ä¼¼ 10 åˆ†é˜ä¿¡ç®±ï¼Œä½†åˆæ›´å¼·å¤§ï¼›åªè¦ä¸åœç”¨ï¼Œé‚£çµ„è™›æ“¬ä¿¡ç®±åœ°å€å°±æ˜¯ä½ æ°¸ä¹…æŒæœ‰ï¼›ä¹Ÿæ²’æœ‰æ–°å¢ä¸Šé™ï¼Œå¯ä»¥ç„¡é™æ–°å¢ï¼Œä¸ç¢ºå®šè˜‹æœå¦‚ä½•é˜²æ­¢æ¿«ç”¨ã€‚


![](/assets/9a05f632eba0/1*g9-kZBAG13Hx1bq196j8Qg.jpeg)



![](/assets/9a05f632eba0/1*TD7XRAexz8SOJylrVyQUHw.png)



![è¨­å®š \-> Apple ID \-> éš±è—æˆ‘çš„é›»å­éƒµä»¶](/assets/9a05f632eba0/1*U2MC_Qp1ZwvJkVHuZ2zcpA.png "è¨­å®š \-> Apple ID \-> éš±è—æˆ‘çš„é›»å­éƒµä»¶")

è¨­å®š -> Apple ID -> éš±è—æˆ‘çš„é›»å­éƒµä»¶
### Others
#### **App privacy details on the App Storeï¼š**


![](/assets/9a05f632eba0/1*oWsbWGst_MP-J0OMplxskQ.jpeg)

> [_App å¿…éœ€åœ¨ App Store ä¸Šèªªæ˜ä½¿ç”¨è€…å“ªäº›è³‡æ–™æœƒè¢«è¿½è¹¤åŠå¦‚ä½•æ‡‰ç”¨_](https://developer.apple.com/app-store/user-privacy-and-data-use/){:target="_blank"} _ã€‚_


è©³ç´°èªªæ˜å¯åƒè€ƒï¼šã€Œ [App privacy details on the App Store](https://developer.apple.com/app-store/app-privacy-details/){:target="_blank"} ã€ã€‚
#### **å€‹äººéš±ç§è³‡æ–™ç´°å¾®æ§åˆ¶ï¼š**


![](/assets/9a05f632eba0/1*qZF5DvQx6RTIggWS7Be4Bw.png)

> _iOS â‰¥ 14 é–‹å§‹ï¼Œä½ç½®åŠç›¸ç‰‡å­˜å–å¯ä»¥æ›´ç´°å¾®çš„æ§åˆ¶ï¼Œå¯ä»¥åªæˆæ¬Šå–ç”¨æŸå¹¾å¼µç›¸ç‰‡ã€åªå…è¨± App ä½¿ç”¨ä¸­å­˜å–ä½ç½®ã€‚_



![æ¸¬è©¦å°ˆæ¡ˆ](/assets/9a05f632eba0/1*Y95go0uE0DC5lqAAJ9N96Q.png "æ¸¬è©¦å°ˆæ¡ˆ"){:target="_blank"}

[æ¸¬è©¦å°ˆæ¡ˆ](https://github.com/zhgchgli0718/PrivacyTest){:target="_blank"}
> _iOS â‰¥ 15ï¼Œå¢åŠ  [CLLocationButton](https://developer.apple.com/documentation/corelocationui/cllocationbutton){:target="_blank"} æŒ‰éˆ•æå‡ä½¿ç”¨è€…é«”é©—ï¼Œå¯ä»¥åœ¨æœªè©¢å•/æœªåŒæ„æƒ…æ³ä¸‹é€éä½¿ç”¨è€…é»æ“Šå–å¾—ç•¶å‰ä½ç½®ï¼Œæ­¤æŒ‰éˆ•ç„¡æ³•å®¢è£½åŒ–ã€åªèƒ½é€éä½¿ç”¨è€…æ“ä½œè§¸ç™¼ã€‚_

#### **å€‹äººéš±ç§å–ç”¨æç¤ºï¼š**


![](/assets/9a05f632eba0/1*XP5mELBBaaUMI8IixwUCcg.png)

> _iOS â‰¥ 15ï¼Œå¢åŠ å€‹äººéš±ç§åŠŸèƒ½çš„å–ç”¨æç¤ºï¼Œå¦‚ï¼šå‰ªè²¼ç°¿ã€ä½ç½®ã€ç›¸æ©Ÿã€éº¥å…‹é¢¨_

#### **App éš±ç§å–ç”¨å ±å‘Šï¼š**
> _iOS â‰¥ 15ï¼Œå¯ä»¥åŒ¯å‡ºè¿‘ 7 å¤©æ‰‹æ©Ÿæ‰€æœ‰ App çš„éš±ç§ç›¸é—œåŠŸèƒ½å–ç”¨ã€ç¶²è·¯æ´»å‹•çš„ç´€éŒ„å ±å‘Šã€‚_

1. å› ç´€éŒ„å ±å‘Šæª”æ¡ˆæ˜¯ `.ndjson` ç´”æ–‡å­—æª”ï¼Œç›´æ¥æŸ¥çœ‹ä¸æ˜“ï¼›å¯ä»¥å…ˆåœ¨ App Store ä¸‹è¼‰ã€Œ [éš±ç§æ´è¦‹](https://apps.apple.com/tw/app/%E9%9A%B1%E7%A7%81%E6%B4%9E%E8%A6%8B-app-privacy-insights/id1575583991){:target="_blank"} ã€App ç”¨ä¾†æŸ¥çœ‹å ±å‘Š
2. åˆ°è¨­å®š -> éš±ç§æ¬Š -> æœ€ä¸‹æ–¹ã€Œç´€éŒ„ App æ´»å‹•ã€-> å•Ÿç”¨ç´€éŒ„ App æ´»å‹•
3. å„²å­˜ App æ´»å‹•
4. é¸æ“‡ã€ŒåŒ¯å…¥åˆ° [éš±ç§æ´è¦‹](https://apps.apple.com/tw/app/%E9%9A%B1%E7%A7%81%E6%B4%9E%E8%A6%8B-app-privacy-insights/id1575583991){:target="_blank"} ã€
5. åŒ¯å…¥å®Œæˆå¾Œå³å¯æª¢è¦–éš±ç§å ±å‘Š



![](/assets/9a05f632eba0/1*7o4UN1Jv-zKjNRU9TKASiQ.png)



![](/assets/9a05f632eba0/1*rshLnUlppBj1OF5mvTZZHw.png)



![](/assets/9a05f632eba0/1*ZRL7V1Hxu7r__bljiohpEw.png)


å¯ä»¥çœ‹åˆ°åŒ [æ–°è](https://technews.tw/2021/10/12/china-app-reads-iphone-user-album-data/){:target="_blank"} æ‰€èªªï¼ŒWechat çš„ç¢ºæœƒå†å•Ÿå‹• App æ™‚åœ¨èƒŒæ™¯å·å·è®€å–ç›¸ç‰‡è³‡è¨Šã€‚
> **_å¦å¤–æˆ‘ä¹Ÿå¤šæŠ“åˆ°å¹¾å€‹ä¸­åœ‹ App ä¹Ÿæœƒå·åšäº‹ï¼Œç›´æ¥åœ¨è¨­å®šå…¨éƒ¨ç¦ç”¨å®ƒå€‘çš„æ¬Šé™äº†ã€‚_** 
**_è¦ä¸æ˜¯æœ‰é€™å€‹åŠŸèƒ½è®“ä»–å€‘è¦‹å…‰æ­»ï¼Œé‚„ä¸çŸ¥é“æˆ‘å€‘çš„è³‡æ–™æœƒè¢«ç«Šå–å¤šä¹…ï¼_**

### Recap
#### Appleâ€™s privacy principles


![](/assets/9a05f632eba0/1*YUtG3sEQMvu8433VD5j8WA.png)


äº†è§£å®Œæ­·å¹´å°æ–¼éš±ç§åŠŸèƒ½çš„èª¿æ•´å¾Œï¼Œæˆ‘å€‘å›é ­ä¾†çœ‹è˜‹æœçš„éš±ç§åŸå‰‡ï¼š
- Data Minimizationï¼šè˜‹æœç”¨æŠ€è¡“æ‰‹æ®µé™åˆ¶å–ç”¨éœ€è¦çš„è³‡æ–™
- On-Device Processingï¼šéš±ç§è³‡æ–™ä¸ä¸Šå‚³é›²ç«¯ï¼Œä¸€åˆ‡éƒ½åœ¨æœ¬åœ°è™•ç†ï¼›å¦‚ Safari Private Click Measurementã€è˜‹æœçš„ [æ©Ÿå™¨å­¸ç¿’ SDK CoreML](../793bf2cdda0f) ä¹Ÿéƒ½æ˜¯åœ¨æœ¬åœ°åŸ·è¡Œã€iOS â‰¥ 15 çš„ Siri/ç›¸æ©ŸåŸæ³æ–‡å­—åŠŸèƒ½ã€Apple Mapã€Newsã€ç›¸ç‰‡è­˜åˆ¥åŠŸèƒ½â€¦ç­‰ç­‰
- User Transparency and Controlï¼šæ–°å¢çš„å„ç¨®éš±ç§å­˜å–æç¤ºã€ç´€éŒ„å ±å‘ŠåŠéš±ç§ç´°å¾®æ§åˆ¶åŠŸèƒ½
- Securityï¼šè³‡æ–™å„²å­˜å‚³éçš„å®‰å…¨ï¼Œä¸æ¿«ç”¨ UserDefaultã€iOS 15 å¯ä»¥ç›´æ¥ç”¨ CryptoKit ä¾†åšé»å°é»åŠ è§£å¯†ã€Private Realy çš„å‚³è¼¸å®‰å…¨

#### ç ´ç¢è³‡æ–™


![](/assets/9a05f632eba0/1*H0dYwwbNMT08_REzs4SUBg.png)


å›åˆ°æœ€ä¸€é–‹å§‹ç”¨æŠ€è¡“æ‰‹æ®µæ‹¼æ¹Šå‡ºå“ˆé‡Œçš„é—œè¯åœ–ï¼Œç¶²ç«™èˆ‡ç¶²ç«™æˆ– App ä¹‹é–“è¢«å µæ­»ï¼Œåªå‰©å‰ªè²¼é‚„èƒ½ç”¨ï¼Œä½†æœƒæœ‰æç¤ºã€‚

æœå‹™è¨»å†Šè·Ÿç¬¬ä¸‰æ–¹ç™»å…¥çš„å€‹è³‡ï¼Œå¯ä»¥æ”¹ç”¨ Sign in with apple å’Œ hide my email åŠŸèƒ½é˜²å µï¼›æˆ–æ˜¯å¤šä½¿ç”¨ iOS åŸç”Ÿ Appã€‚

ç·šä¸‹æ´»å‹•æˆ–è¨±å¯ä»¥æ”¹ Apple Card é˜²æ­¢éš±ç§å¤–æ´©ï¼Ÿ
> **_å·²æ²’æœ‰äººæœ‰æ©Ÿæœƒæ‹¼æ¹Šå‡ºå“ˆé‡Œçš„æ´»å‹•è¼ªå»“ã€‚_**

#### Apple ä»¥äººç‚ºæœ¬


![](/assets/9a05f632eba0/1*5LLnXt2Glp7de_vdouufnQ.png)


å› æ­¤ã€Œä»¥äººç‚ºæœ¬ã€æ˜¯æˆ‘æœƒçµ¦è˜‹æœçš„ç†å¿µçš„ä»£åè©ï¼Œè¦èˆ‡å•†æ¥­å¸‚å ´å”±åèª¿éœ€è¦å¾ˆå¤§çš„ä¿¡å¿µï¼›èˆ‡å®ƒç›¸é—œçš„ã€Œä»¥ç§‘æŠ€ç‚ºæœ¬ã€æ˜¯æˆ‘æœƒçµ¦ Google çš„ä»£åè©ï¼Œå› ç‚º Google ç¸½èƒ½é€ å‡ºå¾ˆå¤š Geek ç§‘æŠ€é …ç›®ï¼›æœ€å¾Œã€Œä»¥å•†æ¥­ç‚ºæœ¬ã€æ˜¯æˆ‘æœƒçµ¦ Facebook çš„ä»£åè©ï¼Œå› ç‚º FB åœ¨å¾ˆå¤šå±¤é¢ä¸Šéƒ½åªè¿½æ±‚å•†æ¥­æ”¶ç›Šã€‚


![](/assets/9a05f632eba0/1*lpYyN-yGAS86YRVYlzh5Ig.png)


é™¤äº†é‡å°éš±ç§åŠŸèƒ½çš„èª¿æ•´ï¼Œé€™å¹¾å¹´çš„ iOS ä¹Ÿä¸æ–·åŠ å¼·é˜²æ­¢æ‰‹æ©Ÿæ²ˆè¿·çš„åŠŸèƒ½ï¼Œæ¨å‡ºäº†ã€Œè¢å¹•ä½¿ç”¨æ™‚é–“å ±å‘Šã€ã€ã€ŒApp ä½¿ç”¨æ™‚é–“é™åˆ¶ã€ã€ã€Œå°ˆæ³¨æ¨¡å¼ã€â€¦ç­‰ç­‰åŠŸèƒ½ï¼›å¹«åŠ©å¤§å®¶è§£é™¤æ‰‹æ©Ÿæˆç™®ã€‚
### æœ€å¾Œå¸Œæœ›å¤§å®¶éƒ½èƒ½
- **é‡è¦–å€‹äººéš±ç§**
- **ä¸è¢«è³‡æœ¬æ§åˆ¶**
- **æ¸›å°‘è™›æ“¬æˆç™®**
- **é˜²æ­¢ç¤¾æœƒæ²ˆæ·ª**



> **_åœ¨ç¾å¯¦ä¸–ç•Œæ´»å‡ºç²¾å½©äººç”Ÿï¼_**

#### Private Relay/IDFA/Pasteboard/Location æ¸¬è©¦å°ˆæ¡ˆï¼š


[![GitHub \- zhgchgli0718/PrivacyTest: XCode >= 13 Only
XCode >= 13 Only\. Contribute to zhgchgli0718/PrivacyTest development by creating an account on GitHub\.github\.com](https://opengraph.githubassets.com/23ac764e3a2ccedeefb67b976cd970c09c651b72924c8b8ba332cf33c4276f8a/zhgchgli0718/PrivacyTest "GitHub \- zhgchgli0718/PrivacyTest: XCode >= 13 Only
XCode >= 13 Only\. Contribute to zhgchgli0718/PrivacyTest development by creating an account on GitHub\.github\.com"){:target="_blank"}](https://github.com/zhgchgli0718/PrivacyTest)

#### åƒè€ƒè³‡æ–™
- [WWDC 2021 â€” Appleâ€™s privacy pillars in focus](https://developer.apple.com/videos/play/wwdc2021/10085/){:target="_blank"}
- [Apple privacy white paper â€” A Day in the Life of Your Data](https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf){:target="_blank"}
- [WWDC 2021 â€” Get ready for iCloud Private Relay](https://developer.apple.com/videos/play/wwdc2021/10096/){:target="_blank"}
- [WWDC 2021 â€” Meet privacy-preserving ad attribution](https://developer.apple.com/videos/play/wwdc2021/10033/){:target="_blank"}
- [**iOS 14 å‰ªè²¼ç°¿ç«Šè³‡ææ…Œï¼Œéš±ç§èˆ‡ä¾¿åˆ©çš„å…©é›£**](../8a04443024e2)
- [iOS Deferred Deep Link å»¶é²æ·±åº¦é€£çµå¯¦ä½œ(Swift)](../b08ef940c196)
- [iOS UUID çš„é‚£äº›äº‹ (Swift/iOS â‰¥ 6)](../a4bc3bce7513)



[![Like Z Realm's work](https://button.like.co/images/og/likebutton.png "Like Z Realm's work")](https://button.like.co/zhgchgli)


æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ [èˆ‡æˆ‘è¯çµ¡](https://www.zhgchg.li/contact){:target="_blank"} ã€‚



+-----------------------------------------------------------------------------------+

| **[View original post on Medium](https://medium.com/zrealm-ios-dev/ios-%E9%9A%B1%E7%A7%81%E8%88%87%E4%BE%BF%E5%88%A9%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F-9a05f632eba0) - Converted by [ZhgChgLi](https://zhgchg.li)/[ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown)** |

+-----------------------------------------------------------------------------------+

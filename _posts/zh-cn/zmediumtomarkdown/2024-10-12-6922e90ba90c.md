---
author: ZhgChgLi
categories:
- ZRealm Robotic Process Automation
date: 2024-10-12T13:10:46.227+0000
description: æ‰‹æŠŠæ‰‹å°† Line Notify ä¸ªäººé€šçŸ¥æœåŠ¡è¿ç§»è‡³åŒæ ·å…è´¹ã€æ›´å¼ºå¤§çš„ Telegram Bot
image:
  path: /assets/6922e90ba90c/1*r59nJAx__InU09hYMenePg.jpeg
last_modified_at: 2024-10-20T08:57:41.630+0000
render_with_liquid: false
tags:
- ios-app-development
- line
- telegram
- google-apps-script
- automation
title: 10 åˆ†é’Ÿå¿«é€Ÿç§»è½¬ Line Notify åˆ° Telegram Bot é€šçŸ¥
---

### 10 åˆ†é’Ÿå¿«é€Ÿç§»è½¬ Line Notify åˆ° Telegram Bot é€šçŸ¥



æ‰‹æŠŠæ‰‹å°† Line Notify ä¸ªäººé€šçŸ¥æœåŠ¡è¿ç§»è‡³åŒæ ·å…è´¹ã€æ›´å¼ºå¤§çš„ Telegram Bot



![Photo by [Lana Codes](https://unsplash.com/@lanacodes?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash){:target="_blank"}](/assets/6922e90ba90c/1*r59nJAx__InU09hYMenePg.jpeg)



Photo by [Lana Codes](https://unsplash.com/@lanacodes?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash){:target="_blank"}



#### [LINE Notifyç»“æŸæœåŠ¡å…¬å‘Š](https://notify-bot.line.me/closing-announce){:target="_blank"}



> *æ„Ÿè°¢æ‚¨é•¿æœŸä»¥æ¥ä½¿ç”¨LINE Notifyã€‚*



> *LINE Notifyè‡ª2016å¹´9æœˆæ¨å‡ºä»¥æ¥ï¼Œä¸€ç›´è‡´åŠ›äºä¸ºå¼€å‘è€…æä¾›æœåŠ¡ã€‚ä¸ºèƒ½æä¾›æ›´ä¼˜è´¨çš„æœåŠ¡ï¼Œå¹¶å°†ç»è¥èµ„æºé›†ä¸­äºåç»­çš„ç±»ä¼¼å•†å“æœåŠ¡ï¼Œæˆ‘ä»¬å†³å®šäº2025å¹´3æœˆ31æ—¥ç»“æŸæœ¬æœåŠ¡ã€‚å¯¹äºé•¿æœŸä»¥æ¥æ”¯æŒå¹¶ä½¿ç”¨LINEä½œä¸ºé€šçŸ¥è¿åŠ¨æœåŠ¡çš„æ‰€æœ‰ç”¨æˆ·ï¼Œæˆ‘ä»¬æ·±è¡¨æ„Ÿè°¢ã€‚*



> *è‹¥æ‚¨ä»éœ€ä½¿ç”¨LINEå‘ç”¨æˆ·ä¼ é€é€šçŸ¥çš„å•†å“æœåŠ¡ï¼Œå»ºè®®å¯æ”¹ç”¨åŠŸèƒ½æ›´ä¸°å¯Œçš„Messaging APIã€‚*



æ’·å–è‡ª [Line Notify å®˜ç½‘](https://notify-bot.line.me/closing-announce){:target="_blank"} ï¼Œ Line äº 2024/10/08 å‘æ–‡å…¬å‘Š Line Notify å°†äº 2025/04/01 å®Œå…¨å…³é—­ï¼Œå¦‚éœ€ç»§ç»­ä½¿ç”¨ Line åšä¸ºè®¯æ¯é€šçŸ¥ï¼Œåªèƒ½ç”¨ä»˜è´¹çš„ [Message API](https://developers.line.biz/en/services/messaging-api/){:target="_blank"} ã€‚



Line Notify çš„ä¼˜ç‚¹æ˜¯éå¸¸å®¹æ˜“ä¸²æ¥ï¼Œæ‹¿æ¥åšä¸ªäººé€šçŸ¥æœºå™¨äººéå¸¸æ–¹ä¾¿å¥½ç”¨ï¼Œä¸€äº› Line Bot æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ä¹Ÿä¼šä½¿ç”¨ Line Notify è¿›è¡Œé€šçŸ¥ (ä¾‹å¦‚ï¼šè·¯æ˜“èã€ä½ è®¢çš„è®¢å•é€šçŸ¥åŠŸèƒ½)ï¼›ä½†ç¼ºç‚¹ä¹Ÿè›®å¤šçš„ï¼Œä¾‹å¦‚è®¯æ¯å†…å®¹å•ä¸€ã€æ— æ³•åˆ†ç¾¤ç»„(ç»Ÿä¸€éƒ½æ˜¯ä¼ é€åˆ° Line Notify Bot)ã€è®¯æ¯å†…å®¹é•¿åº¦æœ‰é™â€¦ç­‰ç­‰



éšè‘— Line Notify å®£å‘Šç»ˆæ­¢ï¼Œæ­£å¥½ä¹Ÿç»™æˆ‘äº†ä¸€ä¸ªè¿ç§»è‡³å…¶ä»–é€šè®¯ã€é€šçŸ¥æœåŠ¡çš„æœºä¼šï¼š



- Slackï¼šå…è´¹ç‰ˆè®¯æ¯åªä¿ç•™ 30 å¤©ã€æˆ‘çš„é€šçŸ¥æ¯”è¾ƒæ˜¯ä¸ªäººï¼Œç”¨ Slack æœ‰ç‚¹å¤§æå°ç”¨ã€‚(Slack ä¼ é€è®¯æ¯å¯å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ï¼š [Slack & ChatGPT Integration](../bd94cc88f9c9/) )


- Discordï¼šæˆ‘çš„é€šçŸ¥æ¯”è¾ƒæ˜¯ä¸ªäººï¼Œä¸€æ ·æœ‰ç‚¹å¤§æå°ç”¨ã€‚


- **Telegramï¼šå…è´¹ã€å‡ ä¹æ— é™ä½¿ç”¨ã€‚**



å¯¹æˆ‘æ¥è¯´ Telegram çš„é€šè®¯æœåŠ¡æ¯”è¾ƒç¬¦åˆæˆ‘åŸæœ¬ Line Notify çš„ä½¿ç”¨éœ€æ±‚ï¼Œæˆ‘éœ€è¦ä¸€ä¸ªèƒ½æ¥æ”¶é€šçŸ¥çš„é¢‘é“ï¼Œæœ€å¥½æ˜¯èƒ½ä¾ç…§ä¸åŒéœ€æ±‚æœ‰ä¸åŒçš„é¢‘é“ï¼Œå¯æ¥å—çš„å†…å®¹ã€æ ¼å¼è¶Šä¸°å¯Œè¶Šå¥½ã€å¹¶ä¸”èƒ½å¿«é€Ÿç®€å•ä¸²æ¥ï¼›Telegram éƒ½ç¬¦åˆä¸Šè¿°éœ€æ±‚ï¼Œè¿˜èƒ½å¤šå®ç°è·Ÿ Bot çš„äº¤äº’åŠŸèƒ½ã€‚



#### æˆæœ



å…ˆä¸Šæœ€ç»ˆæ•ˆæœå›¾(ä»¥ [Github Star é€šçŸ¥ã€Repo Stats é€šçŸ¥ä¸ºä¾‹](../382218e15697/) )ï¼š



![](/assets/6922e90ba90c/1*1kHJu5yZMUST-wrna6KqkA.gif)



- âœ… æœ‰äººæŒ‰ Repo æ˜Ÿæ˜Ÿæ—¶ä¼šè§¦å‘ Webhook -&gt; Google Apps Script -&gt; Telegram Bot å‘é€é€šçŸ¥åˆ° Telegram â€” Github Stats Group


- âœ… Google Apps Script æ¯æ—¥å®šæ—¶ -&gt; æå– Github Repo Stats çŠ¶æ€ -&gt; Telegram Bot å‘é€é€šçŸ¥åˆ° Telegram â€” Github Stats Group


- âœ… ä½¿ç”¨ `/update` Telegram Bot Command è§¦å‘æå– Github Repo Stats çŠ¶æ€ -&gt; Telegram Bot å‘é€é€šçŸ¥åˆ° Telegram â€” Github Stats Group



#### å¯¹æ¯”åŸæœ¬ Line Notify



![](/assets/6922e90ba90c/1*mTycFPe7rPh1qc0BagUXdw.png)



- âŒ æ‰€æœ‰è®¯æ¯æ— æ³•åˆ†ç±»ã€åˆ†ç¾¤ç»„éƒ½ä¼ åˆ° Line Notify


- âŒ æ— æ³•é’ˆå¯¹ä¸ªåˆ«è®¯æ¯åšç‰¹æ®Šè®¾å®š (å¦‚é€šçŸ¥å£°ã€é™éŸ³â€¦)


- âŒ æ— æ³•è¾“å…¥è®¯æ¯äº’åŠ¨



#### æœ¬æ–‡ç›®å½•



- è®¾å®š Telegram Bot


- ç§»è½¬ Line Notify å‘é€è®¯æ¯åˆ° Telegram Bot (Google Apps Script)


- ä¸ Telegram Bot äº¤äº’ (Command) x ä½¿ç”¨ Google Apps Script



### (1/2) è®¾å®š Telegram Bot



Telegram Bot çš„ç”³è¯·éå¸¸ç®€å•ï¼Œè¿ç½‘é¡µéƒ½ä¸éœ€è¦å¼€ï¼Œåªè¦è·Ÿå®˜æ–¹çš„ [BotFather æœºå™¨äºº](https://t.me/BotFather){:target="_blank"} äº’åŠ¨å°±å¯ä»¥äº†ã€‚



#### Step 1. ç”³è¯· Telegram Bot



[å®‰è£…ã€æ³¨å†Œå¥½ Telegram æœåŠ¡](https://telegram.org/){:target="_blank"} ä¹‹åï¼Œç‚¹å‡»åŠ ã€Œ [BotFather æœºå™¨äºº](https://t.me/BotFather){:target="_blank"} ã€ä¸ºå¥½å‹ã€‚



![](/assets/6922e90ba90c/1*-3qluwPXk-HeGRCTOd-EAA.png)



![](/assets/6922e90ba90c/1*QfzbJYQ2vVI2CNvvLU7r_w.png)



1. æ‰“å¼€ã€åŠ å…¥ [BotFather æœºå™¨äºº](https://t.me/BotFather){:target="_blank"}


2. åŠ å…¥åç›´æ¥ä¼ é€è®¯æ¯ã€Œ `/newbot` ã€å»ºç«‹ä½ çš„æœºå™¨äººã€‚


3. è¾“å…¥ä½ çš„æœºå™¨äººåç§°


4. è¾“å…¥ä½ çš„æœºå™¨äººå¸å· (ä¸å¯é‡å¤ã€å¿…é¡»ä»¥ `bot` ä¸ºç»“å°¾ï¼Œä¾‹å¦‚æˆ‘çš„ `zhgchgli_bot` )


5. ä½ çš„ Bot è¿ç»“ï¼Œç‚¹è¿›è¿›å…¥å¼€å§‹ä½¿ç”¨ (e.g. t.me/harrytest56_bot)


6. å–å¾— `ä½ çš„_BOT_API_Token` ï¼Œ **è¯·å¦¥å–„ä¿å­˜** âš ï¸âš ï¸âš ï¸



ç‚¹å‡» 4. å–å¾—çš„ Bot è¿ç»“ï¼Œå¼€å§‹ä½¿ç”¨ Botï¼š



![](/assets/6922e90ba90c/1*5q5PE3D9nwQPlYoY8SqCHQ.png)



![](/assets/6922e90ba90c/1*NKz9GSDlGov9q7xIlHYlCQ.png)



![](/assets/6922e90ba90c/1*VU7EyeZL2BpVnLRHQBNOPQ.png)



ç›®å‰æ— ä»»ä½•åŠŸèƒ½ï¼Œå¯ä»¥ç‚¹å³ä¸Šè§’ Infoï¼Œç¼–è¾‘åç§°æˆ–ä¸Šä¼ å¤§å¤´è´´ã€‚



#### Step 2. åˆ›å»º Telegram é€šçŸ¥ Group & åŠ å…¥æœºå™¨äººå¸å·



> *æˆ‘å¸Œæœ›ä¸åŒçš„ä¸ªäººé€šçŸ¥ç±»å‹ä¼ åˆ°ä¸åŒçš„ Groupï¼Œè¿™ **è¾¹å› ä¸º Demo åªåˆ›å»ºä¸€ä¸ª My Notify Group** ã€‚*



> *ä½ å¯ä»¥ä¾æ®å®é™…éœ€æ±‚åˆ›å»ºä¸åŒçš„ Group & ä¾ç…§æ­¥éª¤åŠ å…¥ã€è®¾å®šæœºå™¨äººã€‚*



![](/assets/6922e90ba90c/1*geb_lwnJOUXiuLHvguuXjQ.png)



![](/assets/6922e90ba90c/1*bfXDTACy4mW3LZlq6ErKzQ.png)



![](/assets/6922e90ba90c/1*ZmsCLqEZbNN3IS2uoZV8cw.png)



1. New Group


2. æœå¯»ä½ çš„æœºå™¨äººå¸å·ï¼†ç‚¹å‡»åŠ å…¥


3. è®¾å®š Group åç§°ã€å¤§å¤´è´´



#### Step 3. å–å¾— Group Chat ID



Telegram Bot API æ²¡æœ‰ç›´æ¥å–å¾— Group åˆ—è¡¨ã€Group Chat ID çš„ Endpointï¼Œåªèƒ½é€è¿‡ `/getUpdates` å–å¾—æœºå™¨äººè®¯æ¯åˆ—è¡¨ï¼Œå¹¶ä»ä¸­æ‰¾åˆ° Group Chat IDï¼š



**Request:**



```rust
curl 'https://api.telegram.org/botä½ çš„_BOT_API_Token/getUpdates'
```



- Telegram API æ ¼å¼ä¸º `https://api.telegram.org/bot` **ä½ çš„_BOT_API_Token** `/getUpdates` ï¼Œ BOT API Token å­—ä¸²å‰è¦åŠ ä¸Š `bot` å­—ä¸²


- èŒƒä¾‹ï¼š `curl 'https://api.telegram.org/bot7814194578:AAEWpPJvKn06ID7D9FjV65aDKQLkGkz8cc8/getUpdates'`



**Response:**



```json
{
    "ok": true,
    "result": [
        {
            "update_id": 706454235,
            "my_chat_member": {
                "chat": {
                    "id": -4532420331,
                    "title": "My Nofify",
                    "type": "group",
                    "all_members_are_administrators": false
                },
                "from": {
                    "id": 986128250,
                    "is_bot": false,
                    "first_name": "Harry",
                    "last_name": "Li",
                    "username": "zhgchgli"
                },
                "date": 1728726861,
                "old_chat_member": {
                    "user": {
                        "id": 7814194578,
                        "is_bot": true,
                        "first_name": "Harry Test",
                        "username": "harrytest56_bot"
                    },
                    "status": "left"
                },
                "new_chat_member": {
                    "user": {
                        "id": 7814194578,
                        "is_bot": true,
                        "first_name": "Harry Test",
                        "username": "harrytest56_bot"
                    },
                    "status": "member"
                }
            }
        },
        {
            "update_id": 706454236,
            "message": {
                "message_id": 1,
                "from": {
                    "id": 986128250,
                    "is_bot": false,
                    "first_name": "Harry",
                    "last_name": "Li",
                    "username": "zhgchgli"
                },
                "chat": {
                    "id": -4532420331,
                    "title": "My Nofify",
                    "type": "group",
                    "all_members_are_administrators": true
                },
                "date": 1728726861,
                "group_chat_created": true
            }
        },
        {
            "update_id": 706454237,
            "message": {
                "message_id": 2,
                "from": {
                    "id": 986128250,
                    "is_bot": false,
                    "first_name": "Harry",
                    "last_name": "Li",
                    "username": "zhgchgli"
                },
                "chat": {
                    "id": -4532420331,
                    "title": "My Nofify",
                    "type": "group",
                    "all_members_are_administrators": true
                },
                "date": 1728726864,
                "new_chat_photo": [
                    {
                        "file_id": "AgACAgUAAxkBAAMCZwpHUEaLZSvFFYu8GiO-8qI_jVYAApfAMRu0B1BUJP-4u2wF6scBAAMCAANhAAM2BA",
                        "file_unique_id": "AQADl8AxG7QHUFQAAQ",
                        "file_size": 5922,
                        "width": 160,
                        "height": 160
                    },
                    {
                        "file_id": "AgACAgUAAxkBAAMCZwpHUEaLZSvFFYu8GiO-8qI_jVYAApfAMRu0B1BUJP-4u2wF6scBAAMCAANiAAM2BA",
                        "file_unique_id": "AQADl8AxG7QHUFRn",
                        "file_size": 15097,
                        "width": 320,
                        "height": 320
                    },
                    {
                        "file_id": "AgACAgUAAxkBAAMCZwpHUEaLZSvFFYu8GiO-8qI_jVYAApfAMRu0B1BUJP-4u2wF6scBAAMCAANjAAM2BA",
                        "file_unique_id": "AQADl8AxG7QHUFQB",
                        "file_size": 37988,
                        "width": 640,
                        "height": 640
                    }
                ]
            }
        }
    ]
}
```



å¯ä»¥ä»å›åº”ä¸­æ‰¾åˆ°å¯¹åº” Group Name + type=group çš„å·¢çŠ¶ JSON èµ„æ–™ï¼Œå…¶ä¸­çš„ id å°±æ˜¯ Group Chat ID:



```json
"chat": {
  "id": -4532420331,
  "title": "My Nofify",
  "type": "group",
  "all_members_are_administrators": false
}
```



- `Group Chat Id` = `-4532420331`



> ***âš ï¸âš ï¸âš ï¸ï¸*** *å¦‚æœä½ çš„ Response ä¸ºç©º `{ "ok": true, "result": [] }` è¯·å°è¯•åœ¨ä½ çš„ Group å‘é€è®¯æ¯ (e.g. `Hello` ) å†é‡æ–° Call API åº”è¯¥å°±æœ‰äº†ã€‚*



#### Step 4. å‘é€è®¯æ¯



æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `/sendMessage` å‘é€è®¯æ¯åˆ° Groupã€‚



**Request:**



```rust
curl 'https://api.telegram.org/botä½ çš„_BOT_API_Token/sendMessage' \
--form 'chat_id="Group Chat Id"' \
--form 'text="è®¯æ¯å†…å®¹"'
```



**èŒƒä¾‹ï¼š**



```rust
curl 'https://api.telegram.org/bot7814194578:AAEWpPJvKn06ID7D9FjV65aDKQLkGkz8cc8/sendMessage' \
--form 'chat_id="-4532420331"' \
--form 'text="test"'
```



- [**API å‚æ•°å¯å‚è€ƒå®˜æ–¹æ–‡ä»¶**](https://core.telegram.org/bots/api#sendmessage){:target="_blank"}



**Response & Result:**



```json
{
  "ok": true,
  "result": {
    "message_id": 5,
    "from": {
      "id": 7814194578,
      "is_bot": true,
      "first_name": "Harry Test",
      "username": "harrytest56_bot"
    },
    "chat": {
      "id": -4532420331,
      "title": "My Nofify",
      "type": "group",
      "all_members_are_administrators": true
    },
    "date": 1728727847,
    "text": "test"
  }
}
```



- å‘é€æˆåŠŸå–å¾—ä»¥ä¸Š Response



![](/assets/6922e90ba90c/1*WG4ngRKKac1cICU4NvoEJA.png)



- å› Telegram Group å°±ä¼šå‡ºç°åˆšå‘é€çš„è®¯æ¯å†…å®¹ã€‚



### (2/2) ç§»è½¬ Line Notify å‘é€è®¯æ¯åˆ° Telegram Bot (Google Apps Script)



æˆ‘çš„ä¸ªäººé€šçŸ¥æœºå™¨äººæœåŠ¡æ˜¯ä½¿ç”¨ Google Apps Script è¾¾æˆçš„ï¼Œå› æ­¤ä»¥ Google Apps Script è½¬æ¢ä¸ºä¾‹ (ç±» JavaScript)ã€‚



#### åŸå§‹çš„ Line Notify å‘é€ç¨‹å¼ç ï¼š



```javascript
const lineToken = "XXXX";

function sendLineNotifyMessage(message) {
  var url = 'https://notify-api.line.me/api/notify';
  
  var options = {
    method: 'post',
    headers: {
      'Authorization': 'Bearer '+lineToken
    },
    payload: {
      'message': message
    }
  }; 
  const response = UrlFetchApp.fetch(url, options);
  Logger.log(response.getContentText());
}
```



å¯ä»¥çœ‹åˆ°éå¸¸ç®€å•æ–¹ä¾¿å¥½ç”¨â€¦



#### ç§»è½¬æˆ Telegram Bot å‘é€ç¨‹å¼ç ï¼š



```javascript
const telegramToken = "ä½ çš„_BOT_API_Token";
const TelegramChatId = {
  GA: -123456,
  GITHUB: -123457,
  MEDIUM: -123458
};

function sendNotifyMessage(message, chatId) {
  var url = "https://api.telegram.org/bot"+telegramToken+"/sendMessage";
  
  const payload = {
    "chat_id": chatId,
    "text": message,
    "parse_mode": "Markdown"
  } 
  const options = {
    'method': 'post',
    'contentType': 'application/json',
    'muteHttpExceptions': true,
    'payload': JSON.stringify(payload)
  };

  const response = UrlFetchApp.fetch(url, options);
  Logger.log(response.getContentText());
}
```



ç…§å‰é¢ Telegram Bot è®¾å®šæ­¥éª¤å–å¾—çš„èµ„è®¯ã€‚



- `telegramToken` = `ä½ çš„_BOT_API_Token`


- `TelegramChatId` è¿™è¾¹æ˜¯æˆ‘è‡ªå·±å¤šå®šä¹‰çš„æ–¹æ³•ï¼Œå› ä¸ºå®åŠ¡ä¸Šæˆ‘å¸Œæœ›ä¸åŒçš„é€šçŸ¥åˆ†åˆ«ä¼ é€åˆ°ä¸åŒçš„ Groupï¼Œå› æ­¤å®šä¹‰äº†ä¸€ä¸ªç»“æ„ç®¡ç†ç›®æ ‡ Group ä¸ä»–çš„ `Group Chat Id` ã€‚



`/sendMessage` [**API å‚æ•°ï¼Œæ›´å¤šå‚æ•°ã€ç»†èŠ‚å¯å‚è€ƒå®˜æ–¹æ–‡ä»¶**](https://core.telegram.org/bots/api#sendmessage){:target="_blank"} ï¼Œä»¥ä¸‹æ˜¯æˆ‘è‡ªå·±ä¼šç”¨åˆ°çš„å‚æ•°ï¼š



- text: è®¯æ¯å†…å®¹ (å¿…å¸¦)


- chat_id: ç›®æ ‡ Group Chat Id (å¿…å¸¦)


- parse_mode: è®¯æ¯å†…å®¹è§£ææ–¹å¼ï¼Œè¿™è¾¹æˆ‘æŒ‡å®š `Markdown`


- disable_web_page_preview: è®¯æ¯å†…å®¹çš„è¿ç»“æ˜¯å¦ä¸è¦é¢„è§ˆï¼Œè¿™è¾¹è®¾ `true` å…³é—­ï¼Œå¯ä»¥è®©è®¯æ¯æ˜¾ç¤ºæ›´ç®€æ´ã€‚



**ä½¿ç”¨æ–¹å¼ï¼š**



```scss
sendNotifyMessage("Hello", TelegramChatId.MEDIUM) // å‘é€ Hello è®¯æ¯åˆ° MEDIUM Group Chat Id
sendNotifyMessage("Hello", -1234) // å‘é€ Hello è®¯æ¯åˆ° -1234 Group Chat Id
```



### æˆæœ



ä»¥æˆ‘çš„ [Github Repo Star Notifier æœºå™¨äºº](../382218e15697/) ä¸ºä¾‹ï¼š



![](/assets/6922e90ba90c/1*yJDcnb7n1fIJAM-AV1Qk6w.png)



![](/assets/6922e90ba90c/1*5kBotSkNf9nN8NV-lCwZoQ.png)



- éªŒè¯æˆåŠŸï¼ å½“æœ‰äººæŒ‰æˆ‘çš„ Repo Star æ—¶èƒ½æ­£ç¡®æ”¹å‘é€é€šçŸ¥åˆ° Telegram Groupï¼ğŸ‰ğŸ‰ğŸ‰


- åˆ¶ä½œæ–¹å¼å¯å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ã€Œ [ä½¿ç”¨ Google Apps Script ä¸‰æ­¥éª¤å…è´¹å»ºç«‹ Github Repo Star Notifier](../382218e15697/) ã€



#### è®¾å®šç‰¹æ®Šå£°éŸ³æˆ–é™éŸ³



![](/assets/6922e90ba90c/1*kQsYkefi0SD7e9t4PerdRA.jpeg)



æ¯” Line Notify æ›´æ£’çš„äº‹æ˜¯æˆ‘ä»¬è¿˜å¯ä»¥å¯¹ä¸åŒçš„ Group è®¾å®šä¸åŒçš„é€šçŸ¥å£°éŸ³æˆ–æ˜¯é™éŸ³ã€‚



### ä¸ Telegram Bot äº¤äº’ (Command) x ä½¿ç”¨ Google Apps Script



é™¤äº†æ›¿ä»£ Notify åŠŸèƒ½ä¹‹å¤–ï¼Œ Telegram Bot è¿˜èƒ½è½»æ˜“åœ°å®ç°ä¸ä½¿ç”¨è€…äº¤äº’çš„åŠŸèƒ½ â€” Telegram Bot Commandã€‚



å›åˆ°æˆ‘çš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘çš„æœºå™¨äººä¼šå®šæ—¶æˆ–æ˜¯ Webhook è§¦å‘ä¼ é€é€šçŸ¥è®¯æ¯é€ç»™æˆ‘ï¼›ä½†æœ‰æ—¶å€™æˆ‘ä¹Ÿæƒ³æ‰‹åŠ¨è§¦å‘æœºå™¨äººç«‹åˆ»å–å¾—å½“å‰ç»“æœï¼Œä»¥å¾€ Line Notify æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä»¥ Google Apps Script æ¥è¯´å°±åªèƒ½æš´åŠ›çš„è®¾å®šä¸€ä¸ªç½‘å€ï¼Œåªè¦æ‰“å¼€ç½‘å€å°±ä¼šè§¦å‘ï¼Œå¾ˆä¸å¥½ç”¨ã€‚



Telegram Bot Command å°±èƒ½è®©æˆ‘ç›´æ¥è¾“å…¥æŒ‡ä»¤è®¯æ¯ï¼Œå‘½ä»¤æœºå™¨äººç«‹åˆ»æ‰§è¡Œæˆ‘æƒ³åšçš„äº‹æƒ…ã€‚



> *æœ¬æ–‡ä»¥ [Goolge Apps Script](https://script.google.com/home){:target="_blank"} ä¸ºä¾‹ï¼ŒGoogle Apps Script è¯¦ç»†ä»‹ç»å¯å‚è€ƒæˆ‘ä¹‹å‰æ–‡ç« ã€Œ [**ä½¿ç”¨ Google Apps Script å®ç° Google æœåŠ¡ RPA è‡ªåŠ¨åŒ–**](../f6713ba3fee3/) ã€ã€‚*



#### Step 1. ä½¿ç”¨ Google Apps Script å®ç° Command å¤„ç†é€»è¾‘



- å‰å¾€ Google Apps Script é¦–é¡µ


- å·¦ä¸Šæ–¹ã€Œå»ºç«‹æ–°ä¸“æ¡ˆã€


- ç‚¹å‡»ã€Œæœªå‘½åä¸“æ¡ˆã€è¾“å…¥ä¸“æ¡ˆåç§° e.g. `Telegram`


- è´´ä¸ŠåŸºç¡€ç¨‹å¼ç ï¼š



![](/assets/6922e90ba90c/1*ZeW4O7Mdgcyj0VsSLDpxeA.png)



```javascript
const telegramToken = "ä½ çš„_BOT_API_Token";

function doPost(e) {
  const content = JSON.parse(e.postData.contents);
  if (content.message && content.message.text) {
    const command = content.message.text.split(' ')[0];
    const chatId = content.message.chat.id;

    if (command.startsWith("/update")) { 
      // æ”¶åˆ° /update æŒ‡ä»¤
      // åœ¨è¿™è¾¹å¤„ç†ä½ æƒ³åšçš„äº‹...ç„¶åå›åº”...
      sendNotifyMessage("ä½ å¥½.....\næŒ‡ä»¤:"+command, chatId);
    }
  }

  return HtmlService.createHtmlOutput("OK!");
}

function sendNotifyMessage(message, chatId) {
  var url = "https://api.telegram.org/bot"+telegramToken+"/sendMessage";
  
  const payload = {
    "chat_id": chatId,
    "text": message,
    "disable_web_page_preview": true,
    "parse_mode": "Markdown"
  } 
  const options = {
    'method': 'post',
    'contentType': 'application/json',
    'muteHttpExceptions': true,
    'payload': JSON.stringify(payload)
  };

  const response = UrlFetchApp.fetch(url, options);
  Logger.log(response.getContentText());
}
```



- `telegramToken` = `ä½ çš„_BOT_API_Token`


- ä¸Šè¿° Demo ç¨‹å¼æˆ‘ä»¬åœ¨æ”¶åˆ° Post è¯·æ±‚ã€Command å‚æ•°ç­‰äº `/update` æ—¶å›åº” `ä½ å¥½â€¦` æ¨¡æ‹Ÿæ”¶åˆ°æŒ‡ä»¤åå¤„ç†åå›åº”çš„åœºæ™¯ã€‚



#### Step 2. å®Œæˆ Google Apps Script Web éƒ¨ç½²



![](/assets/6922e90ba90c/1*JfJfs4bYsSfsZYGVkApCSg.png)



![](/assets/6922e90ba90c/1*TwSm45_Xwv4p7z4o9HJz2w.png)



![](/assets/6922e90ba90c/1*7RLJXZ3APnEI4V9bKqp3eg.png)



- å³ä¸Šè§’ã€Œéƒ¨ç½²ã€-&gt; ã€Œæ–°å¢éƒ¨ç½²ä½œä¸šã€


- å·¦ä¸Šè§’ã€Œè®¾å®šã€-&gt;ã€Œç½‘é¡µåº”ç”¨ç¨‹å¼ã€


- è°å¯ä»¥å­˜å–é€‰æ‹©ã€Œæ‰€æœ‰äººã€



![](/assets/6922e90ba90c/1*aRBaOOnhwBeK05l9e3Yv8g.png)



![](/assets/6922e90ba90c/1*FtY8NL36peDbOB4JWdzhDA.png)



![](/assets/6922e90ba90c/1*e2E41TCEf5O7nSOnVzpgbw.png)



- æ–°å¢éƒ¨ç½²ä½œä¸šï¼Œé€‰æ‹©ã€Œæˆäºˆå­˜å–æƒã€


- è·³å‡ºå¸å·è§†çª—ï¼Œé€‰æ‹©ä½ çš„ Google ç™»å…¥å¸å·


- è·³å‡ºè­¦å‘Šè§†çª—ï¼Œé€‰æ‹©ã€ŒAdvancedã€-&gt;ã€ŒGo to `ä¸“æ¡ˆåç§°` (unsafe)ã€


- é€‰æ‹©ã€ŒAllowã€



![](/assets/6922e90ba90c/1*n0iO-XSPqifUKUkIgVQUSg.png)



- ç½‘é¡µåº”ç”¨ç¨‹å¼ç½‘å€ï¼š `ä½ çš„ Webhook ç½‘å€` **ã€‚**
  å¤åˆ¶ä¸‹æ¥ã€‚
  e.g. `https://script.google.com/macros/s/AKfycbx2oFv-eB4LezdOk3P3aoEZVhx_PI6n_YnTNP7WVVQSaiRU52di5bKNThsvIZxus3Si/exec`



> *Google Apps Script ç½‘é¡µåº”ç”¨ç¨‹å¼éƒ¨ç½²ã€æ›´æ–°ã€ä½¿ç”¨ã€é™¤é”™å¯å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ã€Œ [**ä½¿ç”¨ Google Apps Script å®ç° Google æœåŠ¡ RPA è‡ªåŠ¨åŒ–**](../f6713ba3fee3/) ã€ã€‚*



> ***âš ï¸âš ï¸âš ï¸ è¯·æ³¨æ„ï¼Œå¦‚æœ Google Apps Script ç¨‹å¼ç æœ‰å˜æ›´è¦ç‚¹å‡»éƒ¨ç½²-&gt;ç®¡ç†éƒ¨ç½²-&gt;é€‰æ‹©å»ºç«‹æ–°ç‰ˆæœ¬æ‰ä¼šç”Ÿæ•ˆï¼Œç»†èŠ‚å¯å‚è€ƒä¸Šè¿°æ–‡ç« ã€‚***



> ***âš ï¸âš ï¸âš ï¸è¯·æ³¨æ„ï¼Œå¦‚æœ Google Apps Script ç¨‹å¼ç æœ‰å˜æ›´è¦ç‚¹å‡»éƒ¨ç½²-&gt;ç®¡ç†éƒ¨ç½²-&gt;é€‰æ‹©å»ºç«‹æ–°ç‰ˆæœ¬æ‰ä¼šç”Ÿæ•ˆï¼Œç»†èŠ‚å¯å‚è€ƒä¸Šè¿°æ–‡ç« ã€‚***



> ***âš ï¸âš ï¸âš ï¸è¯·æ³¨æ„ï¼Œå¦‚æœ Google Apps Script ç¨‹å¼ç æœ‰å˜æ›´è¦ç‚¹å‡»éƒ¨ç½²-&gt;ç®¡ç†éƒ¨ç½²-&gt;é€‰æ‹©å»ºç«‹æ–°ç‰ˆæœ¬æ‰ä¼šç”Ÿæ•ˆï¼Œç»†èŠ‚å¯å‚è€ƒä¸Šè¿°æ–‡ç« ã€‚***



#### Step 3. æ³¨å†Œ Webhook



ä½¿ç”¨ Telegram API `/setWebhook` æ³¨å†Œä½ çš„ Webhook ç½‘å€ã€‚



**Request:**



```rust
curl --location 'https://api.telegram.org/ä½ çš„_BOT_API_Token/setWebhook' \
--form 'url="ä½ çš„ Webhook ç½‘å€"'
```



**Response:**



```json
{
    "ok": true,
    "result": true,
    "description": "Webhook was set"
}
```



#### æµ‹è¯•



![](/assets/6922e90ba90c/1*wNhksFLSip5DC0rXqMA_0A.png)



![](/assets/6922e90ba90c/1*d_B3h3C30vI61p3ALP77yw.png)



- æˆ‘ä»¬ä¼šæ ¹æ®ä¸åŒçš„ Chat Id å›åº”ï¼Œå› æ­¤ä¸ç®¡æ˜¯ 1:1 å¯¹æœºå™¨äººæˆ–æ˜¯æœ‰æœºå™¨äººåœ¨çš„ Group ç¾¤ç»„éƒ½èƒ½å›åº”ã€‚


- æˆåŠŸ ğŸ‰ğŸ‰ğŸ‰



### ä¸‹ç¯‡ï¼š



- [ç®€å• 3 æ­¥éª¤ â€” æ‰“é€ å…è´¹ GA4 è‡ªåŠ¨æ•°æ®é€šçŸ¥æœºå™¨äºº](../1e85b8df2348/)



### å…¶ä»– Google Apps Script è‡ªåŠ¨åŒ–æ–‡ç« 



- [ä½¿ç”¨ Google Apps Script å®ç° Google æœåŠ¡ RPA è‡ªåŠ¨åŒ–](../f6713ba3fee3/)


- [Slack & ChatGPT Integration](../bd94cc88f9c9/)


- [ä½¿ç”¨ Google Apps Script ä¸‰æ­¥éª¤å…è´¹å»ºç«‹ Github Repo Star Notifier](../382218e15697/)



#### é™„æ³¨



![](/assets/6922e90ba90c/1*zOFjvO5SSwbJgFL8kMff0w.png)



æœ¬æ–‡ä¹Ÿæ˜¯æˆ‘ Medium çš„ç¬¬ 100 ç¯‡æ–‡ç« (2018/10 å‘è¡¨ [ç¬¬ä¸€ç¯‡](../b7a3fb3d5531/) ï¼Œ6 å¹´äº†)ï¼ŒåšæŒä¸æ‡ˆã€ç»§ç»­åŠªåŠ›ï¼Œè¯¦ç»†å¿ƒå¾—è·Ÿæ•°æ®ç­‰åˆ°ç ´ 1000 Followers (2024/10 ç›®å‰ 925) æˆ–æ˜¯æ€»æµè§ˆæ•°ç ´ 1,000,000 (2024/10 ç›®å‰ 984,549) æ—¶å†æ¥åˆ†äº«ã€‚



æœ‰ä»»ä½•é—®é¢˜åŠæŒ‡æ•™æ¬¢è¿ [ä¸æˆ‘è”ç»œ](https://www.zhgchg.li/contact){:target="_blank"} ã€‚



*[Post](https://medium.com/zrealm-robotic-process-automation/10-%E5%88%86%E9%90%98%E5%BF%AB%E9%80%9F%E7%A7%BB%E8%BD%89-line-notify-%E5%88%B0-telegram-bot-%E9%80%9A%E7%9F%A5-6922e90ba90c){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}.*
---
author: ZhgChgLi
categories:
- ZRealm Dev.
date: 2018-11-12T14:38:42.897+0000
description: é™¤äº†ä»ç³»ç»Ÿå…³é—­é€šçŸ¥ï¼Œè®©ä½¿ç”¨è€…è¿˜æœ‰å…¶ä»–é€‰æ‹©Â .providesAppNotificationSettings/openSettingsFor
image:
  path: /assets/f644db1bb8bf/1*DEOMdPwDxyHca-GnYr8HIQ.jpeg
last_modified_at: 2024-04-13T07:32:20.248+0000
render_with_liquid: false
tags:
- simplified-chinese
- ios-app-development
- ios
- swift
- push-notification
- ios-12
title: iOS â‰¥ 12 åœ¨ä½¿ç”¨è€…çš„ã€Œè®¾å®šã€ä¸­å¢åŠ ã€ŒAPPé€šçŸ¥è®¾å®šé¡µã€æ·å¾„ (Swift)
---

### iOS â‰¥ 12 åœ¨ä½¿ç”¨è€…çš„ã€Œè®¾å®šã€ä¸­å¢åŠ ã€ŒAPPé€šçŸ¥è®¾å®šé¡µã€æ·å¾„ (Swift)



é™¤äº†ä»ç³»ç»Ÿå…³é—­é€šçŸ¥ï¼Œè®©ä½¿ç”¨è€…è¿˜æœ‰å…¶ä»–é€‰æ‹©



#### ç´§æ¥è‘—å‰ä¸‰ç¯‡æ–‡ç« ï¼š



- [iOS â‰¥ 10 Notification Service Extension åº”ç”¨ (Swift)](../cb6eba52a342/)


- [ä»€ä¹ˆï¼ŸiOS 12 ä¸éœ€ä½¿ç”¨è€…æˆæƒå°±èƒ½ä¼ é€æ¨æ’­é€šçŸ¥(Swift)](../ade9e745a4bf/)


- [ä» iOS 9 åˆ° iOS 12 æ¨æ’­é€šçŸ¥æƒé™çŠ¶æ€å¤„ç†(Swift)](../fd7f92d52baa/)



æˆ‘ä»¬ç»§ç»­é’ˆå¯¹æ¨æ’­è¿›è¡Œæ”¹è¿›ï¼Œä¸ç®¡æ˜¯åŸæœ‰çš„æŠ€æœ¯æˆ–æ˜¯æ–°å¼€æ”¾çš„åŠŸèƒ½ï¼Œéƒ½æ¥å°è¯•å°è¯•ï¼



### è¿™æ¬¡æ˜¯å•¥ï¼Ÿ



iOS â‰¥ 12 å¯ä»¥åœ¨ä½¿ç”¨è€…çš„ã€Œè®¾å®šã€ä¸­å¢åŠ æ‚¨çš„APPé€šçŸ¥è®¾å®šé¡µé¢æ·å¾„ï¼Œè®©ä½¿ç”¨è€…æƒ³è¦è°ƒæ•´é€šçŸ¥æ—¶ï¼Œèƒ½æœ‰å…¶ä»–é€‰æ‹©ï¼›å¯ä»¥è·³è½¬åˆ°ã€ŒAPPå†…ã€è€Œä¸æ˜¯ä»ã€Œç³»ç»Ÿé¢ã€ç›´æ¥å…³é—­ï¼Œã„§æ ·ä¸å•°å”†å…ˆä¸Šå›¾ï¼š



![ã€Œè®¾å®šã€-&gt;ã€ŒAPPã€-&gt;ã€Œé€šçŸ¥ã€-&gt;ã€Œåœ¨APPä¸­è®¾å®šã€](/assets/f644db1bb8bf/1*BAdVMElIjgg34meOSdHhOw.gif)



ã€Œè®¾å®šã€-&gt;ã€ŒAPPã€-&gt;ã€Œé€šçŸ¥ã€-&gt;ã€Œåœ¨APPä¸­è®¾å®šã€



å¦å¤–åœ¨ä½¿ç”¨è€…æ”¶åˆ°é€šçŸ¥æ—¶ï¼Œè‹¥æ¬²ä½¿ç”¨3D Touchè°ƒæ•´è®¾å®šã€Œå…³é—­ã€é€šçŸ¥ï¼Œä¼šå¤šä¸€ä¸ªã€Œåœ¨APPä¸­è®¾å®šã€çš„é€‰é¡¹ä¾›ä½¿ç”¨è€…é€‰æ‹©



![ã€Œé€šçŸ¥ã€-&gt;ã€Œ3D Touchã€-&gt;ã€Œâ€¦ã€-&gt;ã€Œå…³é—­â€¦ã€-&gt;ã€Œåœ¨APPä¸­è®¾å®šã€](/assets/f644db1bb8bf/1*KMKbYQU3nPfF9XpMS5NbPQ.gif)



ã€Œé€šçŸ¥ã€-&gt;ã€Œ3D Touchã€-&gt;ã€Œâ€¦ã€-&gt;ã€Œå…³é—­â€¦ã€-&gt;ã€Œåœ¨APPä¸­è®¾å®šã€



### æ€ä¹ˆå®ä½œï¼Ÿ



è¿™éƒ¨åˆ†çš„å®ä½œéå¸¸ç®€å•ï¼Œç¬¬ä¸€æ­¥ä»…éœ€åœ¨è¦æ±‚æ¨æ’­æƒé™æ—¶å¤šè¦æ±‚ä¸€ä¸ª **.providesAppNotificationSettings** æƒé™å³å¯



```swift
//appDelegate.swift didFinishLaunchingWithOptions or....
if #available(iOS 12.0, *) {
    let center = UNUserNotificationCenter.current()
    let permissiones:UNAuthorizationOptions = [.badge, .alert, .sound, .provisional,.providesAppNotificationSettings]
    center.requestAuthorization(options: permissiones) { (granted, error) in
        
    }
}
```



![](/assets/f644db1bb8bf/1*_xztNYANTU6ilOXY_qKOKA.png)



åœ¨è¯¢é—®è¿‡ä½¿ç”¨è€…è¦ä¸è¦å…è®¸é€šçŸ¥ä¹‹åï¼Œé€šçŸ¥è‹¥ä¸ºå¼€å¯çŠ¶æ€ä¸‹æ–¹å°±ä¼šå‡ºç°é€‰é¡¹å•°ï¼ˆ **ä¸è®ºå‰é¢ä½¿ç”¨è€…æŒ‰å…è®¸æˆ–ä¸å…è®¸** ï¼‰ã€‚



#### ç¬¬äºŒæ­¥ï¼š



ç¬¬äºŒæ­¥ï¼Œä¹Ÿæ˜¯æœ€åä¸€æ­¥ï¼›æˆ‘ä»¬è¦è®© **appDelegate** éµå®ˆ **UNUserNotificationCenterDelegate** ä»£ç†å¹¶å®ä½œ **userNotificationCenter( _ center: UNUserNotificationCenter, openSettingsFor notification: UNNotification?)** æ–¹æ³•å³å¯ï¼



```swift
//appDelegate.swift
import UserNotifications
@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?
    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {
        if #available(iOS 10.0, *) {
            UNUserNotificationCenter.current().delegate = self
        }
        
        return true
    }
    //å…¶ä»–éƒ¨ä»½çœç•¥...
}
extension AppDelegate: UNUserNotificationCenterDelegate {
    @available(iOS 10.0, *)
    func userNotificationCenter(_ center: UNUserNotificationCenter, openSettingsFor notification: UNNotification?) {
        //è·³è½¬åˆ°ä½ çš„è®¾å®šé¡µé¢ä½ç½®..
        //EX:
        //let VC = SettingViewController();
        //self.window?.rootViewController.present(alertController, animated: true)
    }
}
```



- åœ¨Appdelegateçš„didFinishLaunchingWithOptionsä¸­å®ç°ä»£ç†


- Appdelegateéµå®ˆä»£ç†å¹¶å®ä½œæ–¹æ³•



å®Œæˆï¼ç›¸è¾ƒäºå‰å‡ ç¯‡æ–‡ç« ï¼Œè¿™ä¸ªåŠŸèƒ½å®ä½œç›¸è¾ƒèµ·æ¥éå¸¸ç®€å• ğŸ†



### æ€»ç»“



è¿™ä¸ªåŠŸèƒ½è·Ÿ [å‰ä¸€ç¯‡](../ade9e745a4bf/) æåˆ°çš„å…ˆä¸ç”¨ä½¿ç”¨è€…æˆæƒå°±å‘å¹²æ‰°æ€§è¾ƒä½çš„é™éŸ³æ¨æ’­ç»™ä½¿ç”¨è€…è¯•è¯•æ°´æ¸©æœ‰ç‚¹ç±»ä¼¼ï¼



éƒ½æ˜¯åœ¨å¼€å‘è€…ä¸ä½¿ç”¨è€…ä¹‹å‰æ¶èµ·æ–°çš„æ¡¥æ¢ï¼Œä»¥å¾€APPå¤ªåµï¼Œæˆ‘ä»¬ä¼šç›´æ¥è¿›åˆ°è®¾å®šé¡µæ— æƒ…åœ°å…³é—­æ‰€æœ‰é€šçŸ¥ï¼Œä½†è¿™æ ·å¯¹å¼€å‘è€…æ¥è¯´ï¼Œä»¥åä¸ç®¡å¥½çš„åçš„æœ‰ç”¨çš„â€¦ä»»ä½•é€šçŸ¥éƒ½æ— æ³•å†å‘ç»™ä½¿ç”¨è€…ï¼Œä½¿ç”¨è€…å¯èƒ½ä¹Ÿå› æ­¤é”™è¿‡é‡è¦æ¶ˆæ¯æˆ–é™å®šä¼˜æƒ ï¼



è¿™ä¸ªåŠŸèƒ½è®©ä½¿ç”¨è€…æ¬²å…³é—­é€šçŸ¥æ—¶èƒ½æœ‰è¿›åˆ°APPè°ƒæ•´é€šçŸ¥çš„é€‰æ‹©ï¼Œå¼€å‘è€…å¯ä»¥é’ˆå¯¹æ¨æ’­é¡¹ç›®ç»†åˆ†ï¼Œè®©ä½¿ç”¨è€…å†³å®šè‡ªå·±æƒ³è¦æ”¶åˆ°ä»€ä¹ˆç±»å‹çš„æ¨æ’­ã€‚



![](/assets/f644db1bb8bf/1*ju98WxxFonEimTx2tEFO3Q.jpeg)



ä»¥ [ç»“å©šå§APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&mt=8){:target="_blank"} æ¥è¯´ï¼Œä½¿ç”¨è€…è‹¥è§‰å¾—ä¸“æ é€šçŸ¥å¤ªå¹²æ‰°ï¼Œå¯ä¸ªåˆ«å…³é—­ï¼›ä½†ä¾ç„¶èƒ½æ”¶åˆ°é‡è¦ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥ï¼



> **p.s ä¸ªåˆ«å…³é—­é€šçŸ¥åŠŸèƒ½æ˜¯æˆ‘ä»¬APPæœ¬æ¥å°±æœ‰çš„åŠŸèƒ½ï¼Œä½†é€è¿‡ç»“åˆiOS â‰¥12çš„æ–°é€šçŸ¥ç‰¹æ€§èƒ½æœ‰æ›´å¥½çš„æ•ˆæœåŠä½¿ç”¨è€…ä½“éªŒçš„æå‡**



![](/assets/f644db1bb8bf/1*DEOMdPwDxyHca-GnYr8HIQ.jpeg)



æœ‰ä»»ä½•é—®é¢˜åŠæŒ‡æ•™æ¬¢è¿ [ä¸æˆ‘è”ç»œ](https://www.zhgchg.li/contact){:target="_blank"} ã€‚



*[Post](https://medium.com/zrealm-ios-dev/ios-12-%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%80%85%E7%9A%84-%E8%A8%AD%E5%AE%9A-%E4%B8%AD%E5%A2%9E%E5%8A%A0-app%E9%80%9A%E7%9F%A5%E8%A8%AD%E5%AE%9A%E9%A0%81-%E6%8D%B7%E5%BE%91-swift-f644db1bb8bf){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}.*
---
author: ZhgChgLi
categories:
- ZRealm Dev.
date: 2023-08-01T14:32:14.687+0000
description: æ’°å†™ GAS ä¸²æ¥ Github Webhook è½¬å‘æŒ‰æ˜Ÿæ˜Ÿ Like é€šçŸ¥åˆ° Line
image:
  path: /assets/382218e15697/1*fUtW942huwnSbPF-ar4OCQ.png
last_modified_at: 2024-10-12T13:15:53.135+0000
render_with_liquid: false
tags:
- simplified-chinese
- ios-app-development
- google-app-script
- github
- notifications
- stars
title: ä½¿ç”¨ Google Apps Script ä¸‰æ­¥éª¤å…è´¹å»ºç«‹ Github Repo Star Notifier
---

### ä½¿ç”¨ Google Apps Script ä¸‰æ­¥éª¤å…è´¹å»ºç«‹ Github Repo Star Notifier



æ’°å†™ GAS ä¸²æ¥ Github Webhook è½¬å‘æŒ‰æ˜Ÿæ˜Ÿ Like é€šçŸ¥åˆ° Line



#### å‰è¨€



èº«ä¸ºå¼€æºä¸“æ¡ˆçš„ç»´æŠ¤è€…ï¼Œä¸ä¸ºé’±ä¸ä¸ºåï¼Œåªä¸ºä¸€ä¸ª **è™šè£å¿ƒ** ï¼›æ¯å½“çœ‹åˆ°æœ‰æ–°çš„ â­ï¸ æ˜Ÿæ˜Ÿæ—¶ï¼Œå¿ƒä¸­éƒ½çªƒå–œä¸å·²ï¼›èŠ±æ—¶é—´èŠ±ç²¾åŠ›åšçš„ä¸“æ¡ˆçœŸçš„æœ‰äººåœ¨ç”¨ã€çœŸçš„æœ‰å¸®åŠ©çš„æœ‰åŒæ ·é—®é¢˜çš„æœ‹å‹ã€‚



![[Star History Chart](https://star-history.com/#ZhgChgLi/ZMarkupParser&Date){:target="_blank"}](/assets/382218e15697/1*fUtW942huwnSbPF-ar4OCQ.png)



[Star History Chart](https://star-history.com/#ZhgChgLi/ZMarkupParser&Date){:target="_blank"}



å› æ­¤å¯¹ â­ï¸ æ˜Ÿæ˜Ÿçš„è§‚æµ‹å¤šå°‘æœ‰ç‚¹å¼ºè¿«ç—‡ï¼Œæ—¶ä¸æ—¶å°±åˆ·ä¸€ä¸‹ Github æŸ¥çœ‹ â­ï¸æ˜Ÿæ˜Ÿ æ•°æœ‰æ²¡æœ‰å¢åŠ ï¼›æˆ‘å°±åœ¨æƒ³æœ‰æ²¡æœ‰æ›´ä¸»åŠ¨ä¸€ç‚¹çš„æ–¹å¼ï¼Œå½“æœ‰äºº æŒ‰ â­ï¸æ˜Ÿæ˜Ÿ æ—¶ä¸»åŠ¨è·³é€šçŸ¥æç¤ºï¼Œä¸éœ€è¦æ‰‹åŠ¨è¿½è¸ªæŸ¥è¯¢ã€‚



#### ç°æœ‰å·¥å…·



é¦–å…ˆè€ƒè™‘å¯»æ‰¾ç°æœ‰å·¥å…·è¾¾æˆï¼Œåˆ° [Github Marketplace](https://github.com/marketplace?type=apps&query=Star+Notifier+){:target="_blank"} æœå¯»äº†ä¸€ä¸‹ï¼Œæœ‰å‡ ä¸ªå¤§ç¥åšå¥½çš„å·¥å…·å¯ä»¥ä½¿ç”¨ã€‚



![](/assets/382218e15697/1*wQZ6-F77v2SEepm90YAF-A.png)



è¯•äº†å…¶ä¸­å‡ ä¸ªæ•ˆæœä¸å¦‚é¢„æœŸï¼Œæœ‰çš„å·²ä¸åœ¨è¿ä½œã€æœ‰çš„åªèƒ½åœ¨æ¯ 5/10/20 ä¸ª â­ï¸æ˜Ÿæ˜Ÿ æ—¶å‘é€é€šçŸ¥(æˆ‘åªæ˜¯å°å°ï¼Œæœ‰ 1 ä¸ªæ–°çš„ â­ï¸ å°±å¾ˆå¼€å¿ƒäº†ğŸ˜)ã€é€šçŸ¥åªèƒ½å‘ä¿¡ä»¶ä½†æˆ‘æƒ³è¦ç”¨ SNS é€šçŸ¥ã€‚



å†åŠ ä¸Šåªæ˜¯ä¸ºäº†ã€Œè™šè£å¿ƒã€è£…ä¸€ä¸ª Appï¼Œå¿ƒé‡Œä¸å¤ªè¸å®ï¼Œæ€•æœ‰èµ„å®‰é£é™©é—®é¢˜ã€‚



iOS ä¸Šçš„ [Github](https://apps.apple.com/tw/app/github/id1477376905){:target="_blank"} App æˆ– [GitTrends](https://github.com/brminnick/GitTrends){:target="_blank"} â€¦ç­‰ç­‰ç¬¬ä¸‰æ–¹ App ä¹Ÿéƒ½ä¸æ”¯æ´æ­¤åŠŸèƒ½ã€‚



### è‡ªå·±æ‰“é€  Github Repo Star Notifier



åŸºäºä»¥ä¸Šï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ Google Apps Script å…è´¹ã€å¿«é€Ÿæ‰“é€ è‡ªå·±çš„ Github Repo Star Notifierã€‚



### 2024/10/12 Update



> *âš ï¸âš ï¸âš ï¸*



> *å›  Line Notify å°†äº [2025/04/01 å…³é—­](https://notify-bot.line.me/closing-announce){:target="_blank"} ï¼Œè¯·å‚è€ƒ **æˆ‘çš„æœ€æ–°æ–‡ç« ã€Œ [10 åˆ†é’Ÿå¿«é€Ÿç§»è½¬ Line Notify åˆ° Telegram Bot é€šçŸ¥](../6922e90ba90c/) ã€** æ”¹ä½¿ç”¨ Telegram ä¸²æ¥é€šçŸ¥åŠŸèƒ½ã€‚*



#### å‡†å¤‡å·¥ä½œ



æœ¬æ–‡ä»¥ Line åšä¸ºé€šçŸ¥åª’ä»‹ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨å…¶ä»–é€šè®¯è½¯ä½“é€šçŸ¥å¯ä»¥è¯¢é—® [ChatGPT](https://chat.openai.com){:target="_blank"} å¦‚ä½•å®ç°ã€‚



![è¯¢é—® [ChatGPT](https://chat.openai.com){:target="_blank"} å¦‚ä½•å®ç° Line Notify](/assets/382218e15697/1*NzEyi3zdzD5QDhLvpsFocA.png)



è¯¢é—® [ChatGPT](https://chat.openai.com){:target="_blank"} å¦‚ä½•å®ç° Line Notify



`lineToken` ï¼š



- å‰å¾€ [Line Notify](https://notify-bot.line.me/my/){:target="_blank"}


- ç™»å…¥ä½ çš„ Line å¸å·ä¹‹åæ‹‰åˆ°åº•æ‰¾åˆ°ã€ŒGenerate access token (For developers)ã€åŒº



![](/assets/382218e15697/1*GA_ORi8TX3N8jPSxX4OqHw.png)



- ç‚¹å‡»ã€ŒGenerate tokenã€



![](/assets/382218e15697/1*qu1mFEhu8f6_bXRvW0uFpw.png)



- Token Nameï¼šè¾“å…¥ä½ æƒ³è¦çš„æœºå™¨äººå¤´è¡”åç§°ï¼Œä¼šæ˜¾ç¤ºåœ¨è®¯æ¯ä¹‹å‰ (e.g. `Github Repo Notifer: XXXX` )


- é€‰æ‹©è®¯æ¯è¦ä¼ é€åˆ°çš„åœ°æ–¹ï¼šæˆ‘é€‰æ‹© `1-on-1 chat with LINE Notify` é€è¿‡ LINE Notify å®˜æ–¹æœºå™¨äººå‘é€è®¯æ¯ç»™è‡ªå·±ã€‚


- ç‚¹å‡»ã€ŒGenerate tokenã€



![](/assets/382218e15697/1*DMXhPQBiBQH_dTYA4mayHw.png)



- é€‰æ‹©ã€ŒCopyã€


- **å¹¶è®°ä¸‹ Tokenï¼Œå¦‚æœæ—¥åé—å¿˜éœ€è¦é‡æ–°äº§ç”Ÿï¼Œæ— æ³•å†æ¬¡æŸ¥çœ‹** ã€‚



`githubWebhookSecret` ï¼š



- å‰å¾€ [Random.org](https://www.random.org/strings/?num=1&len=32&digits=on&upperalpha=on&loweralpha=on&unique=on&format=html&rnd=new){:target="_blank"} äº§ç”Ÿä¸€ç»„éšæœºå­—ä¸²



![](/assets/382218e15697/1*eh6baff8FBN7e_m8YjSy-Q.png)



- Copy & è®°ä¸‹æ­¤éšæœºå­—ä¸²



æˆ‘ä»¬ä¼šç”¨è¿™ç»„å­—ä¸²åšä¸º Github Webhook ä¸ Goolge Apps Script ä¹‹é—´çš„è¯·æ±‚éªŒè¯åª’ä»‹ã€‚



> å›  [GAS é™åˆ¶](https://issuetracker.google.com/issues/67764685?pli=1){:target="_blank"} ï¼Œæ— æ³•åœ¨ `doPost(e)` ä¸­å–å¾— `Headers` å†…å®¹ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ Github Webhook [æ ‡å‡†çš„éªŒè¯æ–¹å¼](https://docs.github.com/en/webhooks-and-events/webhooks/securing-your-webhooks){:target="_blank"} ï¼Œåªèƒ½æ‰‹åŠ¨ç”¨ `?secret=` Query åšå­—ä¸²åŒ¹é…éªŒè¯ã€‚



#### å»ºç«‹ Google Apps Script



å‰å¾€ **[Google Apps Script](https://script.google.com/home/start){:target="_blank"}** ï¼Œç‚¹å‡»å·¦ä¸Šè§’ã€Œ+ æ–°ä¸“æ¡ˆã€ã€‚



![[**Google Apps Script**](https://script.google.com/home/start){:target="_blank"}](/assets/382218e15697/1*ajoOp3ZLc88ecEtYbUVP4A.png)



[**Google Apps Script**](https://script.google.com/home/start){:target="_blank"}



ç‚¹å‡»å·¦ä¸Šæ–¹ã€Œæœªå‘½åçš„ä¸“æ¡ˆã€é‡æ–°å‘½åä¸“æ¡ˆã€‚



![](/assets/382218e15697/1*Gv2KLHa-7qNnL71_jBblGA.png)



è¿™è¾¹æˆ‘æŠŠä¸“æ¡ˆå–åä¸º `My-Github-Repo-Notifier` æ–¹ä¾¿æ—¥åè¾¨è¯†ã€‚



**ç¨‹å¼ç è¾“å…¥åŒºåŸŸï¼š**



```javascript
// Constant variables
const lineToken = 'XXXX';
// Generate yours line notify bot token: https://notify-bot.line.me/my/
const githubWebhookSecret = "XXXXX";
// Generate yours secret string here: https://www.random.org/strings/?num=1&len=32&digits=on&upperalpha=on&loweralpha=on&unique=on&format=html&rnd=new

// HTTP Get/Post Handler
// ä¸å¼€æ”¾ Get æ–¹æ³•
function doGet(e) {
  return HtmlService.createHtmlOutput("Access Denied!");
}

// Github Webhook ä¼šä½¿ç”¨ Post æ–¹æ³•è¿›æ¥
function doPost(e) {
  const content = JSON.parse(e.postData.contents);
  
  // å®‰å…¨æ€§æ£€æŸ¥ï¼Œç¡®ä¿è¯·æ±‚æ˜¯æ¥è‡ª Github Webhook
  if (verifyGitHubWebhook(e) == false) {
    return HtmlService.createHtmlOutput("Access Denied!");
  }

  // star payload data content["action"] == "started"
  if(content["action"] != "started") {
    return HtmlService.createHtmlOutput("OK!");
  }

  // ç»„åˆè®¯æ¯ 
  const message = makeMessageString(content);
  
  // å‘é€è®¯æ¯ï¼Œä¹Ÿå¯æ”¹æˆå‘åˆ° Slack,Telegram...
  sendLineNotifyMessage(message);

  return HtmlService.createHtmlOutput("OK!");
}

// Method
// äº§ç”Ÿè®¯æ¯å†…å®¹
function makeMessageString(content) {
  const repository = content["repository"];
  const repositoryName = repository["name"];
  const repositoryURL = repository["svn_url"];
  const starsCount = repository["stargazers_count"];
  const forksCount = repository["forks_count"];

  const starrer = content["sender"]["login"];

  var message = "ğŸ‰ğŸ‰ã€Œ"+starrer+"ã€starred yourã€Œ"+repositoryName+"ã€Repo ğŸ‰ğŸ‰\n";
  message += "Current total stars: "+starsCount+"\n";
  message += "Current total forks: "+forksCount+"\n";
  message += repositoryURL;

  return message;
}

// éªŒè¯è¯·æ±‚æ˜¯å¦æ¥è‡ªäº Github Webhook
// å›  GAS é™åˆ¶ (https://issuetracker.google.com/issues/67764685?pli=1)
// æ— æ³•å–å¾— Headers å†…å®¹
// å› æ­¤ä¸èƒ½ä½¿ç”¨ Github Webhook æ ‡å‡†çš„éªŒè¯æ–¹å¼ (https://docs.github.com/en/webhooks-and-events/webhooks/securing-your-webhooks)
// åªèƒ½æ‰‹åŠ¨ç”¨ ?secret=XXX åšåŒ¹é…éªŒè¯
function verifyGitHubWebhook(e) {
  if (e.parameter["secret"] === githubWebhookSecret) {
    return true
  } else {
    return false
  }
}

// -- Send Message --
// Line
// å…¶ä»–è®¯æ¯ä¼ é€æ–¹å¼å¯é—® ChatGPT
function sendLineNotifyMessage(message) {
  var url = 'https://notify-api.line.me/api/notify';
  
  var options = {
    method: 'post',
    headers: {
      'Authorization': 'Bearer '+lineToken
    },
    payload: {
      'message': message
    }
  }; 
  UrlFetchApp.fetch(url, options);
}
```



`lineToken` & `githubWebhookSecret` å¸¦ä¸Šå‰ä¸€æ­¥éª¤å¤åˆ¶çš„å€¼ã€‚



**è¡¥å…… Github Webook å½“æœ‰äººæŒ‰ Star æ—¶ä¼šæ‰“è¿›æ¥çš„èµ„æ–™å¦‚ä¸‹ï¼š**



```json
{
  "action": "created",
  "starred_at": "2023-08-01T03:42:26Z",
  "repository": {
    "id": 602927147,
    "node_id": "R_kgDOI-_wKw",
    "name": "ZMarkupParser",
    "full_name": "ZhgChgLi/ZMarkupParser",
    "private": false,
    "owner": {
      "login": "ZhgChgLi",
      "id": 83232222,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjgzMjMyMjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/83232222?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhgChgLi",
      "html_url": "https://github.com/ZhgChgLi",
      "followers_url": "https://api.github.com/users/ZhgChgLi/followers",
      "following_url": "https://api.github.com/users/ZhgChgLi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhgChgLi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhgChgLi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhgChgLi/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhgChgLi/orgs",
      "repos_url": "https://api.github.com/users/ZhgChgLi/repos",
      "events_url": "https://api.github.com/users/ZhgChgLi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhgChgLi/received_events",
      "type": "Organization",
      "site_admin": false
    },
    "html_url": "https://github.com/ZhgChgLi/ZMarkupParser",
    "description": "ZMarkupParser is a pure-Swift library that helps you convert HTML strings into NSAttributedString with customized styles and tags.",
    "fork": false,
    "url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser",
    "forks_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/forks",
    "keys_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/keys{/key_id}",
    "collaborators_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/collaborators{/collaborator}",
    "teams_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/teams",
    "hooks_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/hooks",
    "issue_events_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/issues/events{/number}",
    "events_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/events",
    "assignees_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/assignees{/user}",
    "branches_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/branches{/branch}",
    "tags_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/tags",
    "blobs_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/blobs{/sha}",
    "git_tags_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/tags{/sha}",
    "git_refs_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/refs{/sha}",
    "trees_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/trees{/sha}",
    "statuses_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/statuses/{sha}",
    "languages_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/languages",
    "stargazers_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/stargazers",
    "contributors_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/contributors",
    "subscribers_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/subscribers",
    "subscription_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/subscription",
    "commits_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/commits{/sha}",
    "git_commits_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/git/commits{/sha}",
    "comments_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/comments{/number}",
    "issue_comment_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/issues/comments{/number}",
    "contents_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/contents/{+path}",
    "compare_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/compare/{base}...{head}",
    "merges_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/merges",
    "archive_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/{archive_format}{/ref}",
    "downloads_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/downloads",
    "issues_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/issues{/number}",
    "pulls_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/pulls{/number}",
    "milestones_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/milestones{/number}",
    "notifications_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/notifications{?since,all,participating}",
    "labels_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/labels{/name}",
    "releases_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/releases{/id}",
    "deployments_url": "https://api.github.com/repos/ZhgChgLi/ZMarkupParser/deployments",
    "created_at": "2023-02-17T08:41:37Z",
    "updated_at": "2023-08-01T03:42:27Z",
    "pushed_at": "2023-08-01T00:07:41Z",
    "git_url": "git://github.com/ZhgChgLi/ZMarkupParser.git",
    "ssh_url": "git@github.com:ZhgChgLi/ZMarkupParser.git",
    "clone_url": "https://github.com/ZhgChgLi/ZMarkupParser.git",
    "svn_url": "https://github.com/ZhgChgLi/ZMarkupParser",
    "homepage": "https://zhgchg.li",
    "size": 27449,
    "stargazers_count": 187,
    "watchers_count": 187,
    "language": "Swift",
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "has_discussions": false,
    "forks_count": 10,
    "mirror_url": null,
    "archived": false,
    "disabled": false,
    "open_issues_count": 2,
    "license": {
      "key": "mit",
      "name": "MIT License",
      "spdx_id": "MIT",
      "url": "https://api.github.com/licenses/mit",
      "node_id": "MDc6TGljZW5zZTEz"
    },
    "allow_forking": true,
    "is_template": false,
    "web_commit_signoff_required": false,
    "topics": [
      "cocoapods",
      "html",
      "html-converter",
      "html-parser",
      "html-renderer",
      "ios",
      "nsattributedstring",
      "swift",
      "swift-package",
      "textfield",
      "uikit",
      "uilabel",
      "uitextview"
    ],
    "visibility": "public",
    "forks": 10,
    "open_issues": 2,
    "watchers": 187,
    "default_branch": "main"
  },
  "organization": {
    "login": "ZhgChgLi",
    "id": 83232222,
    "node_id": "MDEyOk9yZ2FuaXphdGlvbjgzMjMyMjIy",
    "url": "https://api.github.com/orgs/ZhgChgLi",
    "repos_url": "https://api.github.com/orgs/ZhgChgLi/repos",
    "events_url": "https://api.github.com/orgs/ZhgChgLi/events",
    "hooks_url": "https://api.github.com/orgs/ZhgChgLi/hooks",
    "issues_url": "https://api.github.com/orgs/ZhgChgLi/issues",
    "members_url": "https://api.github.com/orgs/ZhgChgLi/members{/member}",
    "public_members_url": "https://api.github.com/orgs/ZhgChgLi/public_members{/member}",
    "avatar_url": "https://avatars.githubusercontent.com/u/83232222?v=4",
    "description": "Building a Better World Together."
  },
  "sender": {
    "login": "zhgtest",
    "id": 4601621,
    "node_id": "MDQ6VXNlcjQ2MDE2MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4601621?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhgtest",
    "html_url": "https://github.com/zhgtest",
    "followers_url": "https://api.github.com/users/zhgtest/followers",
    "following_url": "https://api.github.com/users/zhgtest/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhgtest/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhgtest/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhgtest/subscriptions",
    "organizations_url": "https://api.github.com/users/zhgtest/orgs",
    "repos_url": "https://api.github.com/users/zhgtest/repos",
    "events_url": "https://api.github.com/users/zhgtest/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhgtest/received_events",
    "type": "User",
    "site_admin": false
  }
}
```



#### éƒ¨ç½²



å®Œæˆç¨‹å¼æ’°å†™ä¹‹åç‚¹å‡»å³ä¸Šè§’ã€Œéƒ¨ç½²ã€-&gt;ã€Œæ–°å¢éƒ¨ç½²ä½œä¸šã€ï¼š



![](/assets/382218e15697/1*ZBj7EvEXfn0nuRgfotI6IA.png)



å·¦ä¾§é€‰å–ç±»å‹é€‰æ‹©ã€Œç½‘é¡µåº”ç”¨ç¨‹å¼ã€ï¼š



![](/assets/382218e15697/1*YeOPSIKo6x6f-Qa3ymeT0Q.png)



![](/assets/382218e15697/1*Gfr2J6OnWpe8664N-3tzMg.png)



- æ–°å¢è¯´æ˜ï¼šéšæ„è¾“å…¥ï¼Œæˆ‘è¾“å…¥ã€Œ `Release` ã€


- è°å¯ä»¥å­˜å–ï¼š **è¯·æ”¹æˆã€Œ `æ‰€æœ‰äºº` ã€**


- ç‚¹å‡»ã€Œéƒ¨ç½²ã€



é¦–æ¬¡éƒ¨ç½²ï¼Œéœ€è¦ç‚¹å‡»ã€Œæˆäºˆå­˜å–æƒã€ï¼š



![](/assets/382218e15697/1*p7QiiYISmberMJPGQINr1w.png)



è·³å‡ºå¸å·é€‰æ‹© Pop-up åé€‰æ‹©è‡ªå·±å½“å‰çš„ Gmail å¸å·ï¼š



![](/assets/382218e15697/1*i3QQ-SLJt7VBtzNsgO7Lqw.png)



å‡ºç°ã€ŒGoogle hasnâ€™t verified this appã€å› ä¸ºæˆ‘ä»¬è¦å¼€å‘çš„ App æ˜¯ç»™è‡ªå·±ç”¨çš„ï¼Œä¸éœ€ç»è¿‡ Google éªŒè¯ã€‚



ç›´æ¥ç‚¹å‡»ã€ŒAdvancedã€-&gt;ã€ŒGo to XXX (unsafe)ã€-&gt;ã€ŒAllowã€å³å¯ï¼š



![](/assets/382218e15697/1*kYmtS0WBI-NRXxDuUTrU8A.png)



![](/assets/382218e15697/1*G6AAaLVU9LUS-FCqxv_JWw.png)



![](/assets/382218e15697/1*jm4_8EKQnPHctrtmnO2t2g.png)



å®Œæˆéƒ¨ç½²åå¯åœ¨ç»“æœé¡µé¢çš„ã€Œç½‘é¡µåº”ç”¨ç¨‹å¼ã€å¾—åˆ° Request URLï¼Œç‚¹å‡»ã€Œå¤åˆ¶ã€å¹¶è®°ä¸‹æ­¤ GAS ç½‘å€ã€‚



![](/assets/382218e15697/1*e_nw9Zvcl1dTSulg1KVhOw.png)



**âš ï¸ï¸ï¸ é¢˜å¤–è¯ï¼Œè¯·æ³¨æ„å¦‚æœç¨‹å¼ç æœ‰ä¿®æ”¹éœ€è¦æ›´æ–°éƒ¨ç½²æ‰ä¼šç”Ÿæ•ˆâš ï¸**



è¦ä½¿æ›´æ”¹çš„ç¨‹å¼ç ç”Ÿæ•ˆï¼ŒåŒæ ·ç‚¹å‡»å³ä¸Šè§’ã€Œéƒ¨ç½²ã€-&gt; é€‰æ‹©ã€Œç®¡ç†éƒ¨ç½²ä½œä¸šã€-&gt;é€‰æ‹©å³ä¸Šè§’çš„ã€Œâœï¸ã€-&gt;ç‰ˆæœ¬é€‰æ‹©ã€Œå»ºç«‹æ–°ç‰ˆæœ¬ã€-&gt;ç‚¹å‡»ã€Œéƒ¨ç½²ã€ã€‚



![](/assets/382218e15697/1*vYYM-Gy3Gyou15UhJWmSOA.png)



![](/assets/382218e15697/1*RBTSeK1kQ3JSZJBgPnAAWA.png)



å³å¯å®Œæˆç¨‹å¼ç æ›´æ–°éƒ¨ç½²ã€‚



#### Github Webhook è®¾å®š



- å›åˆ° [Github](https://github.com/){:target="_blank"}


- æˆ‘ä»¬å¯ä»¥å¯¹ Organizations (é‡Œé¢æ‰€æœ‰ Repo)æˆ–å•ä¸ª Repo è®¾å®š Webhookï¼Œç›‘å¬æ–°çš„ â­ï¸ æ˜Ÿæ˜Ÿ



è¿›å…¥ Organizations / Repo -&gt; ã€ŒSettingsã€-&gt; å·¦ä¾§æ‰¾åˆ°ã€ŒWebhooksã€-&gt; ã€ŒAdd webhookã€ï¼š



![](/assets/382218e15697/1*Ke5ZarGC8ODrFLj8LsBNFg.png)



![](/assets/382218e15697/1*PUHcpcJkbL4d7xTI5A99PA.png)



- Payload URL **ï¼š** è¾“å…¥ `GAS ç½‘å€` å¹¶åœ¨ç½‘å€åé¢æ‰‹åŠ¨åŠ ä¸Šæˆ‘ä»¬è‡ªå·±çš„å®‰å…¨éªŒè¯å­—ä¸² `?secret=githubWebhookSecret` ã€‚
  ä¾‹å¦‚ä½ çš„ `GAS ç½‘å€` æ˜¯ `https://script.google.com/macros/s/XXX/exec` ã€ `githubWebhookSecret` æ˜¯ `123456` ï¼›åˆ™ **ç½‘å€å³ä¸ºï¼š `https://script.google.com/macros/s/XXX/exec?secret=123456` ã€‚**


- **Content typeï¼š** é€‰æ‹© `application/json`


- **Which events would you like to trigger this webhook?**
  **é€‰æ‹©ã€Œ** `Let me select individual events.` **ã€**
  **âš ï¸ï¸å–æ¶ˆå‹¾é€‰ã€Œ** `Pushes` **ã€**
  **ï¸ï¸ï¸ï¸âš ï¸å‹¾é€‰ã€Œ `Watches` ã€ï¼Œè¯·æ³¨æ„ä¸æ˜¯ã€Œ `Stars` ã€(ä½†** Stars ä¹Ÿæ˜¯ç›‘æ§ç‚¹å‡»æ˜Ÿæ˜Ÿçš„çŠ¶æ€ï¼Œå¦‚æœç”¨ Stars GAS çš„ action åˆ¤æ–­ä¹Ÿéœ€è¦è°ƒæ•´ **)**


- é€‰æ‹©ã€Œ `Active` ã€


- ç‚¹å‡»ã€ŒAdd webhookã€


- å®Œæˆè®¾å®š



#### ğŸš€æµ‹è¯•



å›åˆ° è®¾å®šçš„ Organizations Repo / Repo ä¸Šç‚¹å‡»ã€ŒStarã€æˆ–å…ˆ un-star å†é‡æ–° ã€ŒStarã€ï¼š



![](/assets/382218e15697/1*0CaNDxOub_Eo_byb-WfpTQ.png)



å°±ä¼šæ”¶åˆ°æ¨æ’­é€šçŸ¥å•°ï¼



![](/assets/382218e15697/1*hKN9lAQTsm-tOnJSLj3GGw.png)



æ”¶å·¥ï¼ğŸ‰ğŸ‰ğŸ‰ğŸ‰



### å·¥å•†



[![](https://repository-images.githubusercontent.com/602927147/57ce75c1-8548-449c-b44a-f4b0451ed5ea)](https://github.com/ZhgChgLi/ZMarkupParser){:target="_blank"}



[![](https://repository-images.githubusercontent.com/516425682/1cc1a829-d87d-4d4a-925b-60471b912b23)](https://github.com/ZhgChgLi/ZReviewTender){:target="_blank"}



æœ‰ä»»ä½•é—®é¢˜åŠæŒ‡æ•™æ¬¢è¿ [ä¸æˆ‘è”ç»œ](https://www.zhgchg.li/contact){:target="_blank"} ã€‚



*[Post](https://medium.com/zrealm-ios-dev/%E4%BD%BF%E7%94%A8-google-apps-script-%E4%B8%89%E6%AD%A5%E9%A9%9F%E5%85%8D%E8%B2%BB%E5%BB%BA%E7%AB%8B-github-repo-star-notifier-382218e15697){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}.*
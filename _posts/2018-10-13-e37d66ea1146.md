---
title: iOS UITextView æ–‡ç¹åœ–ç·¨è¼¯å™¨ (Swift)
author: ZhgChgLi
date: 2018-10-13T18:07:49.431Z
categories: ZRealm Dev.
tags: [swift,ios,mobile-app-development,uitextview,ios-app-development]
---

### iOS UITextView æ–‡ç¹åœ–ç·¨è¼¯å™¨ (Swift)

å¯¦æˆ°è·¯ç·š
#### ç›®æ¨™åŠŸèƒ½ï¼š

APPä¸Šæœ‰ä¸€å€‹è®“ä½¿ç”¨è€…èƒ½ç™¼è¡¨æ–‡ç« çš„è¨è«–å€åŠŸèƒ½ï¼Œç™¼è¡¨æ–‡ç« åŠŸèƒ½ä»‹é¢éœ€è¦èƒ½è¼¸å…¥æ–‡å­—ã€æ’å…¥å¤šå¼µåœ–ç‰‡ã€æ”¯æ´æ–‡ç¹åœ–ç©¿æ’ï¼
#### åŠŸèƒ½éœ€æ±‚ï¼š
- èƒ½è¼¸å…¥å¤šè¡Œæ–‡å­—
- èƒ½åœ¨è¡Œä¸­ç©¿æ’åœ–ç‰‡
- èƒ½ä¸Šå‚³å¤šå¼µåœ–ç‰‡
- èƒ½éš¨æ„ç§»é™¤æ’å…¥çš„åœ–ç‰‡
- åœ–ç‰‡ä¸Šå‚³æ•ˆæœ/å¤±æ•—è™•ç†
- èƒ½å°‡è¼¸å…¥å…§å®¹è½‰è­¯æˆå¯å‚³éæ–‡æœ¬ EX: BBCODE

#### å…ˆä¸Šå€‹æˆå“æ•ˆæœåœ–ï¼š

![çµå©šå§APP](/assets/e37d66ea1146/1*Sh0XaryqYnqVGV0wJ_dDHA.gif "çµå©šå§APP")
[çµå©šå§APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&mt=8)
### é–‹å§‹ï¼š
#### ç¬¬ä¸€ç« 

ä»€éº¼ï¼Ÿä½ èªªç¬¬ä¸€ç« ï¼Ÿä¸å°±ç”¨UITextViewå°±èƒ½åšåˆ°ç·¨è¼¯å™¨åŠŸèƒ½ï¼Œå“ªä¾†é‚„éœ€è¦åˆ†åˆ°ã€Œç« ç¯€ã€ï¼›æ˜¯çš„ï¼Œæˆ‘ä¸€é–‹å§‹çš„åæ‡‰ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œç›´åˆ°æˆ‘é–‹å§‹åšæ‰ç™¼ç¾äº‹æƒ…æ²’æœ‰é‚£éº¼ç°¡å–®ï¼Œå…¶ä¸­è‹¦æƒ±äº†æˆ‘å…©å€‹æ˜ŸæœŸã€ç¿»ç‰‡åœ‹å…§å¤–å„ç¨®è³‡æ–™æœ€å¾Œæ‰æ‰¾åˆ°è§£æ³•ï¼Œå¯¦ä½œçš„å¿ƒè·¯æ­·ç¨‹å°±è®“æˆ‘å¨“å¨“é“ä¾†â€¦.

å¦‚æœæƒ³ç›´æ¥çŸ¥é“æœ€çµ‚è§£æ³•ï¼Œè«‹ç›´æ¥è·³åˆ°æœ€å¾Œä¸€ç« (å¾€ä¸‹æ»¾æ»¾æ»¾æ»¾æ»¾)ï¼
#### ä¸€é–‹å§‹

æ–‡å­—ç·¨è¼¯å™¨ç†æ‰€ç•¶ç„¶æ˜¯ä½¿ç”¨UITextViewå…ƒä»¶ï¼Œçœ‹äº†ä¸€ä¸‹æ–‡ä»¶UITextView attributedText è‡ªå¸¶ NSTextAttachmentç‰©ä»¶ å¯ä»¥é™„åŠ åœ–ç‰‡å¯¦åšå‡ºæ–‡ç¹åœ–æ•ˆæœï¼Œç¨‹å¼ç¢¼ä¹Ÿå¾ˆç°¡å–®ï¼š
```swift
let imageAttachment = NSTextAttachment()
imageAttachment.image = UIImage(named: "example")
self.contentTextView.attributedText = NSAttributedString(attachment: imageAttachment)
```

ç•¶åˆå¤©çœŸçš„æˆ‘é‚„å¾ˆé–‹å¿ƒæƒ³èªªè »ç°¡å–®çš„å•Šã€å¥½æ–¹ä¾¿ï¼›å•é¡Œç¾åœ¨æ‰æ­£è¦é–‹å§‹ï¼š
- åœ–ç‰‡è¦èƒ½æ˜¯å¾æœ¬åœ°é¸æ“‡&ä¸Šå‚³ï¼šé€™å¥½è§£æ±ºï¼Œåœ–ç‰‡é¸æ“‡å™¨æˆ‘ä½¿ç”¨ [TLPhotoPicker](https://github.com/tilltue/TLPhotoPicker) é€™å€‹å¥—ä»¶(æ”¯æ´å¤šåœ–é¸æ“‡/å®¢è£½åŒ–è¨­å®š/åˆ‡æ›ç›¸æ©Ÿæ‹ç…§/Live Photos)ï¼Œå…·é«”ä½œæ³•å°±æ˜¯ TLPhotoPickeré¸å®Œåœ–ç‰‡Callbackå¾Œå°‡PHAssetè½‰æˆUIImageå¡é€²å»imageAttachment.imageä¸¦é å…ˆåœ¨èƒŒæ™¯ä¸Šå‚³åœ–ç‰‡è‡³Serverã€‚
- åœ–ç‰‡ä¸Šå‚³è¦æœ‰æ•ˆæœä¸¦èƒ½æ·»åŠ äº’å‹•æ“ä½œ(é»æ“ŠæŸ¥çœ‹åŸåœ–/é»æ“ŠXèƒ½åˆªé™¤)ï¼šæ²’åšå‡ºä¾†ï¼Œæ‰¾ä¸åˆ°NSTextAttachmentæœ‰ä»€éº¼è¾¦æ³•èƒ½åšåˆ°é€™é …éœ€æ±‚ï¼Œä¸éé€™åŠŸèƒ½æ²’æœ‰é‚„è¡Œåæ­£é‚„æ˜¯èƒ½åˆªé™¤(åœ¨åœ–ç‰‡å¾ŒæŒ‰éµç›¤ä¸Šçš„ã€ŒBackã€éµèƒ½åˆªé™¤åœ–ç‰‡)ï¼Œæˆ‘å€‘ç¹¼çºŒâ€¦
- åŸå§‹åœ–æª”æ¡ˆéå¤§ï¼Œä¸Šå‚³æ…¢ã€æ’å…¥æ…¢ã€åƒæ•ˆèƒ½ï¼šæ’å…¥åŠä¸Šå‚³å‰å…ˆResizeéï¼Œç”¨ [Kingfisher](https://github.com/onevcat/Kingfisher) çš„resizeTo
- åœ–ç‰‡æ’å…¥åœ¨æ¸¸æ¨™åœç•™çš„ä½ç½®ï¼šé€™è£¡å°±è¦å°‡åŸæœ¬çš„Codeæ”¹æˆå¦‚ä¸‹

```swift
let range = self.contentTextView.selectedRange.location ?? NSRange(location: 0, length: 0)
let combination = NSMutableAttributedString(attributedString: self.contentTextView.attributedText) //å–å¾—ç•¶å‰å…§å®¹
combination.insert(NSAttributedString(attachment: imageAttachment), at: range)
self.contentTextView.attributedText = combination //å›å¯«å›å»
```
- åœ–ç‰‡ä¸Šå‚³å¤±æ•—è™•ç†ï¼šé€™è£¡è¦èªªä¸€ä¸‹ï¼Œæˆ‘å¯¦éš›å¦å¤–å¯«äº†ä¸€å€‹Class æ“´å……åŸå§‹çš„ NSTextAttachment ç›®çš„å°±æ˜¯è¦å¤šå¡å€‹å±¬æ€§å­˜è­˜åˆ¥ç”¨çš„å€¼

```
class UploadImageNSTextAttachment:NSTextAttachment {
   var uuid:String?
}
```

ä¸Šå‚³åœ–ç‰‡æ™‚æ”¹æˆï¼š
```
let id = UUID().uuidString
let attachment = UploadImageNSTextAttachment()
attachment.uuid = id
```

æœ‰è¾¦æ³•è¾¨è­˜NSTextAttachmentçš„å°æ‡‰ä¹‹å¾Œï¼Œæˆ‘å€‘å°±èƒ½é‡å°ä¸Šå‚³å¤±æ•—çš„åœ–ç‰‡ï¼Œå»attributedTextdè£¡åšNSTextAttachmentæœç´¢ï¼Œæ‰¾åˆ°ä»–ä¸¦å–ä»£æˆéŒ¯èª¤æç¤ºåœ–æˆ–ç›´æ¥ç§»é™¤
```swift
if let content = self.contentTextView.attributedText {
    content.enumerateAttributes(in: NSMakeRange(0, content.length),  options: NSAttributedString.EnumerationOptions(rawValue: 0)) { (object, range, stop) in
        if object.keys.contains(NSAttributedStringKey.attachment) {
            if let attachment = object[NSAttributedStringKey.attachment] as? UploadImageNSTextAttachment,attachment.uuid == "ç›®æ¨™ID" {
                attachment.bounds = CGRect(x: 0, y: 0, width: 30, height: 30)
                attachment.image =  UIImage(named: "IconError")
                let combination = NSMutableAttributedString(attributedString: content)
                combination.replaceCharacters(in: range, with: NSAttributedString(attachment: attachment))
                //å¦‚è¦ç›´æ¥ç§»é™¤å¯ç”¨deleteCharacters(in: range)
                self.contentTextView.attributedText = combination
            }
        }
    }
}
```

å…‹æœä¸Šè¿°å•é¡Œå¾Œï¼Œç¨‹å¼ç¢¼å¤§ç´„æœƒé•·æˆé€™æ¨£ï¼š
```swift
class UploadImageNSTextAttachment:NSTextAttachment {
    var uuid:String?
}
func dismissPhotoPicker(withTLPHAssets: [TLPHAsset]) {
    //TLPhotoPicker åœ–ç‰‡é¸æ“‡å™¨çš„Callback
    
    let range = self.contentTextView.selectedRange.location ?? NSRange(location: 0, length: 0)
    //å–å¾—æ¸¸æ¨™åœç•™ä½ç½®ï¼Œç„¡å‰‡å¾é ­
    
    guard withTLPHAssets.count > 0 else {
        return
    }
    
    DispatchQueue.global().async { in
        //åœ¨èƒŒæ™¯è™•ç†
        let orderWithTLPHAssets = withTLPHAssets.sorted(by: { $0.selectedOrder > $1.selectedOrder })
        orderWithTLPHAssets.forEach { (obj) in
            if var image = obj.fullResolutionImage {
                
                let id = UUID().uuidString
                
                var maxWidth:CGFloat = 1500
                var size = image.size
                if size.width > maxWidth {
                    size.width = maxWidth
                    size.height = (maxWidth/image.size.width) * size.height
                }
                image = image.resizeTo(scaledToSize: size)
                //ç¸®åœ–
                
                let attachment = UploadImageNSTextAttachment()
                attachment.bounds = CGRect(x: 0, y: 0, width: size.width, height: size.height)
                attachment.uuid = id
                
                DispatchQueue.main.async {
                    //åˆ‡å›ä¸»åŸ·è¡Œç·’æ›´æ–°UIæ’å…¥åœ–ç‰‡
                    let combination = NSMutableAttributedString(attributedString: self.contentTextView.attributedText)
                    attachments.forEach({ (attachment) in
                        combination.insert(NSAttributedString(string: "\n"), at: range)
                        combination.insert(NSAttributedString(attachment: attachment), at: range)
                        combination.insert(NSAttributedString(string: "\n"), at: range)
                    })
                    self.contentTextView.attributedText = combination
                    
                }
                
                //ä¸Šå‚³åœ–ç‰‡è‡³Server
                //Alamofire post or....
                //POST image
                //if failed {
                    if let content = self.contentTextView.attributedText {
                        content.enumerateAttributes(in: NSMakeRange(0, content.length),  options: NSAttributedString.EnumerationOptions(rawValue: 0)) { (object, range, stop) in
                            
                            if object.keys.contains(NSAttributedStringKey.attachment) {
                                if let attachment = object[NSAttributedStringKey.attachment] as? UploadImageNSTextAttachment,attachment.uuid == obj.key {
                                    
                                    //REPLACE:
                                    attachment.bounds = CGRect(x: 0, y: 0, width: 30, height: 30)
                                    attachment.image = //ERROR Image
                                    let combination = NSMutableAttributedString(attributedString: content)
                                    combination.replaceCharacters(in: range, with: NSAttributedString(attachment: attachment))
                                    //OR DELETE:
                                    //combination.deleteCharacters(in: range)
                                    
                                    self.contentTextView.attributedText = combination
                                }
                            }
                        }
                    }
                //}
                //
                
            }
        }
    }
}

```

åˆ°æ­¤å·®ä¸å¤šå•é¡Œéƒ½è§£æ±ºäº†ï¼Œé‚£æ˜¯ä»€éº¼è‹¦æƒ±äº†æˆ‘å…©é€±å‘¢ï¼Ÿ

ç­”ï¼šã€Œè¨˜æ†¶é«”ã€å•é¡Œ

![iPhone 6é ‚ä¸ä½å•Š\!](/assets/e37d66ea1146/1*IcnoXq6e6OUnU_mg83XDxg.gif "iPhone 6é ‚ä¸ä½å•Š\!")
iPhone 6é ‚ä¸ä½å•Š!

ä»¥ä¸Šåšæ³•æ’å…¥è¶…é5å¼µåœ–ç‰‡ï¼ŒUITextViewå°±æœƒé–‹å§‹å¡é “ï¼›åˆ°ä¸€å€‹ç¨‹åº¦å°±æœƒå› ç‚ºè¨˜æ†¶é«”è² è·ä¸äº†APPç›´æ¥é–ƒé€€

p.s è©¦éå„ç¨®å£“ç¸®/å…¶ä»–å„²å­˜æ–¹å¼ï¼Œçµæœä¾ç„¶

æ¨æ¸¬åŸå› æ˜¯ï¼ŒUITextViewæ²’æœ‰é‡å°åœ–ç‰‡çš„NSTextAttachmentåšReuseï¼Œä½ æ‰€æ’å…¥çš„æ‰€æœ‰åœ–ç‰‡éƒ½Loadåœ¨è¨˜æ†¶é«”ä¹‹ä¸­ä¸æœƒé‡‹æ”¾ï¼›æ‰€ä»¥é™¤éæ˜¯æ‹¿ä¾†ç©¿æ’è¡¨æƒ…ç¬¦è™Ÿé‚£ç¨®å°åœ–ğŸ˜…ï¼Œä¸ç„¶æ ¹æœ¬ä¸èƒ½æ‹¿ä¾†åšæ–‡ç¹åœ–
#### ç¬¬äºŒç« 

ç™¼ç¾è¨˜æ†¶é«”é€™å€‹ã€Œç¡¬å‚·ã€å¾Œï¼Œç¹¼çºŒåœ¨ç¶²è·¯ä¸Šæœç´¢è§£æ±ºæ–¹æ¡ˆï¼Œå¾—åˆ°ä»¥ä¸‹å…¶ä»–åšæ³•ï¼š
- ç”¨WebViewåµŒå¥—HTMLæª”æ¡ˆ( <div contentEditable=â€trueâ€></div>)ä¸¦ç”¨JSè·ŸWebViewåšäº¤äº’è™•ç†
- ç”¨UITableViewç»“åˆUITextViewï¼Œèƒ½Reuse
- åŸºæ–¼TextKitè‡ªè¡Œæ“´å……UITextViewğŸ†


ç¬¬ä¸€é …ç”¨WebViewåµŒå¥—HTMLæª”æ¡ˆçš„åšæ³•ï¼›è€ƒé‡åˆ°æ•ˆèƒ½è·Ÿä½¿ç”¨è€…é«”é©—ï¼Œæ‰€ä»¥ä¸è€ƒæ…®ï¼Œæœ‰èˆˆè¶£çš„æœ‹å‹å¯ä»¥åœ¨Githubæœå°‹ç›¸é—œçš„è§£æ±ºæ–¹æ¡ˆ(EX: [RichTextDemo](https://github.com/xiaosheng0601/RichTextDemo) )

ç¬¬äºŒé …ç”¨UITableViewç»“åˆUITextView

æˆ‘å¯¦ä½œäº†å¤§ç´„7æˆå‡ºä¾†ï¼Œå…·é«”å¤§ç´„æ˜¯æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€å€‹Cellï¼ŒCellæœ‰å…©ç¨®ï¼Œä¸€ç¨®æ˜¯UITextViewå¦ä¸€ç¨®æ˜¯UIImageViewï¼Œåœ–ç‰‡ä¸€è¡Œæ–‡å­—ä¸€è¡Œï¼›å…§å®¹å¿…é ˆç”¨é™£åˆ—å»å„²å­˜ï¼Œé¿å…Reuseéç¨‹æ¶ˆå¤±

èƒ½å„ªç§€çš„Reuseè§£æ±ºè¨˜æ†¶é«”å•é¡Œï¼Œä½†åšåˆ°å¾Œé¢é‚„æ˜¯æ”¾æ£„äº†ï¼Œåœ¨ **æ§åˆ¶è¡Œå°¾æŒ‰Returnè¦èƒ½æ–°å»ºä¸€è¡Œä¸¦è·³åˆ°è©²è¡Œ** å’Œ **æ§åˆ¶è¡Œé ­æŒ‰Backéµè¦èƒ½è·³åˆ°ä¸Šä¸€è¡Œ(è‹¥ç•¶å‰ç‚ºç©ºè¡Œè¦èƒ½åˆªé™¤è©²è¡Œ)** é€™å…©å€‹éƒ¨åˆ†ä¸Šåƒè¶³è‹¦é ­ï¼Œéå¸¸é›£æ§åˆ¶

æœ‰èˆˆè¶£çš„æœ‹å‹å¯åƒè€ƒï¼š [MMRichTextEdit](https://gitee.com/dhar/MMRichTextEdit) ã€
#### æœ€çµ‚ç« 

èµ°åˆ°é€™è£¡å·²ç¶“è€—è²»äº†è¨±å¤šæ™‚é–“ï¼Œé–‹ç™¼æ™‚ç¨‹åš´é‡æ‹–å»¶ï¼›ç›®å‰æœ€çµ‚è§£æ³•å°±æ˜¯ç”¨TextKit

é€™è£¡é™„ä¸Šå…©ç¯‡æ‰¾åˆ°çš„æ–‡ç« çµ¦æœ‰èˆˆè¶£ç ”ç©¶çš„æœ‹å‹ï¼š
- [TextKit æ¢ç©¶](https://www.jianshu.com/p/3f445d7f44d6)
- [ä»UITextViewçœ‹æ–‡å­—ç»˜åˆ¶ä¼˜åŒ–](http://djs66256.github.io/2016/06/23/2016-06-23-cong-uitextviewkan-wen-zi-hui-zhi-you-hua/)


ä½†æœ‰ä¸€å®šçš„å­¸ç¿’é–€æª»ï¼Œå°æˆ‘é€™å€‹èœé³¥ä¾†èªªå¤ªé›£äº†ï¼Œå†èªªæ™‚é–“ä¹Ÿå·²ä¸å¤ ï¼Œåªèƒ½æ¼«ç„¡ç›®çš„åœ¨Githubå°‹æ‰¾ä»–å±±ä¹‹çŸ³å€Ÿå€Ÿç”¨ç”¨

æœ€çµ‚æ‰¾åˆ° [XLYTextKitExtension](https://github.com/kaizeiyimi/XLYTextKitExtension) é€™å€‹é …ç›®ï¼Œå¯ä»¥ç›´æ¥å¼•å…¥Codeä½¿ç”¨

âœ” è®“ NSTextAttachment æ”¯æ´è‡ªè¨‚ç¾©UIView è¦åŠ ä»€éº¼äº¤äº’æ“ä½œéƒ½å¯ä»¥

âœ” NSTextAttachment å¯ä»¥Reuse ä¸æœƒæ’çˆ†è¨˜æ†¶é«”

å…·é«”å¯¦ä½œæ–¹å¼è·Ÿ **ç¬¬ä¸€ç« ** å·®ä¸å¤šï¼Œå°±åªå·®åœ¨åŸæœ¬æ˜¯ç”¨NSTextAttachmentè€Œç¾åœ¨æ”¹ç”¨XLYTextAttachment

é‡å°è¦ä½¿ç”¨çš„UITextView:
```
contentTextView.setUseXLYLayoutManager()
```

Tip 1:æ’å…¥NSTextAttachmentçš„åœ°æ–¹æ”¹ç‚º
```swift
let combine = NSMutableAttributedString(attributedString: NSAttributedString(string: ""))
let imageView = UIView() // your custom view
let imageAttachment = XLYTextAttachment { () -> UIView in
    return imageView
}
imageAttachment.id = id
imageAttachment.bounds = CGRect(x: 0, y: 0, width: size.width, height: size.height)
combine.append(NSAttributedString(attachment: imageAttachment))
self.contentTextView.textStorage.insert(combine, at: range)
```

Tip 2:NSTextAttachmentæœç´¢æ”¹ç‚º
```swift
self.contentTextView.textStorage.enumerateAttribute(NSAttributedStringKey.attachment, in: NSRange(location: 0, length: self.contentTextView.textStorage.length), options: []) { (value, range, stop) in
    if let attachment = value as? XLYTextAttachment {
        //attachment.id
    }
}
```

Tip 3:åˆªé™¤NSTextAttachmenté …ç›®æ”¹ç‚º
```
self.contentTextView.textStorage.deleteCharacters(in: range)
```

Tip 4:å–å¾—ç•¶å‰å…§å®¹é•·åº¦
```
self.contentTextView.textStorage.length
```

Tip 5:åˆ·æ–°Attachmentçš„Boundså¤§å°

ä¸»å› æ˜¯ç‚ºäº†ä½¿ç”¨è€…é«”é©—ï¼›æ’å…¥åœ–ç‰‡æ™‚æˆ‘æœƒå…ˆå¡ä¸€å¼µloadingåœ–ï¼Œæ’å…¥çš„åœ–ç‰‡åœ¨èƒŒæ™¯å£“ç¸®å¾Œæ‰æœƒæ›¿æ›ä¸Šå»ï¼Œè¦å»æ›´æ–°TextAttachmentçš„BoundsæˆResizeå¾Œå¤§å°
```
self.contentTextView.textStorage.addAttributes([:], range: range)
```

(æ–°å¢ç©ºå±¬æ€§ï¼Œè§¸ç™¼åˆ·æ–°)

Tip 6: å°‡è¼¸å…¥å…§å®¹è½‰è­¯æˆå¯å‚³éæ–‡æœ¬

é‹ç”¨Tip 2æœç´¢å…¨éƒ¨è¼¸å…¥å…§å®¹ä¸¦å°‡æ‰¾åˆ°çš„Attachmentå–å‡ºIDçµ„åˆæˆé¡ä¼¼[[ID]]æ ¼å¼å‚³é

Tip 7: å…§å®¹å–ä»£
```
self.contentTextView.textStorage.replaceCharacters(in: range,with: NSAttributedString(attachment: newImageAttachment))
```

Tip 8: æ­£è¦è¡¨ç¤ºæ³•åŒ¹é…å…§å®¹æ‰€åœ¨Range
```swift
let pattern = "(\\[\\[image_id=){1}([0-9]+){1}(\\]\\]){1}"
let textStorage = self.contentTextView.textStorage

if let regex = try? NSRegularExpression(pattern: pattern, options: .caseInsensitive) {
    while true {
        let range = NSRange(location: 0, length: textStorage.length)
        if let match = regex.matches(in: textStorage.string, options: .withTransparentBounds, range: range).first {
            let matchString = textStorage.attributedSubstring(from: match.range)
            //FINDED!
        } else {
            break
        }
    }
}
```

æ³¨æ„ï¼šå¦‚æœä½ è¦æœå°‹ï¼†å–ä»£é …ç›®ï¼Œéœ€è¦ä½¿ç”¨Whileè¿´åœˆï¼Œä¸ç„¶ç•¶æœ‰å¤šå€‹æœå°‹çµæœæ™‚ï¼Œæ‰¾åˆ°ç¬¬ä¸€å€‹ä¸¦å–ä»£å¾Œï¼Œå¾Œé¢çš„æœå°‹çµæœçš„Rangeå°±æœƒéŒ¯èª¤å°è‡´é–ƒé€€ï¼
#### çµèª

ç›®å‰ä½¿ç”¨æ­¤æ–¹æ³•å®Œæˆæˆå“ä¸¦ä¸Šç·šäº†ï¼Œé‚„æ²’é‡åˆ°æœ‰ä»€éº¼å•é¡Œï¼›æœ‰æ™‚é–“æˆ‘å†ä¾†å¥½å¥½æ¢ç©¶ä¸€ä¸‹å…¶ä¸­çš„åŸç†å§ï¼

é€™ç¯‡æ¯”è¼ƒä¸æ˜¯æ•™å­¸æ–‡ç« ï¼Œè€Œæ˜¯å€‹äººè§£é¡Œå¿ƒå¾—åˆ†äº«ï¼›å¦‚æœæ‚¨ä¹Ÿåœ¨å¯¦ä½œé¡ä¼¼åŠŸèƒ½ï¼Œå¸Œæœ›æœ‰å¹«åŠ©åˆ°ä½ ï¼Œæœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿èˆ‡æˆ‘è¯çµ¡ï¼
> Mediumçš„æ­£å¼ç¬¬ä¸€ç¯‡

[Like Z Realm's work](https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fbutton.like.co%2Fin%2Fembed%2Fzhgchgli%2Fbutton&display_name=LikeCoin&url=https%3A%2F%2Fbutton.like.co%2Fzhgchgli&image=https%3A%2F%2Fstorage.googleapis.com%2Flikecoin-foundation.appspot.com%2Flikecoin_store_user_zhgchgli_main%3FGoogleAccessId%3Dfirebase-adminsdk-eyzut%2540likecoin-foundation.iam.gserviceaccount.com%26Expires%3D2430432000%26Signature%3DgFRSNto%252BjjxXpRoYyuEMD5Ecm7mLK2uVo1vGz4NinmwLnAK0BGjcfKnItFpt%252BcYurx3wiwKTvrxvU019ruiCeNav7s7QUs5lgDDBc7c6zSVRbgcWhnJoKgReRkRu6Gd93WvGf%252BOdm4FPPgvpaJV9UE7h2MySR6%252B%252F4a%252B4kJCspzCTmLgIewm8W99pSbkX%252BQSlZ4t5Pw22SANS%252BlGl1nBCX48fGg%252Btg0vTghBGrAD2%252FMEXpGNJCdTPx8Gd9urOpqtwV4L1I2e2kYSC4YPDBD6pof1O6fKX%252BI8lGLEYiYP1sthjgf8Y4ZbgQr4Kt%252BRYIicx%252Bg6w3YWTg5zgHxAYhOINXw%253D%253D&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=like)

æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ [èˆ‡æˆ‘è¯çµ¡](https://www.zhgchg.li/contact) ã€‚



+-----------------------------------------------------------------------------------+

| **[View original post on Medium](https://medium.com/zrealm-ios-dev/ios-uitextview-%E6%96%87%E7%B9%9E%E5%9C%96%E7%B7%A8%E8%BC%AF%E5%99%A8-swift-e37d66ea1146) - Converted by [ZhgChgLi](https://zhgchg.li)/[ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown)** |

+-----------------------------------------------------------------------------------+

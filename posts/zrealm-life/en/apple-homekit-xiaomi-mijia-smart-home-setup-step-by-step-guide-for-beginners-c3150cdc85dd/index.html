<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Apple HomeKit &amp; Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="Discover how to seamlessly integrate Xiaomi Mijia smart cameras and lamps with Apple HomeKit. This guide solves setup challenges, enabling smooth device control and enhanced home automation for beginners." /><meta property="og:description" content="Discover how to seamlessly integrate Xiaomi Mijia smart cameras and lamps with Apple HomeKit. This guide solves setup challenges, enabling smooth device control and enhanced home automation for beginners." /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-07-06T01:13:47+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" /><meta property="twitter:title" content="Apple HomeKit &amp; Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://medium.com/@zhgchgli/"},"dateModified":"2024-04-13T15:49:52+08:00","datePublished":"2019-07-06T01:13:47+08:00","description":"Discover how to seamlessly integrate Xiaomi Mijia smart cameras and lamps with Apple HomeKit. This guide solves setup challenges, enabling smooth device control and enhanced home automation for beginners.","headline":"Apple HomeKit &amp; Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/"},"url":"https://zhgchg.li/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/"}</script><title>Apple HomeKit & Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-life/apple-homekit-%E8%88%87%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%A8%AD%E5%AE%9A%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%99%E5%AD%B8-c3150cdc85dd/"><link rel="alternate" hreflang="en" href="/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p><a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Apple HomeKit & Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Apple HomeKit & Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners</h1><p class="post-desc fw-light mb-4">Discover how to seamlessly integrate Xiaomi Mijia smart cameras and lamps with Apple HomeKit. This guide solves setup challenges, enabling smooth device control and enhanced home automation for beginners.</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1562346827" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 6, 2019 </time> </span> <span> Updated <time data-ts="1712994592" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" class="popup img-link preview-img blur"><img data-src="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3477 words" > <em>19 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Apple HomeKit & Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節 (Chapters)🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Apple HomeKit & Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/"><strong>点击这里</strong></a>查看本文章简体中文版本。</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-life/apple-homekit-%E8%88%87%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%A8%AD%E5%AE%9A%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%99%E5%AD%B8-c3150cdc85dd/"><strong>點擊這裡</strong></a>查看本文章正體中文版本。</p></blockquote><blockquote class="prompt-info"><p>This post was translated with AI assistance — let me know if anything sounds off!</p></blockquote><hr /><h3 id="first-experience-with-smart-home---apple-homekit--xiaomi-mijia"><span class="me-2">First Experience with Smart Home - Apple HomeKit &amp; Xiaomi Mijia</span><a href="#first-experience-with-smart-home---apple-homekit--xiaomi-mijia" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Mi Home Smart Camera and Mi Home Smart Desk Lamp, HomeKit Setup Tutorial</p><p><strong>[2020/04/20]</strong> <a href="/posts/zrealm-life/en/smart-wfh-home-setup-control-all-appliances-with-homekit-raspberry-pi-99db2a1fbfe5/"><strong>Advanced Guide Released</strong></a> <strong>:</strong> <strong><a href="/posts/zrealm-life/en/smart-wfh-home-setup-control-all-appliances-with-homekit-raspberry-pi-99db2a1fbfe5/">Experienced users please go directly here »</a></strong> <a href="/posts/zrealm-life/en/smart-wfh-home-setup-control-all-appliances-with-homekit-raspberry-pi-99db2a1fbfe5/"><strong>Demo: Using Raspberry Pi as HomeBridge Host to Connect All Mijia Appliances to HomeKit</strong></a></p><h3 id="chat"><span class="me-2">Chat:</span><a href="#chat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Recently moved to a new place; unlike the previous one, where the ceiling had office-style light fixtures so bright I had to unplug some tubes to make it comfortable for my eyes; the new place has decorative reflective lights, which feel a bit dim for using the computer or reading. After two weeks, my eyes feel drier and more uncomfortable. I initially planned to shop at IKEA, but considering light color and eye protection, I compared cost-performance and finally chose the Xiaomi desk lamp (also owning a Xiaomi smart camera before, both are Mi Home series products).</p><h3 id="this-article"><span class="me-2">This Article:</span><a href="#this-article" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Actually, I didn’t pay much attention to whether it supports Apple HomeKit when I was shopping. As an iOS developer, that’s quite unprofessional of me because I never expected Xiaomi to support it.</p><p>This article will introduce <strong>Using Apple HomeKit</strong>, <strong>How to connect smart home devices that do not support Apple HomeKit via third-party integration</strong>, and <strong>How to build a smart home using Mi Home (with IFTTT)</strong>.</p><p>You can skip to the parts that match your device needs.</p><h3 id="shopping"><span class="me-2">Shopping:</span><a href="#shopping" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>I bought two desk lamps in total: one (Pro) for my computer desk, and the other for bedside reading.</p><h4 id="mi-home-desk-lamp-pro-"><span class="me-2"><a href="https://www.mi.com/tw/mi-adjustable-smart-desk-lamp/" target="_blank">Mi Home Desk Lamp Pro</a> ：</span><a href="#mi-home-desk-lamp-pro-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" alt="NT$ 1,795 Supports Mi Home, Apple HomeKit" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjE0MDAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>NT$ 1,795 Supports Mi Home, Apple HomeKit</p><h4 id="mi-home-led-smart-desk-lamp--"><span class="me-2"><a href="https://www.mi.com/tw/smartlamp/" target="_blank">Mi Home LED Smart Desk Lamp</a> ：</span><a href="#mi-home-led-smart-desk-lamp--" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/c3150cdc85dd/1*PCaRI8AroRgFELEA1elaiA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*PCaRI8AroRgFELEA1elaiA.webp" alt="NT$ 995 Only supports Mi Home" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjEyMDAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>NT$ 995 supports only Mi Home.</p><p>For detailed information, please refer to the official website. Both lamps support smart control, color changing, brightness adjustment, and eye protection. The Pro version supports Apple HomeKit and three-level angle adjustment. Based on current use, the functionality of a single lamp is quite satisfactory. The only drawback is that the Pro version’s angle adjustment allows only the base to rotate horizontally, not the lamp itself, which means you cannot adjust the light angle!</p><h3 id="ideal-smart-home-goals"><span class="me-2">Ideal Smart Home Goals:</span><a href="#ideal-smart-home-goals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="current-devices"><span class="me-2">Current Devices:</span><a href="#current-devices" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>Mijia Smart Camera PTZ Version 1080P (Supported: Mijia)</p><li><p>Mi Home Desk Lamp Pro (Supports: Apple HomeKit, Mi Home)</p><li><p>Mi Home LED Smart Desk Lamp (Supports: Mi Home)</p></ol><h4 id="ideal-goals"><span class="me-2">Ideal Goals:</span><a href="#ideal-goals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>When returning home:</strong> Automatically turn off the camera (for privacy and to prevent accidental triggering of the home alarm; the Mi Home app has a bug that prevents the home alarm from turning on/off as scheduled), turn on the Pro desk lamp (to avoid fumbling in the dark).<br /> <strong>When leaving home:</strong> Automatically turn on the camera (home monitoring enabled by default), turn off all lights.</p><h4 id="final-achievements-of-this-article"><span class="me-2"><strong>Final Achievements of This Article:</strong></span><a href="#final-achievements-of-this-article" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Send push notifications when leaving or arriving home, and trigger actions with a tap on the phone (current devices cannot achieve the ideal automation).</p><h3 id="the-path-to-smart-home-setup"><span class="me-2">The Path to Smart Home Setup:</span><a href="#the-path-to-smart-home-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="apple-homekit-usage"><span class="me-2"><strong>Apple HomeKit Usage</strong></span><a href="#apple-homekit-usage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>*Only for Mi Home Desk Lamp Pro! Mi Home Desk Lamp Pro! Mi Home Desk Lamp Pro!</strong></p><p>This is the simplest part because it all uses native features.</p><p><a href="/assets/c3150cdc85dd/1*pv62RZ_TjL8X6t-gXnwWtQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*pv62RZ_TjL8X6t-gXnwWtQ.webp" alt="Just four steps" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Only Four Steps</p><ol><li><p>Find the Home app (if not installed, please search “Home” in the App Store and install it)</p><li><p>Open the Home app</p><li><p>Click the “+” icon at the top right to add a nearby location</p><li><p>Scan the HomeKit QR Code at the bottom of the Pro desk lamp to add the accessory!</p></ol><p><a href="/assets/c3150cdc85dd/1*0Rm1Ij86bD-fld-N-N1qJw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*0Rm1Ij86bD-fld-N-N1qJw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEyNDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>After successfully adding the accessory, press firmly (3D TOUCH) or long press on the accessory to adjust brightness and color.</p><h4 id="how-to-use-third-party-integration-with-apple-homekit-for-smart-homes-that-do-not-support-apple-homekit"><span class="me-2">How to Use Third-Party Integration with Apple HomeKit for Smart Homes That Do NOT Support Apple HomeKit?</span><a href="#how-to-use-third-party-integration-with-apple-homekit-for-smart-homes-that-do-not-support-apple-homekit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Besides the smart devices that are natively supported, does that mean devices not supporting Apple HomeKit cannot be controlled through the Home app at all?<br /> This chapter will guide you step-by-step on how to add unsupported devices (cameras, regular desk lamps) to the Home app!</p><blockquote><p><strong>Mac ONLY, Windows users please skip to the Mi Home section</strong></p></blockquote><blockquote><p><strong>My device is MacOS 10.14/iOS 12</strong></p></blockquote><p><strong>Using <a href="https://github.com/nfarina/homebridge" target="_blank">HomeBridge</a> ：</strong></p><p>HomeBridge uses a Mac computer as a bridge to simulate unsupported devices as HomeKit accessories, allowing them to be added to the “Home” app.</p><p><a href="/assets/c3150cdc85dd/1*q2ctcxaaxLFExKXd-9NjPg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*q2ctcxaaxLFExKXd-9NjPg.webp" alt="Operation Comparison" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MTEiIGhlaWdodD0iMzU4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Operation Comparison</p><p>One key point is <strong>you need to keep a Mac computer turned on to maintain a smooth bridging channel</strong>; once the computer is shut down or asleep, you won’t be able to control those HomeKit devices.</p><p>Of course, some experts online use a Raspberry Pi as a bridge by buying one and setting it up themselves; however, this involves too much technical detail and will not be covered in this article.</p><p>If you still want to try it after knowing the drawbacks, you can continue reading or skip to the next section about using Mijia directly.</p><p><strong>Step 1:</strong></p><p>Install <a href="https://nodejs.org/en/" target="_blank">node.js</a>: <a href="https://nodejs.org/dist/v12.6.0/node-v12.6.0.pkg" target="_blank">Click here</a> <a href="https://nodejs.org/dist/v12.6.0/node-v12.6.0.pkg" target="_blank">Download</a> and install.</p><p><strong>Step 2:</strong></p><p>Open “Terminal” and enter</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nt">-v</span>
</pre></table></code></div></div><p><a href="/assets/c3150cdc85dd/1*RBRWT93L_abbhzTItL9Mhg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*RBRWT93L_abbhzTItL9Mhg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NjYiIGhlaWdodD0iNjU5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Check if the node.js npm package manager is installed successfully: displaying the version number means success!</p><p><strong>Step 3:</strong></p><p>Install the HomeBridge package via npm:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nt">-g</span> <span class="nb">install </span>homebridge <span class="nt">--unsafe-perm</span>
</pre></table></code></div></div><p>After the installation is complete… the HomeBridge tool is ready to use!</p><p>Earlier, it was mentioned that “HomeBridge uses a Mac computer as a bridge to simulate unsupported devices as HomeKit devices.” <strong>In fact, HomeBridge is just a platform, and each device requires separate HomeBridge plugins to be added.</strong></p><p>It’s easy to find resources by searching “mija product English name homebridge” on Google or GitHub; here are two device resources I use:</p><p><strong>1. Mijia Camera PTZ Version Resources: <a href="https://github.com/josepramon/homebridge-mijia-camera" target="_blank">MijiaCamera</a></strong></p><p>Cameras are more complex devices, so I spent some time researching and organizing information; I hope this helps those in need!</p><p>First, use the “Terminal” to run the command to install the MijiaCamera npm package.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nb">install</span> <span class="nt">-g</span> homebridge-mijia-camera
</pre></table></code></div></div><p>After installation, we need to obtain two pieces of information from the camera: the network <strong>IP address</strong> and the <strong>Token</strong>.</p><p><a href="/assets/c3150cdc85dd/1*n0TIhqyCoKZo7--ePZwuLA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*n0TIhqyCoKZo7--ePZwuLA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNzUwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Open the Mi Home app → Camera → Top right corner “…” → Settings → Network info to get the <strong>IP address</strong>!</p><p><strong>Token</strong> information is more complicated and requires you to connect your phone to your Mac:</p><p><a href="/assets/c3150cdc85dd/1*0ewSMEH7K2rzUlUtSB61vw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*0ewSMEH7K2rzUlUtSB61vw.webp" alt="Open iTunes Interface" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjEyIiBoZWlnaHQ9IjgzNyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Open the iTunes interface</p><p>Select backup <strong>Do NOT check Encrypt local backup</strong>, then click “Back Up Now”</p><p>After the backup is complete, <a href="http://www.imactools.com/iphonebackupviewer/download/mac" target="_blank">download</a> and install the backup viewer software: <a href="http://www.imactools.com/iphonebackupviewer/download/mac" target="_blank">iBackupViewer</a></p><p>Open “iBackupViewer.” On first launch, it will ask you to go to Mac “System Preferences” - “Security &amp; Privacy” - “Privacy” - “+” - add “iBackupViewer.”<br /> <strong>**If you have privacy concerns, you can disable network access for this software and remove it after use</strong>*</p><p><a href="/assets/c3150cdc85dd/1*kEOxJCkOxDRuFfoxumssgA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*kEOxJCkOxDRuFfoxumssgA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3ODAiIGhlaWdodD0iNjg1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>After reopening “iBackupViewer” and successfully loading the backup file, click the top right corner to switch to “Tree View” mode.</p><p><a href="/assets/c3150cdc85dd/1*R4l6tRzDaqtiN7xutPKtQg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*R4l6tRzDaqtiN7xutPKtQg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjY5OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>The left side will show all your installed apps. Find the Mi Home app “AppDomain-com.xiaomi.mihome” -&gt; “Documents”</p><p>Find and select the file “<strong>數字_mihome.sqlite</strong>” in the document list on the right side.</p><p>Click the top right “Export” -&gt; “Selected”</p><p>Upload the exported SQLite file to <a href="https://inloop.github.io/sqlite-viewer/" target="_blank">https://inloop.github.io/sqlite-viewer/</a> to view its contents.</p><p><a href="/assets/c3150cdc85dd/1*oRK8tHqom2tnR3CE5xz_-w.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*oRK8tHqom2tnR3CE5xz_-w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQzIiBoZWlnaHQ9IjE1NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>You can see all device information fields on the Mi Home app. Scroll right to the end, find the <strong>ZTOKEN</strong> field, double-click to edit, select all, and copy.</p><p>Finally, open the website <a href="http://aes.online-domain-tools.com/" target="_blank">http://aes.online-domain-tools.com/</a> to convert <strong>ZTOKEN</strong> into the final <strong>Token</strong>.</p><p><a href="/assets/c3150cdc85dd/1*ZXTe6MEFXjYhqtf9uAJWwQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*ZXTe6MEFXjYhqtf9uAJWwQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjQiIGhlaWdodD0iNTg2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ol><li>Paste the copied ZTOKEN into “Input Text” and select “Hex”.<li>Enter the key “00000000000000000000000000000000” (32 zeros) and also select “Hex”.<li>Then click “Decrypt!” to convert.<li>Select all, copy the text in the blue box at the bottom right, and remove spaces to get the <strong>Token</strong> we need.</ol><blockquote><p>Here, I tried to directly sniff the token using “miio,” but it seems the Mijia camera firmware has been updated, and this method no longer quickly and easily obtains the token!</p></blockquote><p><strong>Back to HomeBridge! Editing the config.json file</strong></p><p><a href="/assets/c3150cdc85dd/1*Zh_BWLwMUg5pOxFEVipgiQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Zh_BWLwMUg5pOxFEVipgiQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDkyIiBoZWlnaHQ9IjQ0OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Use “Finder” -&gt; “Go” -&gt; “Go to Folder” -&gt; enter “~/.homebridge” to navigate.</p><p>Open “config.json” with a text editor. If the file does not exist, create one or <a href="https://drive.google.com/file/d/1S67NZwXrVqOpps_Cl9l0494foDaHxuWF/view?usp=sharing" target="_blank">click here to download</a> and place it directly inside.</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"bridge"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Homebridge"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"CC:22:3D:E3:CE:30"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"port"</span><span class="p">:</span><span class="mi">51826</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pin"</span><span class="p">:</span><span class="s2">"123-45-568"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"accessories"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"accessory"</span><span class="p">:</span><span class="s2">"MijiaCamera"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Mi Camera"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"token"</span><span class="p">:</span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>Add the above content to config.json, inserting the IP and Token obtained earlier.</p><p>At this point, return to the “Terminal” and run the following command to start HomeBridge.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge start
</pre></table></code></div></div><p>If you have already started and then changed the content of config.json, you can modify it as follows:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge restart
</pre></table></code></div></div><p>Restart</p><p><a href="/assets/c3150cdc85dd/1*vwCS3QHu285oCrChau9mpw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*vwCS3QHu285oCrChau9mpw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NjYiIGhlaWdodD0iNzQzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>At this point, a HomeKit QRCode will appear for you to scan and add the accessory (the steps are as mentioned above for adding Apple HomeKit devices).</p><p><a href="/assets/c3150cdc85dd/1*CB76x9ryWBve2bssFd0nzA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*CB76x9ryWBve2bssFd0nzA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNDQ2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>The following status messages will also appear:<br /> [2019–7–4 23:45:03] [Mi Camera] connecting to camera at 192.168.0.100…<br /> [2019–7–4 23:45:03] [Mi Camera] current power state: off</p><p>The appearance of these and no error messages means the setup was successful!</p><p>Common errors usually involve incorrect tokens. Just check if any steps in the above process were missed.</p><p>You can now turn your Mi Home smart camera on and off from the “Home” app!</p><p><strong>2. Mi Home LED Smart Desk Lamp HomeBridge Resource: <a href="https://github.com/vieira/homebridge-yeelight-wifi" target="_blank">homebridge-yeelight-wifi</a></strong></p><p>Next is the Mi Home LED Smart Desk Lamp. Since it doesn’t support Apple HomeKit like the Pro version, we still need to add it using HomeBridge. Although the steps <strong>do not require the complicated process of obtaining IP and Token</strong>, making it simpler than cameras, the desk lamp has its own quirks. You need to pair it with another YeeLight app and enable local network control:</p><p><a href="/assets/c3150cdc85dd/1*uuaLjWduzC5RrOf-gd2-Jw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*uuaLjWduzC5RrOf-gd2-Jw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>I have to complain about this poor integration. The native Mi Home app cannot perform this setting; so please search for the “<a href="https://apps.apple.com/tw/app/yeelight/id977125608" target="_blank">Yeelight</a>” app on the App Store to download and install it.</p><p>Open the app -&gt; Log in directly with your Mi Home account -&gt; Add device -&gt; Mi Home Desk Lamp -&gt; Follow the instructions to rebind the desk lamp to the Yeelight app</p><p><a href="/assets/c3150cdc85dd/1*GTcap563FDdC0TsH09hZww.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*GTcap563FDdC0TsH09hZww.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>After completing device binding, go back to the “Devices” page -&gt; tap “Mi Home Desk Lamp” to enter -&gt; tap the “△” tab at the bottom right -&gt; enter “LAN Control” settings -&gt; turn on the switch to allow LAN (Local Area Network) control.</p><p><strong>The desk lamp setup is complete. You can keep using this app to control the lamp or rebind it to the Mi Home app.</strong></p><p><strong>Next is the HomeBridge setup; first, open the “Terminal” and run the command to install the <a href="https://github.com/vieira/homebridge-yeelight-wifi" target="_blank">homebridge-yeelight-wifi</a> npm package</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nb">install</span> <span class="nt">-g</span> homebridge-yeelight-wifi
</pre></table></code></div></div><p>After installation, follow the same camera steps and go to the ~/.homebridge folder. Create or edit the config.json file, and this time, just add the following inside the last }</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nl">"platforms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
         </span><span class="nl">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><p>Got it!</p><p><strong>Finally, combine the above camera config.json file as follows:</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
 </span><span class="nl">"bridge"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Homebridge"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CC:22:3D:E3:CE:30"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">51826</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-45-568"</span><span class="w">
 </span><span class="p">},</span><span class="w">

 </span><span class="nl">"accessories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="nl">"accessory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MijiaCamera"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mi Camera"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">

 </span><span class="nl">"platforms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
         </span><span class="nl">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>Then, go back to the “Terminal”:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge start
</pre></table></code></div></div><p>or</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge restart
</pre></table></code></div></div><p>You can now see the previously unsupported Mi Home LED Smart Desk Lamp added to the HomeKit “Home” app!</p><p><a href="/assets/c3150cdc85dd/1*3jm0Kd4545DcmzNtPY-dXA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*3jm0Kd4545DcmzNtPY-dXA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNDIxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Supports color and brightness adjustments as well!</p><h4 id="all-homekit-accessories-are-set-up-how-to-make-them-smart"><span class="me-2">All HomeKit accessories are set up, how to make them smart?</span><a href="#all-homekit-accessories-are-set-up-how-to-make-them-smart" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>After connecting everything properly, open the “Home” app as usual.</p><p><a href="/assets/c3150cdc85dd/1*s33BtesqfNSUNyyR069m_Q.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*s33BtesqfNSUNyyR069m_Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Add a scenario following the steps; here, “Going Home” is used as an example:</p><p>Tap the “+” at the top right -&gt; Add Scene -&gt; Custom -&gt; Enter the accessory name (e.g., Home) -&gt; Tap “Add Accessories” below -&gt; Select the connected HomeKit accessories -&gt; Set the accessory status for this scene (Camera: Off / Desk Lamp: On) -&gt; Tap “Test Scene” to test -&gt; Tap “Done” at the top right!</p><p>The setup is complete! Now, tap “Scene” on the homepage to execute all the accessory settings inside!</p><p><a href="/assets/c3150cdc85dd/1*VSArlFmoFERbjH13Cns5TQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*VSArlFmoFERbjH13Cns5TQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Another quick tip is to swipe up the control center and tap the house-shaped button to quickly operate HomeKit/execute scenes (you can switch modes at the top right)!</p><h4 id="with-intelligence-in-place-how-to-automate"><span class="me-2">With intelligence in place, how to automate?</span><a href="#with-intelligence-in-place-how-to-automate" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>The intelligence is already in place. Now I want to achieve the ultimate goal: automatically turn off the camera and turn on the lights when I get home; automatically turn on the camera and turn off the lights when I leave home.</p><p><a href="/assets/c3150cdc85dd/1*tCpQ3io2Q2DDCVFxJpBm_g.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*tCpQ3io2Q2DDCVFxJpBm_g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMTMzNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Switch to the third tab “Automation” to set it up. Sorry, none of the devices mentioned above (iPad/Apple TV/HomePod) can act as a <strong>” <a href="https://support.apple.com/zh-tw/HT207057" target="_blank">Home Hub</a> ”</strong>, so I did not explore this area.</p><p>The principle seems to be that when you return home, detecting the <strong>“home hub”</strong> phone/watch can accurately trigger the action!</p><h4 id="here-i-found-a-tricky-method-gps-sensing"><span class="me-2">Here I found a tricky method: (GPS sensing)</span><a href="#here-i-found-a-tricky-method-gps-sensing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Using third-party apps to integrate with “Home” and add automation settings allows you to bypass restrictions on using the “Automation” tab by leveraging your phone’s GPS location for automation.</p><p>p.s GPS may have an error margin of about 100 meters</p><p><a href="/assets/c3150cdc85dd/1*Rm101LKv29Avb5wv4isg4A.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Rm101LKv29Avb5wv4isg4A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Here, the third-party integrated app I use is: <a href="https://apps.apple.com/us/app/myhome-plus-control-for-nest-wemo-and-homekit/id1050479330" target="_blank">myHome Plus</a></p><p>After downloading and installing, open the app -&gt; allow access to “Home Data” -&gt; you will see the “Home” data configuration -&gt; tap the “Settings” button at the top right -&gt; tap “My Home” to enter<br /> -&gt; scroll down to the “Triggers” section -&gt; tap “Add Trigger”</p><p><a href="/assets/c3150cdc85dd/1*Kk6AMnhSYP4sM8JD_66Iow.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Kk6AMnhSYP4sM8JD_66Iow.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Select the trigger type as “Location” -&gt; Enter a name (e.g., Home) -&gt; Click “Set Location” to set the area -&gt; Then, under REGION STATUS, choose whether entering or leaving the area triggers it -&gt; Finally, under SCENES, select the corresponding “scene” to execute (created above)</p><p>After tapping “Done” at the top right to save, go back to the “Home” app, and you will see the “Automation” tab is enabled and ready to use!</p><p><a href="/assets/c3150cdc85dd/1*SXYVBHk9-pMD8YufRQA4zw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*SXYVBHk9-pMD8YufRQA4zw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>At this point, you can choose the “+” at the top right to directly add an automation script using the “Home” app!!</p><p><a href="/assets/c3150cdc85dd/1*qbtjNCj9mOvjuX7an6rhXw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*qbtjNCj9mOvjuX7an6rhXw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>The steps are similar to third-party apps but with better integration! After creating automation with the native “Home” app, you can also swipe to delete the ones made with third-party apps.</p><blockquote><p><strong><em>!! Just make sure to keep at least one item; otherwise, the Tab will revert to its original locked state!!</em></strong></p></blockquote><p><strong>Siri Voice Control Section:</strong></p><p>Compared to the Mi Home introduced below, HomeKit offers much higher integration, allowing direct voice control of configured accessories and scene execution without any additional setup.</p><p><a href="/assets/c3150cdc85dd/1*q_ui00ruJl1Fd3_5M-0EhQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*q_ui00ruJl1Fd3_5M-0EhQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>This concludes the introduction to HomeKit settings. Next, let’s explain how to use the native Mi Home smart system.</p><h4 id="how-to-build-a-smart-home-using-mijia-itself"><span class="me-2"><strong>How to Build a Smart Home Using Mijia Itself:</strong></span><a href="#how-to-build-a-smart-home-using-mijia-itself" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Here is a confusing point: I couldn’t find the exact same Mi Home desk lamp when adding a device in the Mi Home app. The answer is:</p><p><a href="/assets/c3150cdc85dd/1*xLM5-khndWjvEDdTaFiPfw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*xLM5-khndWjvEDdTaFiPfw.webp" alt="Just look at the text, this is it" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Just read the text, this is it.</p><p>Other devices: For cameras and Pro desk lamps, just follow the official instructions to set them up and add them. No further details will be provided here.</p><p><strong>Scenario Setting:</strong></p><p><a href="/assets/c3150cdc85dd/1*leO3Z492pJPh3hEASYr-ww.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*leO3Z492pJPh3hEASYr-ww.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Same as “Family Setup” -&gt; Switch to the “Smart” Tab -&gt; Select “Manual Execution” -&gt; Choose device actions below (more features available since it’s native) -&gt; Continue adding other devices (desk lamp) -&gt; “Save” to complete!</p><blockquote><p><em>Someone will definitely ask why not just choose “Leave or Arrive at a Location”? Because this feature is basically useless. The app is not optimized for GPS in Taiwan, and its positioning can only be set to landmarks. If your location matches, you can use this feature directly. <strong>You can skip the rest of the article!</strong></em></p></blockquote><blockquote><p><strong><em>Trivia: <a href="https://buzzorange.com/techorange/2019/05/09/china-map-is-wrong/" target="_blank">The China Map in Google Maps Is Completely Wrong!</a></em></strong></p></blockquote><p><a href="/assets/c3150cdc85dd/1*ZjdH5A0QnLq2LNh9lWvCCw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*ZjdH5A0QnLq2LNh9lWvCCw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjgzMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>For quick toggles, you can set up widgets from “My” -&gt; “Widgets”!</p><p>This allows you to quickly execute scenes and devices from the Notification Center!</p><p><a href="/assets/c3150cdc85dd/1*DMmicpzKUIr2xtN8JtP3wQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*DMmicpzKUIr2xtN8JtP3wQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>You can also control components from the <a href="/posts/zrealm-life/en/apple-watch-series-4-comprehensive-user-insights-and-top-watchos-apps-a2920e33e73e/">Apple Watch</a>! <strong>If the watch app keeps showing a blank screen, please delete and reinstall the watch or phone app, as this app has quite a few bugs.</strong></p><h4 id="with-intelligence-in-place-how-do-we-automate"><span class="me-2">With intelligence in place, how do we automate?</span><a href="#with-intelligence-in-place-how-do-we-automate" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Here, you still need to use the GPS sensing method. <strong>If the new scene mentioned above uses “leaving or arriving at a location,” you can skip the following settings!</strong></p><hr /><h4 id="20190926-update-ios--13-to-achieve-automation-using-only-the-built-in-shortcuts-app"><span class="me-2">[2019/09/26] Update iOS ≥ 13 to Achieve Automation Using Only the Built-in Shortcuts App:</span><a href="#20190926-update-ios--13-to-achieve-automation-using-only-the-built-in-shortcuts-app" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/posts/zrealm-life/en/ios-13-1-shortcuts-automation-seamless-integration-with-mi-home-smart-devices-21119db777dd/">iOS ≥ 13.1 Use the “Shortcuts” automation feature with Mi Home smart devices, click to view »</a></p><hr /><blockquote><p><em>iOS ≥ 12, iOS &lt; 13 Only :</em></p></blockquote><blockquote><p><strong>Using the Built-in Shortcuts App with IFTTT</strong></p></blockquote><p><a href="/assets/c3150cdc85dd/1*e9ld6Qn7D64CG-DZA1vAsA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*e9ld6Qn7D64CG-DZA1vAsA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjgzMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>First go to “Me” -&gt; “Lab Features” -&gt; “iOS Shortcuts” -&gt; “Add Mijia Scene to Shortcut”</p><p>Open the built-in “ <a href="https://apps.apple.com/tw/app/%E6%8D%B7%E5%BE%91/id915249334" target="_blank">Shortcuts</a> “ app (if you can’t find it, search and download it from the App Store).</p><p><a href="/assets/c3150cdc85dd/1*-rjtmZ6PHzSzOoBvjJ-FJQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*-rjtmZ6PHzSzOoBvjJ-FJQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Click the “+” at the top right to create a shortcut -&gt; Tap the “Done” button in the top right after setting below -&gt; Name -&gt; Enter a name (English is recommended, as it will be used later)</p><p><a href="/assets/c3150cdc85dd/1*5aUsslYvZvlFiSQYJrGgRw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*5aUsslYvZvlFiSQYJrGgRw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEyNDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Return to the Add Shortcut page -&gt; enter “Mi Home” in the bottom menu search -&gt; add the corresponding scene set in Mi Home, then turn off “Show When Run” to prevent Mi Home app from opening after execution.</p><blockquote><p>*If you cannot find Mi Home, please return to the Mi Home app and try toggling “Me” -&gt; “Lab Features” -&gt; “iOS Shortcuts” -&gt; “Add Mi Home Scenes to Shortcuts,” then close and reopen the Shortcuts app.</p></blockquote><p>At this point, we need to use a third-party app. We use IFTTT for GPS-based background triggers for entering and leaving locations. Search for “<a href="https://apps.apple.com/us/app/ifttt/id660944635" target="_blank">IFTTT</a>” in the App Store to download and install it.</p><p><a href="/assets/c3150cdc85dd/1*5tXhFP4uT1ySSFAZnnDQGw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*5tXhFP4uT1ySSFAZnnDQGw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Open IFTTT and log in. Switch to the “My Applets” tab, then click the “+” icon in the top right to add a new applet.<br /> Click “+this” -&gt; search for “Location” -&gt; choose either entering or leaving.</p><p><a href="/assets/c3150cdc85dd/1*2vs32eIxtEmvqzxOsDLGEw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*2vs32eIxtEmvqzxOsDLGEw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Set location -&gt; Click “Create trigger” to confirm -&gt; Then click the “+that” below -&gt; Search for “notification”</p><p><a href="/assets/c3150cdc85dd/1*bVmWLH5tUcko5eeOmnR3kQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*bVmWLH5tUcko5eeOmnR3kQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Choose “Send a rich notification from the IFTTT app”:</p><p>Title = Notification Title, Message = Notification Content</p><p>Link URL please enter: shortcuts://run-shortcut?name= <strong><em>Shortcut Name</em></strong></p><p>That’s why it’s better to name shortcuts in English whenever possible.</p><p>-&gt; Click “Create action” -&gt; You can click “Edit title” to set the name</p><p>-&gt; “Finish” saved successfully!</p><p><strong>The next time you leave or enter the set area, you will receive a triggered notification (with about a 100-meter margin of error). Tapping the notification will automatically execute the Mi Home scene!</strong></p><p><a href="/assets/c3150cdc85dd/1*a9zXd_JSpz9IKInJlPoJ1w.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*a9zXd_JSpz9IKInJlPoJ1w.webp" alt="Tap the notification to automatically run the scene in the background" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMTMzNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Clicking the notification will automatically run the scene in the background</p><p><strong>Siri Voice Control Section:</strong></p><p>Since Mi Home is not a built-in Apple app, supporting Siri voice control requires additional setup:</p><p><a href="/assets/c3150cdc85dd/1*lyzEU2cKxafbnXkWnR7ltg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*lyzEU2cKxafbnXkWnR7ltg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>In the “Intelligence” Tab -&gt; “Add to Siri” -&gt; Select “Target Scenario” and press “Add to Siri”</p><p>-&gt; Tap the red record button (e.g., turn off the light) -&gt; Done!</p><p>You can directly call and control the execution of scenes in Siri!</p><h3 id="summary"><span class="me-2">Summary</span><a href="#summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The lengthy setup steps above can be summarized as follows:</p><p>For a good experience, you have to spend a lot of money on appliances with the HomeKit logo (so you don’t need to keep a Mac running as a HomeBridge server; they integrate perfectly with Apple’s native Home app). You also need to buy a HomePod, Apple TV, or iPad to serve as the home hub. Both HomeKit-certified appliances and home hubs are expensive!</p><p>If you have technical skills, consider using third-party smart devices (such as Mi Home) with a Raspberry Pi to set up HomeBridge.</p><p>If you are an ordinary user like me, it’s still easiest to use Mi Home. My current habit is to execute scene operations from the notification center’s quick widget when I arrive or leave home. The Shortcuts app combined with IFTTT is only used for notification reminders, in case I sometimes forget.</p><p>Although the current experience has not reached the ideal goal, it is already a step closer to <strong>“Smart Home”</strong>!</p><h3 id="advanced-section"><span class="me-2">Advanced Section</span><a href="#advanced-section" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/posts/zrealm-life/en/smart-wfh-home-setup-control-all-appliances-with-homekit-raspberry-pi-99db2a1fbfe5/"><strong>Demo: Using Raspberry Pi as a HomeBridge Host to Connect All Mijia Appliances to HomeKit</strong></a></p><h3 id="further-reading"><span class="me-2">Further Reading</span><a href="#further-reading" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li><p><a href="/posts/zrealm-life/en/xiaomi-smart-home-devices-ai-speaker-sensor-dc-fan-integration-bcff7c157941/">Xiaomi Smart Home New Purchases (AI Speaker, Temperature and Humidity Sensor, Scale 2, DC Inverter Fan)</a></p><li><p><a href="/posts/zrealm-life/en/ios-13-1-shortcuts-automation-seamless-integration-with-mi-home-smart-devices-21119db777dd/">iOS ≥ 13.1 Automation with “Shortcuts” for Mijia Smart Home (Using the built-in Shortcuts app in iOS ≥ 13.1 to complete automation)</a></p><li><p><a href="/posts/zrealm-life/en/mi-home-app-xiao-ai-speaker-region-issues-resolve-connectivity-for-xiaomi-air-purifier-3-94a4020edb82/">Mi Home APP / Xiao Ai Speaker Region Issues</a></p></ol><p>If you have any questions or feedback, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>This post was originally published on Medium (<a href="https://medium.com/p/c3150cdc85dd" target="_blank"><strong>View original post</strong></a>), and automatically converted and synced by <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a>.</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/en/zmediumtomarkdown/2019-07-05-c3150cdc85dd.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-life/">ZRealm Life.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/english/" class="post-tag no-text-decoration" >english</a> <a href="/tags/ai-translation/" class="post-tag no-text-decoration" >ai-translation</a> <a href="/tags/lifestyle/" class="post-tag no-text-decoration" >lifestyle</a> <a href="/tags/unboxing/" class="post-tag no-text-decoration" >unboxing</a> <a href="/tags/3c/" class="post-tag no-text-decoration" >3c</a> <a href="/tags/mijia/" class="post-tag no-text-decoration" >mijia</a> <a href="/tags/homekit/" class="post-tag no-text-decoration" >homekit</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Apple%20HomeKit%20&%20Xiaomi%20Mijia%20Smart%20Home%20Setup%EF%BD%9CStep-by-Step%20Guide%20for%20Beginners%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-life%2Fen%2Fapple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Apple%20HomeKit%20&%20Xiaomi%20Mijia%20Smart%20Home%20Setup%EF%BD%9CStep-by-Step%20Guide%20for%20Beginners%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-life%2Fen%2Fapple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-life%2Fen%2Fapple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/en/apple-watch-stainless-steel-milanese-loop-unboxing-premium-44mm-graphite-band-review-c0f99f987d9c/">Apple Watch Stainless Steel Milanese Loop Unboxing｜Premium 44mm Graphite Band Review</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/zh-cn/apple-watch-%E7%B1%B3%E5%85%B0%E8%A1%A8%E5%B8%A6%E5%BC%80%E7%AE%B1-%E5%8E%9F%E5%8E%82%E4%B8%8D%E9%94%88%E9%92%A2%E7%9F%B3%E5%A2%A8%E8%89%B2%E4%BC%98%E7%BC%BA%E7%82%B9%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原厂不锈钢米兰表带开箱</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/apple-watch-%E7%B1%B3%E8%98%AD%E9%8C%B6%E5%B8%B6%E9%96%8B%E7%AE%B1-%E5%8E%9F%E5%BB%A0%E4%B8%8D%E9%8F%BD%E9%8B%BC%E7%9F%B3%E5%A2%A8%E8%89%B2%E5%84%AA%E7%BC%BA%E9%BB%9E%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原廠不鏽鋼米蘭錶帶開箱</a><li class="text-truncate lh-lg"> <a href="/posts/travel-journals/en/busan-travel-guide-8-day-itinerary-with-visit-busan-pass-for-seamless-exploration-8ace34a1a3d8/">Busan Travel Guide｜8-Day Itinerary with VISIT BUSAN PASS for Seamless Exploration</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/zh-cn/%E9%87%9C%E5%B1%B1%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-8%E5%A4%A97%E5%A4%9C%E5%BF%85%E5%8E%BB%E6%99%AF%E7%82%B9-%E7%BE%8E%E9%A3%9F%E4%B8%8E%E4%BA%A4%E9%80%9A%E5%85%A8%E8%A7%A3%E6%9E%90-%E9%87%9C%E5%B1%B1%E9%80%9A%E8%A1%8C%E8%AF%81%E7%9C%81%E9%92%B1%E7%A7%98%E8%AF%80-8ace34a1a3d8/">游记 2025 韩国釜山 8 天 7 夜自由行</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節 (Chapters)🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-life/en/xiaomi-smart-home-devices-ai-speaker-sensor-dc-fan-integration-bcff7c157941/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1569503802" data-df="ll" > Sep 26, 2019 </time><h4 class="pt-0 my-2">Xiaomi Smart Home Devices｜AI Speaker, Sensor & DC Fan Integration</h4><div class="text-muted"><p>Discover Xiaomi&#39;s smart home additions featuring AI speakers, temperature-humidity sensors, smart scales, and DC inverter fans to enhance automation and comfort seamlessly.</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-life/en/apple-watch-protective-cases-catalyst-muvit-unboxing-and-review-a66ce3dc8bb9/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1562597750" data-df="ll" > Jul 8, 2019 </time><h4 class="pt-0 my-2">Apple Watch Protective Cases｜Catalyst & Muvit Unboxing and Review</h4><div class="text-muted"><p>Discover the ultra-thin, waterproof Catalyst case and durable Muvit cover for Apple Watch. Enhance your device&#39;s protection with lightweight designs that don’t compromise style or functionality.</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-life/en/airpods-2-unboxing-detailed-hands-on-experience-and-key-features-33afa0ae557d/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1556717540" data-df="ll" > May 1, 2019 </time><h4 class="pt-0 my-2">AirPods 2 Unboxing｜Detailed Hands-On Experience and Key Features</h4><div class="text-muted"><p>Discover the enhanced design and performance of AirPods 2 through an in-depth unboxing and hands-on review, addressing common user concerns and delivering clear insights for better audio experience.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-life/airpods-2-%E9%96%8B%E7%AE%B1-%E7%84%A1%E7%B7%9A%E8%88%87%E6%9C%89%E7%B7%9A%E7%89%88%E6%9C%AC%E5%B7%AE%E7%95%B0-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%E5%8F%8A%E9%80%9A%E8%A9%B1%E9%9F%B3%E8%B3%AA%E5%AE%8C%E6%95%B4%E8%A9%95%E6%B8%AC-33afa0ae557d/" class="btn btn-outline-primary" aria-label="Older" ><p>AirPods 2 開箱｜無線與有線版本差異、使用技巧及通話音質完整評測</p></a> <a href="/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/" class="btn btn-outline-primary" aria-label="Newer" ><p>智慧家居初体验 - Apple HomeKit & 小米米家</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">中文</a>|<a href="/tags/simplified-chinese">简中</a>|<a href="/tags/english/">English</a></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a> <br/></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="针对想用Apple HomeKit与小米米家打造智慧家庭的使用者，详解HomeBridge安装与设定流程，解决不支援HomeKit装置整合难题，并示范如何利用捷径与IFTTT实现GPS自动化，提升居家便利与安全性。" /><meta property="og:description" content="针对想用Apple HomeKit与小米米家打造智慧家庭的使用者，详解HomeBridge安装与设定流程，解决不支援HomeKit装置整合难题，并示范如何利用捷径与IFTTT实现GPS自动化，提升居家便利与安全性。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-07-06T01:13:47+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" /><meta property="twitter:title" content="Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-04-13T15:49:52+08:00","datePublished":"2019-07-06T01:13:47+08:00","description":"针对想用Apple HomeKit与小米米家打造智慧家庭的使用者，详解HomeBridge安装与设定流程，解决不支援HomeKit装置整合难题，并示范如何利用捷径与IFTTT实现GPS自动化，提升居家便利与安全性。","headline":"Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/"},"url":"https://zhgchg.li/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/"}</script><title>Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-life/apple-homekit-%E8%88%87%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%A8%AD%E5%AE%9A%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%99%E5%AD%B8-c3150cdc85dd/"><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-life/zh-cn/apple-homekit-%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6-c3150cdc85dd/"><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background: #EDF4FF; color: #0A84FF;"> <i class="fa-brands fa-medium"></i> <span>Follow Me!<br/><strong>1,049+</strong> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学</h1><p class="post-desc fw-light mb-4">针对想用Apple HomeKit与小米米家打造智慧家庭的使用者，详解HomeBridge安装与设定流程，解决不支援HomeKit装置整合难题，并示范如何利用捷径与IFTTT实现GPS自动化，提升居家便利与安全性。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1562346827" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 6, 2019 </time> </span> <span> Updated <time data-ts="1712994592" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" class="popup img-link preview-img blur"><img data-src="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="5057 words" > <em>28 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Chapters 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Apple HomeKit 与小米米家智慧家居整合攻略｜HomeBridge 串接设定与自动化教学</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-life/apple-homekit-%E8%88%87%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%A8%AD%E5%AE%9A%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%99%E5%AD%B8-c3150cdc85dd/"><strong>點擊這裡</strong></a>查看本文章正體中文版本。</p></blockquote><blockquote class="prompt-info"><p>基于 SEO 考量，本文标题与描述经 AI 调整，原始版本请参考内文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目录</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#智慧家居初体验---apple-homekit--小米米家">智慧家居初体验 - Apple HomeKit & 小米米家</a></li><li><a href="#杂谈">杂谈</a></li><li><a href="#本篇">本篇</a></li><li class="has-children"><details><summary>采买 <a href="#采买">#</a></summary><ul><li><a href="#米家台灯-pro-">米家台灯 Pro </a></li><li><a href="#米家-led-智慧台灯-">米家 LED 智慧台灯 </a></li></ul></details></li><li class="has-children"><details><summary>理想的智慧家居目标 <a href="#理想的智慧家居目标">#</a></summary><ul><li><a href="#目前有的装置">目前有的装置</a></li><li><a href="#理想目标">理想目标</a></li><li><a href="#本篇最终达成">本篇最终达成</a></li></ul></details></li><li class="has-children"><details><summary>智慧家居设定之路 <a href="#智慧家居设定之路">#</a></summary><ul><li><a href="#apple-homekit-使用">Apple HomeKit 使用</a></li><li><a href="#那不-支援apple-homekit的智慧家居怎么使用第三方串接homekit">那不 支援Apple HomeKit的智慧家居怎么使用第三方串接HomeKit？</a></li><li><a href="#homekit配件都加好了怎么让他智慧呢">HomeKit配件都加好了，怎么让他智慧呢？</a></li><li><a href="#智慧有了那怎么自动化呢">智慧有了，那怎么自动化呢？</a></li><li><a href="#这边我有找到一个tricky的做法感应gps">这边我有找到一个tricky的做法：(感应GPS)</a></li><li><a href="#使用米家本身搭建智慧家庭的方法">使用米家本身搭建智慧家庭的方法</a></li><li><a href="#智慧有了那怎么自动化呢-1">智慧有了，那怎么自动化呢？</a></li><li><a href="#20190926-更新-ios--13-只使用内建-捷径-app-达成自动化-">[2019/09/26] 更新 iOS ≥ 13 只使用内建 捷径 APP 达成自动化 </a></li></ul></details></li><li><a href="#总结">总结</a></li><li><a href="#进阶篇">进阶篇</a></li><li><a href="#延伸阅读">延伸阅读</a></li></ul></nav><hr /><h3 id="智慧家居初体验---apple-homekit--小米米家"><span class="me-2">智慧家居初体验 - Apple HomeKit &amp; 小米米家</span><a href="#智慧家居初体验---apple-homekit--小米米家" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>米家智慧摄影机及米家智慧台灯、Homekit设定教学</p><p><strong>[2020/04/20]</strong> <a href="/posts/zrealm-life/zh-cn/homebridge-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%B2%E6%8E%A5%E7%B1%B3%E5%AE%B6%E5%AE%B6%E7%94%B5%E5%88%B0homekit-%E6%89%93%E9%80%A0%E6%99%BA%E6%85%A7%E5%B1%85%E5%AE%B6wfh%E7%8E%AF%E5%A2%83-99db2a1fbfe5/"><strong>进阶篇已发</strong></a> <strong>：</strong> <strong><a href="/posts/zrealm-life/zh-cn/homebridge-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%B2%E6%8E%A5%E7%B1%B3%E5%AE%B6%E5%AE%B6%E7%94%B5%E5%88%B0homekit-%E6%89%93%E9%80%A0%E6%99%BA%E6%85%A7%E5%B1%85%E5%AE%B6wfh%E7%8E%AF%E5%A2%83-99db2a1fbfe5/">有经验的朋友请直接左转前往&gt;&gt;</a></strong> <a href="/posts/zrealm-life/zh-cn/homebridge-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%B2%E6%8E%A5%E7%B1%B3%E5%AE%B6%E5%AE%B6%E7%94%B5%E5%88%B0homekit-%E6%89%93%E9%80%A0%E6%99%BA%E6%85%A7%E5%B1%85%E5%AE%B6wfh%E7%8E%AF%E5%A2%83-99db2a1fbfe5/"><strong>示范使用树莓派当 HomeBridge 主机，将所有米家家电串上 HomeKit</strong></a></p><h3 id="杂谈"><span class="me-2">杂谈：</span><a href="#杂谈" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>最近刚搬完家；有别于原本住的地方，天花板是办公室轻钢架灯，亮到要拔掉几根灯管眼睛才比较舒适；现在住的地方则是装潢反射灯，使用电脑、看书亮度稍嫌不足，两周下来眼睛觉得更容易干涩不舒服；本想直接去IKEA采购，但考量到光色、护眼，最后比较一下CP值，于是还是选择了小米台灯(加上之前已有买小米智慧摄影机，都是米家系列产品)。</p><h3 id="本篇"><span class="me-2">本篇：</span><a href="#本篇" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>其实我在选购时并没有特别注意是否支援Apple HomeKit，身为一个iOS 开发者实在太失格了，因为我压跟没想到小米会支援．</p><p>所以本篇会分别介绍 <strong>Apple HomeKit 使用</strong> 、 <strong>不支援Apple HomeKit的智慧家居怎么使用第三方串接HomeKit？</strong> 及 <strong>使用米家本身搭建智慧家庭的方法（搭配IFTTT）</strong></p><p>大家可以根据自己的装置需求跳著看。</p><h3 id="采买"><span class="me-2">采买：</span><a href="#采买" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>我一共买了两盏台灯，一盏(Pro)放电脑桌工作用、另一盏放床头当阅读灯。</p><h4 id="米家台灯-pro-"><span class="me-2"><a href="https://www.mi.com/tw/mi-adjustable-smart-desk-lamp/" target="_blank">米家台灯 Pro</a> ：</span><a href="#米家台灯-pro-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Aa9zfAh7xclVOZS0IkcaMQ.webp" alt="NT$ 1,795 支援米家、Apple HomeKit" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjE0MDAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>NT$ 1,795 支援米家、Apple HomeKit</p><h4 id="米家-led-智慧台灯-"><span class="me-2"><a href="https://www.mi.com/tw/smartlamp/" target="_blank">米家 LED 智慧台灯</a> ：</span><a href="#米家-led-智慧台灯-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/c3150cdc85dd/1*PCaRI8AroRgFELEA1elaiA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*PCaRI8AroRgFELEA1elaiA.webp" alt="NT$ 995 仅支援米家" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjEyMDAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>NT$ 995 仅支援米家</p><p>详细介绍可参考官网，两盏都支援智慧控制、变色、调亮度、护眼，Pro版支援Apple HomeKit、三段角度调整；目前使用下来，以一盏灯的功能来说已经相当满意，硬要挑一个缺点的话就是Pro版的角度调整只有底座能水平转，灯不行，这样就不能调整光线的角度了！</p><h3 id="理想的智慧家居目标"><span class="me-2">理想的智慧家居目标：</span><a href="#理想的智慧家居目标" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="目前有的装置"><span class="me-2">目前有的装置：</span><a href="#目前有的装置" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>米家智慧摄影机云台版 1080P (支援：米家)</p><li><p>米家台灯 Pro (支援：Apple HomeKit、米家)</p><li><p>米家 LED 智慧台灯 (支援：米家)</p></ol><h4 id="理想目标"><span class="me-2">理想目标：</span><a href="#理想目标" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>回到家时：</strong> 自动关闭摄影机(为了隐私及防止误触看家警报，米家APP有BUG看家警报无法照设定时间开启关闭)、打开电脑桌的Pro灯(不想摸黑) <strong>离家时：</strong> 自动打开摄影机(预设启用看家)、关闭所有灯具</p><h4 id="本篇最终达成"><span class="me-2"><strong>本篇最终达成：</strong></span><a href="#本篇最终达成" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>离家、回家时发推播提醒，手机按一下触发操作(已现有装置没办法达到理想的自动化目标)</p><h3 id="智慧家居设定之路"><span class="me-2">智慧家居设定之路：</span><a href="#智慧家居设定之路" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="apple-homekit-使用"><span class="me-2"><strong>Apple HomeKit 使用</strong></span><a href="#apple-homekit-使用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>*仅限米家台灯 Pro！米家台灯 Pro！米家台灯 Pro！</strong></p><p>这是最简单的一部分，因为都是原生功能。</p><p><a href="/assets/c3150cdc85dd/1*pv62RZ_TjL8X6t-gXnwWtQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*pv62RZ_TjL8X6t-gXnwWtQ.webp" alt="只需四步骤" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>只需四步骤</p><ol><li><p>找到家庭APP（如没有请到App Store搜寻「家庭」安装）</p><li><p>打开家庭APP</p><li><p>点击右上角「+」加入配近</p><li><p>扫描Pro台灯底部HomeKit QRCode加入配件即可！</p></ol><p><a href="/assets/c3150cdc85dd/1*0Rm1Ij86bD-fld-N-N1qJw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*0Rm1Ij86bD-fld-N-N1qJw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEyNDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>加入配件成功后，在配件上重压(3D TOUCH)/长压，即可调整亮度、颜色。</p><h4 id="那不-支援apple-homekit的智慧家居怎么使用第三方串接homekit"><span class="me-2">那不 <strong>支援Apple HomeKit的智慧家居怎么使用第三方串接HomeKit？</strong></span><a href="#那不-支援apple-homekit的智慧家居怎么使用第三方串接homekit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>除了以上本身就支援的智慧装置，那不支援Apple HomeKit的装置是不是就完全无法透过家庭控制呢了？ 本章节手把手教你将不支援的装置(摄影机、一般版台灯)也加入到「家庭」中！</p><blockquote><p><strong>Mac ONLY，WIN使用者请直接跳到使用米家的章节</strong></p></blockquote><blockquote><p><strong>我的装置是MacOS 10.14/iOS 12</strong></p></blockquote><p><strong>使用 <a href="https://github.com/nfarina/homebridge" target="_blank">HomeBridge</a> ：</strong></p><p>HomeBridge透过使用Mac电脑作为桥接器，将不支援的装置模拟成HomeKit设备，就可以加入到「家庭」的配件之中．</p><p><a href="/assets/c3150cdc85dd/1*q2ctcxaaxLFExKXd-9NjPg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*q2ctcxaaxLFExKXd-9NjPg.webp" alt="运作比较" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MTEiIGhlaWdodD0iMzU4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>运作比较</p><p>可以看到一个重点就是 <strong>你要有一台Mac电脑保持开机状态，才能保持桥接通道顺畅</strong> ；一但电脑关机、休眠，就无法控制那些HomeKit装置。</p><p>当然网路上也有神人做法，自行买一块树莓派来玩，将树莓派当成桥接器；但这涉及到太多技术，本篇不会介绍。</p><p>知道缺点后如果还想玩玩，可以继续往下看或是跳到下一个直接使用米家的章节。</p><p><strong>第一步：</strong></p><p>安装 <a href="https://nodejs.org/en/" target="_blank">node.js</a> ： <a href="https://nodejs.org/dist/v12.6.0/node-v12.6.0.pkg" target="_blank">点我</a> <a href="https://nodejs.org/dist/v12.6.0/node-v12.6.0.pkg" target="_blank">下载</a> ，安装即可</p><p><strong>第二步：</strong></p><p>打开「终端机」输入</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nt">-v</span>
</pre></table></code></div></div><p><a href="/assets/c3150cdc85dd/1*RBRWT93L_abbhzTItL9Mhg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*RBRWT93L_abbhzTItL9Mhg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NjYiIGhlaWdodD0iNjU5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>查看node.js npm套件管理工具是否安装成功：显示出版本号即表示成功！</p><p><strong>第三步：</strong></p><p>透过 npm 安装 HomeBridge套件：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nt">-g</span> <span class="nb">install </span>homebridge <span class="nt">--unsafe-perm</span>
</pre></table></code></div></div><p>等待安装完成后…HomeBridge工具就算装完了！</p><p>前面有提到 “HomeBridge就是透过使用Mac电脑作为桥接器，将不支援的装置模拟成HomeKit设备”， <strong>实际上HomeBridge只是一个平台，各装置要加入要再另外找HomeBridge的外挂资源</strong> 。</p><p>很好找，只要google或在github 搜寻「mija 产品英文名 homebridge」就会有许多资源；这边介绍两个我在用的装置的资源：</p><p><strong>1.米家摄影机云台版资源： <a href="https://github.com/josepramon/homebridge-mijia-camera" target="_blank">MijiaCamera</a></strong></p><p>摄影机是比较棘手的装置，花了些时间研究并整理了一下；希望有帮助到有需要的人！</p><p>首先ㄧ样用「终端机」下命令安装这MijiaCamera这个npm套件</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nb">install</span> <span class="nt">-g</span> homebridge-mijia-camera
</pre></table></code></div></div><p>安装完成后，我们需要取得摄影机的网路 <strong>IP位址</strong> 跟 <strong>Token</strong> 两个资讯</p><p><a href="/assets/c3150cdc85dd/1*n0TIhqyCoKZo7--ePZwuLA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*n0TIhqyCoKZo7--ePZwuLA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNzUwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>打开米家APP → 摄影机 → 右上角「…」→设定→网路讯息，得到 <strong>IP位址</strong> ！</p><p><strong>Token</strong> 资讯就比较麻烦了，需要你将手机连接到Mac上：</p><p><a href="/assets/c3150cdc85dd/1*0ewSMEH7K2rzUlUtSB61vw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*0ewSMEH7K2rzUlUtSB61vw.webp" alt="打开 Itunes 介面" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjEyIiBoZWlnaHQ9IjgzNyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>打开 Itunes 介面</p><p>选备份 <strong>不要勾替本机备份加密</strong> ，点「立即备份」</p><p>备份完成后， <a href="http://www.imactools.com/iphonebackupviewer/download/mac" target="_blank">下载</a> 安装备份查看软体： <a href="http://www.imactools.com/iphonebackupviewer/download/mac" target="_blank">iBackupViewer</a></p><p>打开「iBackupViewer」，初次启动会要你去 Mac「系统偏好设定」- 「安全性与隐私权」-「隐私权」-「+」- 加入「iBackupViewer」 <strong>**如有隐私顾虑可关闭网路使用这套软体、并在使用后移除</strong>*</p><p><a href="/assets/c3150cdc85dd/1*kEOxJCkOxDRuFfoxumssgA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*kEOxJCkOxDRuFfoxumssgA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3ODAiIGhlaWdodD0iNjg1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>再次打开「iBackupViewer」成功读取到备份档后，点击右上角切换到「Tree View」模式</p><p><a href="/assets/c3150cdc85dd/1*R4l6tRzDaqtiN7xutPKtQg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*R4l6tRzDaqtiN7xutPKtQg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjY5OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>左侧会显示你所有安装的APP，找到米家的APP「AppDomain-com.xiaomi.mihome」-&gt;「Documents」</p><p>在右侧文件列表中找到并选择 「 <strong>数字_mihome.sqlite」</strong> 这个档案</p><p>点击右上角「Export」汇出 -&gt;「Selected」</p><p>将刚刚汇出的sqlite档案丢到 <a href="https://inloop.github.io/sqlite-viewer/" target="_blank">https://inloop.github.io/sqlite-viewer/</a> 查看内容</p><p><a href="/assets/c3150cdc85dd/1*oRK8tHqom2tnR3CE5xz_-w.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*oRK8tHqom2tnR3CE5xz_-w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQzIiBoZWlnaHQ9IjE1NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>可以看到所有米家APP上的装置资讯栏位，向右滚动到尾端，找到 <strong>ZTOKEN</strong> 栏位，双击编辑全选复制</p><p>最后再打开 <a href="http://aes.online-domain-tools.com/" target="_blank">http://aes.online-domain-tools.com/</a> 网站将 <strong>ZTOKEN</strong> 转成最终 <strong>Token</strong></p><p><a href="/assets/c3150cdc85dd/1*ZXTe6MEFXjYhqtf9uAJWwQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*ZXTe6MEFXjYhqtf9uAJWwQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjQiIGhlaWdodD0iNTg2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>1.将刚刚复制出来的 ZTOKEN贴在「Input Text」，选「Hex」 2.Key输入「00000000000000000000000000000000」32个0，ㄧ样选「Hex」 3.然后按下「Decrypt!」转换 4.全选复制右下角蓝匡＆去掉空格后就是我们要的结果 <strong>Token</strong></p><blockquote><p>Token 这边有尝试用「miio」直接嗅探的方式，但好像是米家摄影机韧体有更新过，已无法用这个方法快速方便得到Token了！</p></blockquote><p><strong>回到HomeBridge！编辑设定档 config.json</strong></p><p><a href="/assets/c3150cdc85dd/1*Zh_BWLwMUg5pOxFEVipgiQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Zh_BWLwMUg5pOxFEVipgiQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDkyIiBoZWlnaHQ9IjQ0OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>使用「Finder」-&gt;「前往」-&gt;「前往档案夹」-&gt; 输入「~/.homebridge」前往</p><p>使用文字编辑器打开「config.json」，若没有此档案请自行建立一个或 <a href="https://drive.google.com/file/d/1S67NZwXrVqOpps_Cl9l0494foDaHxuWF/view?usp=sharing" target="_blank">点此下载</a> 直接放进去</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"bridge"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Homebridge"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"CC:22:3D:E3:CE:30"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"port"</span><span class="p">:</span><span class="mi">51826</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pin"</span><span class="p">:</span><span class="s2">"123-45-568"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"accessories"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"accessory"</span><span class="p">:</span><span class="s2">"MijiaCamera"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Mi Camera"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"token"</span><span class="p">:</span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>在config.json里加入以上内容，IP 及 Token部分带入上面取得的资讯。</p><p>这时候再次回到「终端机」下以下命令启动 HomeBridge</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge start
</pre></table></code></div></div><p>如果已启动之后又更改了config.json内容的话可以改下：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge restart
</pre></table></code></div></div><p>重新启动</p><p><a href="/assets/c3150cdc85dd/1*vwCS3QHu285oCrChau9mpw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*vwCS3QHu285oCrChau9mpw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NjYiIGhlaWdodD0iNzQzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>这时会出现HomeKit QRCode 让您扫描加入配件（步骤如上面提到的，Apple HomeKit装置加入方式）</p><p><a href="/assets/c3150cdc85dd/1*CB76x9ryWBve2bssFd0nzA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*CB76x9ryWBve2bssFd0nzA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNDQ2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>下方也会有状态讯息： [2019–7–4 23:45:03] [Mi Camera] connecting to camera at 192.168.0.100… [2019–7–4 23:45:03] [Mi Camera] current power state: off</p><p>有出现这些＆没出现错误error讯息即表示设定成功！</p><p>一般常见的错误都是Token有错，确认一下上面流程有无遗漏即可。</p><p>现在你就可以从「家庭」APP中开关米家智慧摄影机啰！</p><p><strong>2.米家 LED 智慧台灯 HomeBridge 资源： <a href="https://github.com/vieira/homebridge-yeelight-wifi" target="_blank">homebridge-yeelight-wifi</a></strong></p><p>再来是米家 LED 智慧台灯，由于不像Pro版有支援Apple HomeKit，所以我们还是要用HomeBridge的方法来加入；虽然步骤 <strong>不需经过繁琐流程取得IP、Token</strong> ，相对摄影机来说较简单，但台灯有台灯的坑，要用另一个YeeLight APP配对后将区域网路控制设定打开：</p><p><a href="/assets/c3150cdc85dd/1*uuaLjWduzC5RrOf-gd2-Jw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*uuaLjWduzC5RrOf-gd2-Jw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>这点不得不吐槽一下这个糟糕的整合性，原生米家APP是无法做这项设定的；所以请到APP Store搜寻「 <a href="https://apps.apple.com/tw/app/yeelight/id977125608" target="_blank">Yeelight</a> 」APP 下载＆安装</p><p>开启APP -&gt; 直接使用米家帐号登入 -&gt; 增加装置 -&gt; 米家台灯 -&gt; 照指示将台灯改绑定到 Yeelight APP</p><p><a href="/assets/c3150cdc85dd/1*GTcap563FDdC0TsH09hZww.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*GTcap563FDdC0TsH09hZww.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>装置绑定完成后回到「装置」页 -&gt; 点「米家台灯」进入 -&gt; 点右下角「△」Tab -&gt; 点「局域网控制」进入设定 -&gt; 打开按钮允许局域网(区域网路)控制</p><p><strong>台灯的设置到这里即可，你可以保留这个APP控制台灯或再重新绑定回米家．</strong></p><p><strong>再来是HomeBridge设定；ㄧ样先打开「终端机」下命令安装 <a href="https://github.com/vieira/homebridge-yeelight-wifi" target="_blank">homebridge-yeelight-wifi</a> npm套件</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>npm <span class="nb">install</span> <span class="nt">-g</span> homebridge-yeelight-wifi
</pre></table></code></div></div><p>安装完成后同上摄影机的步骤，前往 ~/.homebridge 资料夹，建立或编辑修改 config.json，这次只需要在最后一个}里面加上</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nl">"platforms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
         </span><span class="nl">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><p>即可！</p><p><strong>最后结合上述摄影机的 config.json档如下：</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
 </span><span class="nl">"bridge"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Homebridge"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CC:22:3D:E3:CE:30"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">51826</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-45-568"</span><span class="w">
 </span><span class="p">},</span><span class="w">

 </span><span class="nl">"accessories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="nl">"accessory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MijiaCamera"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mi Camera"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">

 </span><span class="nl">"platforms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
         </span><span class="nl">"platform"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"yeelight"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>然后一样回到「终端机」下：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge start
</pre></table></code></div></div><p>或</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>homebridge restart
</pre></table></code></div></div><p>即可看到原本不支援的米家 LED 智慧台灯也加入HomeKit「家庭」APP啰！</p><p><a href="/assets/c3150cdc85dd/1*3jm0Kd4545DcmzNtPY-dXA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*3jm0Kd4545DcmzNtPY-dXA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNDIxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>而且同样支援颜色、光度调整！</p><h4 id="homekit配件都加好了怎么让他智慧呢"><span class="me-2">HomeKit配件都加好了，怎么让他智慧呢？</span><a href="#homekit配件都加好了怎么让他智慧呢" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>全都加好、桥接好后ㄧ样打开「家庭」APP</p><p><a href="/assets/c3150cdc85dd/1*s33BtesqfNSUNyyR069m_Q.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*s33BtesqfNSUNyyR069m_Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>依照步骤新增场景情境，这里以回家为例：</p><p>右上角点击「+」-&gt; 加入情境 -&gt; 自订 -&gt; 配件名称自行输入(EX:回家) -&gt; 点下方「加入配件」-&gt; 选择已串接好的HomeKit配件 -&gt; 设定这个场景时的配件状态(摄影机：关/台灯：开) -&gt; 可点「测试情境」进行测试 -&gt; 右上角「完成」！</p><p>这样就设定好场啰～这时候在首页点场景就换执行里面所有配件的设定！</p><p><a href="/assets/c3150cdc85dd/1*VSArlFmoFERbjH13Cns5TQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*VSArlFmoFERbjH13Cns5TQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>还有一个快捷小撇步，就是在上拉控制选单直接点房子形状的按钮快速操作HomeKit/执行情境(右上可切换模式)！</p><h4 id="智慧有了那怎么自动化呢"><span class="me-2">智慧有了，那怎么自动化呢？</span><a href="#智慧有了那怎么自动化呢" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>智慧已经有了，现在我想要达成终极目标，回家自动关闭摄影机、开灯；离家自动开摄影机、关灯．</p><p><a href="/assets/c3150cdc85dd/1*tCpQ3io2Q2DDCVFxJpBm_g.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*tCpQ3io2Q2DDCVFxJpBm_g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMTMzNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>切到第三个Tab「自动化」就可设定，很抱歉这边没有一个上述设备(iPad/Apple TV/HomePod)可以做 <strong>” <a href="https://support.apple.com/zh-tw/HT207057" target="_blank">家庭中枢</a> ”</strong> 所以这块我就没研究了。</p><p>原理好像是回到家，感应到 <strong>”家庭中枢”</strong> 手机/手表即可精准触发！</p><h4 id="这边我有找到一个tricky的做法感应gps"><span class="me-2">这边我有找到一个tricky的做法：(感应GPS)</span><a href="#这边我有找到一个tricky的做法感应gps" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>使用第三方的APP串接「家庭」加入自动化设定，就可以透过使用手机GPS定位来做到自动化破解封锁使用「自动化」Tab的功能</p><p>p.s GPS会有约100公尺的误差</p><p><a href="/assets/c3150cdc85dd/1*Rm101LKv29Avb5wv4isg4A.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Rm101LKv29Avb5wv4isg4A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>这边我使用的第三方串接APP是： <a href="https://apps.apple.com/us/app/myhome-plus-control-for-nest-wemo-and-homekit/id1050479330" target="_blank">myHome Plus</a></p><p>下载＆安装后开启APP -&gt; 允许存取「家庭资料」-&gt; 会看到「家庭」的资料配置 -&gt; 点选右上角「设定按钮」-&gt; 点「我家」进入 -&gt;下拉到「Triggers」区域 -&gt; 点「Add Trigger」</p><p><a href="/assets/c3150cdc85dd/1*Kk6AMnhSYP4sM8JD_66Iow.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*Kk6AMnhSYP4sM8JD_66Iow.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Trigger 类型选「Location」-&gt; Name 输入名字(EX:回家) -&gt; 点「Set Location」设定位置区域 -&gt; 再来 REGION STATUS 可以设定是进入还是离开该区域 -&gt; 最后 SCENES 可以选择对应要执行的「情景」(上面建立的)</p><p>按右上角「完成」储存后，再回到「家庭」APP，可以看到「自动化」Tab 被打开可以用了！</p><p><a href="/assets/c3150cdc85dd/1*SXYVBHk9-pMD8YufRQA4zw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*SXYVBHk9-pMD8YufRQA4zw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>这时候就可以选择右上角「＋」使用「家庭」APP直接新增自动化脚本！！</p><p><a href="/assets/c3150cdc85dd/1*qbtjNCj9mOvjuX7an6rhXw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*qbtjNCj9mOvjuX7an6rhXw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>步骤也如第三方APP，不过整合性更佳！使用原生「家庭」APP建立好自动化后也可以滑动删除刚刚用第三方APP建的。</p><blockquote><p><strong><em>！！仅需注意，至少要保留一项；否则Tab就会回到原始封锁状态！！</em></strong></p></blockquote><p><strong>Siri 语音控制的部分：</strong></p><p>相较下面介绍的米家，HomeKit的整合性相当高，可直接使用语音控制设定的配件、执行场景，无需额外，无需额外设定。</p><p><a href="/assets/c3150cdc85dd/1*q_ui00ruJl1Fd3_5M-0EhQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*q_ui00ruJl1Fd3_5M-0EhQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>HomeKit的设定介绍就到这边了，再来讲解米家原生智慧家庭的用法。</p><h4 id="使用米家本身搭建智慧家庭的方法"><span class="me-2"><strong>使用米家本身搭建智慧家庭的方法：</strong></span><a href="#使用米家本身搭建智慧家庭的方法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>这边遇到一个困惑点，就是我在米家新增设备中找不到长得一样的米家台灯，答案就是：</p><p><a href="/assets/c3150cdc85dd/1*xLM5-khndWjvEDdTaFiPfw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*xLM5-khndWjvEDdTaFiPfw.webp" alt="看字就好，这个就是" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMTMzNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>看字就好，这个就是</p><p>其他设备：摄影机、Pro台灯就直接照官方说明设定加入就好，这边不在冗述．</p><p><strong>场景情境设定：</strong></p><p><a href="/assets/c3150cdc85dd/1*leO3Z492pJPh3hEASYr-ww.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*leO3Z492pJPh3hEASYr-ww.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>同「家庭设定方式」-&gt; 切换到「智慧」Tab -&gt; 选择「手动执行」-&gt; 下方选择装置操作(由于是原生所以可选更多功能) -&gt; 继续增加其他装置(台灯) -&gt; 「储存」完成！</p><blockquote><p><em>一定会有人想问为什么不直接选「离开或到达某地」？，因为这功能根本没用，他APP没针对台湾优化GPS是错的，而且他的定位只能定在地标上，如果你的位置有那可以直接使用此功能， <strong>文章后续也都可跳过！</strong></em></p></blockquote><blockquote><p><strong><em>冷知识： <a href="https://buzzorange.com/techorange/2019/05/09/china-map-is-wrong/" target="_blank">Google Maps 里的中国地图全是错的！</a></em></strong></p></blockquote><p><a href="/assets/c3150cdc85dd/1*ZjdH5A0QnLq2LNh9lWvCCw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*ZjdH5A0QnLq2LNh9lWvCCw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjgzMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>快捷开关部分，可以从「我的」-&gt;「小元件」设定小工具元件！</p><p>这样就能从通知中心快速执行场境、装置啰！</p><p><a href="/assets/c3150cdc85dd/1*DMmicpzKUIr2xtN8JtP3wQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*DMmicpzKUIr2xtN8JtP3wQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>也可从 <a href="/posts/zrealm-life/zh-cn/apple-watch-series-4-%E5%85%A8%E9%9D%A2%E5%BC%80%E7%AE%B1-%E9%80%89%E8%B4%AD%E6%94%BB%E7%95%A5-%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%94%A8app%E6%8E%A8%E8%8D%90-a2920e33e73e/">Apple Watch</a> 上控制元件！ <em>*如果手表APP一直出现空白请删除重装手表或手机APP，这个APP真的蛮多BUG的</em></p><h4 id="智慧有了那怎么自动化呢-1"><span class="me-2">智慧有了，那怎么自动化呢？</span><a href="#智慧有了那怎么自动化呢-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>这边ㄧ样要使用GPS感应方式， <strong>如果上述新增场景用的就是「离开或到达某地」，以下介绍设定都可略过啰！</strong></p><hr /><h4 id="20190926-更新-ios--13-只使用内建-捷径-app-达成自动化-"><span class="me-2">[2019/09/26] 更新 iOS ≥ 13 只使用内建 捷径 APP 达成自动化 :</span><a href="#20190926-更新-ios--13-只使用内建-捷径-app-达成自动化-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/posts/zrealm-life/zh-cn/ios-13-1-%E4%BB%A5%E4%B8%8A%E6%8D%B7%E5%BE%84%E8%87%AA%E5%8A%A8%E5%8C%96-%E5%BF%AB%E9%80%9F%E6%95%B4%E5%90%88%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E5%9C%BA%E6%99%AF%E8%AE%BE%E5%AE%9A%E6%95%99%E5%AD%A6-21119db777dd/">iOS ≥ 13.1 使用「捷径」自动化功能搭配米家智慧家居，点击前往查看&gt;&gt;</a></p><hr /><blockquote><p><em>iOS ≥ 12，iOS &lt; 13 Only :</em></p></blockquote><blockquote><p><strong>使用内建的捷径APP搭配IFTTT</strong></p></blockquote><p><a href="/assets/c3150cdc85dd/1*e9ld6Qn7D64CG-DZA1vAsA.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*e9ld6Qn7D64CG-DZA1vAsA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjgzMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>首先到「我的」-&gt; 「实验室功能」-&gt;「iOS 捷径」-&gt; 「将米家场景加入捷劲」</p><p>打开系统内建的「 <a href="https://apps.apple.com/tw/app/%E6%8D%B7%E5%BE%91/id915249334" target="_blank">捷径</a> 」APP（若找不到请到App Stroe 搜寻下载回来）</p><p><a href="/assets/c3150cdc85dd/1*-rjtmZ6PHzSzOoBvjJ-FJQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*-rjtmZ6PHzSzOoBvjJ-FJQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>点击右上角「+」建立捷径 -&gt; 点右上完成下方的设定按钮 -&gt; 名称 -&gt; 输入名称（建议用英文，因为等等还要用到）</p><p><a href="/assets/c3150cdc85dd/1*5aUsslYvZvlFiSQYJrGgRw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*5aUsslYvZvlFiSQYJrGgRw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEyNDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>回到新增捷径页面 -&gt; 在下方选单输入搜寻「米家」-&gt; 加入对应的在米家设定的场景，关闭「执行时显示」否则执行完会开启米家APP。</p><blockquote><p>*如果找不到米家请回到米家APP尝试开关「我的」-&gt; 「实验室功能」-&gt;「iOS 捷径」-&gt; 「将米家场景加入捷劲」、滑掉「捷径」APP重开。</p></blockquote><p>这时候又要使用第三方APP了，我们使用IFTTT做GPS进入、离开的背景触发器，到App Store搜寻「 <a href="https://apps.apple.com/us/app/ifttt/id660944635" target="_blank">IFTTT</a> 」下载＆安装。</p><p><a href="/assets/c3150cdc85dd/1*5tXhFP4uT1ySSFAZnnDQGw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*5tXhFP4uT1ySSFAZnnDQGw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>打开IFTTT、登入帐号后，切换到「My Applets」Tab，点右上角「+」新增-&gt; 点击「+this」-&gt; 搜寻「Location」-&gt; 选择是进入还是离开</p><p><a href="/assets/c3150cdc85dd/1*2vs32eIxtEmvqzxOsDLGEw.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*2vs32eIxtEmvqzxOsDLGEw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>设定位置 -&gt; 点击「Create trigger」确定 -&gt; 换点下面「+that」-&gt; 搜寻「notification」</p><p><a href="/assets/c3150cdc85dd/1*bVmWLH5tUcko5eeOmnR3kQ.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*bVmWLH5tUcko5eeOmnR3kQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>选择「Send a rich notification from the IFTTT app」：</p><p>Title = 通知标题 , Message = 通知内容</p><p>Link URL 请输入：shortcuts://run-shortcut?name= <strong><em>捷径名称</em></strong></p><p>所以才说捷径名称尽量设英文比较好</p><p>-&gt; 点选「Create action」-&gt; 可点选「Edit title」设定名称</p><p>-&gt; 「Finish」储存完成！</p><p><strong>当你下次离开/进入设定的区域范围就会收到触发的通知(一样有约100公尺的误差范围)，点选通知后就会自动执行米家场景啰！</strong></p><p><a href="/assets/c3150cdc85dd/1*a9zXd_JSpz9IKInJlPoJ1w.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*a9zXd_JSpz9IKInJlPoJ1w.webp" alt="点选通知就会在背景自动执行场景" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>点选通知就会在背景自动执行场景</p><p><strong>Siri 语音控制的部分：</strong></p><p>由于米家不是Apple内建APP，所以要支援Siri语音控制就得另外设置：</p><p><a href="/assets/c3150cdc85dd/1*lyzEU2cKxafbnXkWnR7ltg.webp" class="popup img-link blur"><img data-src="/assets/c3150cdc85dd/1*lyzEU2cKxafbnXkWnR7ltg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>在「智慧」Tab -&gt; 「加入Siri」-&gt; 选择「目标场景」按「加入Siri」</p><p>-&gt; 点红色录制指令(EX:关灯) -&gt; 完成！</p><p>即可在Siri中直接呼叫控制执行场景！</p><h3 id="总结"><span class="me-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>上述一大堆的设定步骤，总结一下就是：</p><p>如果要好的体验就是得花大钱买有HomeKit标志的电器（就可不需放台Mac做HomeBridge开机待命，直接与原生Apple 家庭功能完美结合）还有要再买HomePod或Apple TV、iPad做家庭中枢；不管是HomeKit标志的电器、家庭中枢都不便宜！</p><p>如果有技术能力可考虑使用第三方智慧装置（如米家）搭配树莓派做HomeBridge。</p><p>如果像我一个就是个普通人那还是直接用米家最为方便上手，目前的使用习惯是回家、离开家会从通知中心点快捷小工具执行场景操作；捷径APP搭配IFTTT的部份仅作为通知提醒，怕有时候忘记。</p><p>目前体验虽没达到目标理想，但已经离 <strong>“智慧家庭”</strong> 更进一步了！</p><h3 id="进阶篇"><span class="me-2">进阶篇</span><a href="#进阶篇" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/posts/zrealm-life/zh-cn/homebridge-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%B2%E6%8E%A5%E7%B1%B3%E5%AE%B6%E5%AE%B6%E7%94%B5%E5%88%B0homekit-%E6%89%93%E9%80%A0%E6%99%BA%E6%85%A7%E5%B1%85%E5%AE%B6wfh%E7%8E%AF%E5%A2%83-99db2a1fbfe5/"><strong>示范使用树莓派当 HomeBridge 主机，将所有米家家电串上 HomeKit</strong></a></p><h3 id="延伸阅读"><span class="me-2">延伸阅读</span><a href="#延伸阅读" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li><p><a href="/posts/zrealm-life/zh-cn/%E5%B0%8F%E7%B1%B3%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%96%B0%E6%B7%BB%E8%B4%AD-ai%E9%9F%B3%E7%AE%B1-%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%84%9F%E5%BA%94%E5%99%A8-%E4%BD%93%E9%87%8D%E8%AE%A1%E4%B8%8E%E7%9B%B4%E6%B5%81%E5%8F%98%E9%A2%91%E7%94%B5%E9%A3%8E%E6%89%87%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97-bcff7c157941/">小米智慧家居新添购（AI音箱、温湿度感应器、体重计2、直流变频电风扇）</a></p><li><p><a href="/posts/zrealm-life/zh-cn/ios-13-1-%E4%BB%A5%E4%B8%8A%E6%8D%B7%E5%BE%84%E8%87%AA%E5%8A%A8%E5%8C%96-%E5%BF%AB%E9%80%9F%E6%95%B4%E5%90%88%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E5%9C%BA%E6%99%AF%E8%AE%BE%E5%AE%9A%E6%95%99%E5%AD%A6-21119db777dd/">iOS ≥ 13.1 使用「捷径」自动化功能搭配米家智慧家居（直接使用 iOS ≥ 13.1 内建的捷径APP完成自动化操作）</a></p><li><p><a href="/posts/zrealm-life/zh-cn/%E7%B1%B3%E5%AE%B6-app-%E5%9C%B0%E5%8C%BA%E8%AE%BE%E5%AE%9A%E9%97%AE%E9%A2%98-%E5%B0%8F%E7%88%B1%E9%9F%B3%E7%AE%B1%E4%B8%8E%E7%A9%BA%E6%B0%94%E5%87%80%E5%8C%96%E5%99%A8%E8%BF%9E%E5%8A%A8%E6%94%BB%E7%95%A5-94a4020edb82/">米家 APP / 小爱音箱地区问题</a></p></ol><p>有任何问题及指教欢迎 <a href="https://www.zhgchg.li/contact" target="_blank">与我联络</a> 。</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>本文首次发表于 Medium (<a href="https://medium.com/p/c3150cdc85dd" target="_blank"><strong>点击查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自动转换与同步技术。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-cn/zmediumtomarkdown/2019-07-05-c3150cdc85dd.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1,049+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-life/">ZRealm Life.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/simplified-chinese/" class="post-tag no-text-decoration" >simplified-chinese</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" class="post-tag no-text-decoration" >生活</a> <a href="/tags/%E9%96%8B%E7%AE%B1/" class="post-tag no-text-decoration" >開箱</a> <a href="/tags/3c/" class="post-tag no-text-decoration" >3c</a> <a href="/tags/%E7%B1%B3%E5%AE%B6/" class="post-tag no-text-decoration" >米家</a> <a href="/tags/homekit/" class="post-tag no-text-decoration" >homekit</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Apple%20HomeKit%20%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5%EF%BD%9CHomeBridge%20%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-life%2Fzh-cn%2Fapple-homekit-%25E4%25B8%258E%25E5%25B0%258F%25E7%25B1%25B3%25E7%25B1%25B3%25E5%25AE%25B6%25E6%2599%25BA%25E6%2585%25A7%25E5%25AE%25B6%25E5%25B1%2585%25E6%2595%25B4%25E5%2590%2588%25E6%2594%25BB%25E7%2595%25A5-homebridge-%25E4%25B8%25B2%25E6%258E%25A5%25E8%25AE%25BE%25E5%25AE%259A%25E4%25B8%258E%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%2595%2599%25E5%25AD%25A6-c3150cdc85dd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Apple%20HomeKit%20%E4%B8%8E%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5%EF%BD%9CHomeBridge%20%E4%B8%B2%E6%8E%A5%E8%AE%BE%E5%AE%9A%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E5%AD%A6%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-life%2Fzh-cn%2Fapple-homekit-%25E4%25B8%258E%25E5%25B0%258F%25E7%25B1%25B3%25E7%25B1%25B3%25E5%25AE%25B6%25E6%2599%25BA%25E6%2585%25A7%25E5%25AE%25B6%25E5%25B1%2585%25E6%2595%25B4%25E5%2590%2588%25E6%2594%25BB%25E7%2595%25A5-homebridge-%25E4%25B8%25B2%25E6%258E%25A5%25E8%25AE%25BE%25E5%25AE%259A%25E4%25B8%258E%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%2595%2599%25E5%25AD%25A6-c3150cdc85dd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-life%2Fzh-cn%2Fapple-homekit-%25E4%25B8%258E%25E5%25B0%258F%25E7%25B1%25B3%25E7%25B1%25B3%25E5%25AE%25B6%25E6%2599%25BA%25E6%2585%25A7%25E5%25AE%25B6%25E5%25B1%2585%25E6%2595%25B4%25E5%2590%2588%25E6%2594%25BB%25E7%2595%25A5-homebridge-%25E4%25B8%25B2%25E6%258E%25A5%25E8%25AE%25BE%25E5%25AE%259A%25E4%25B8%258E%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%2595%2599%25E5%25AD%25A6-c3150cdc85dd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/ios-timer-vs-dispatchsourcetimer-safe-usage-with-finite-state-machine-design-patterns-62f68ebeecd3/">iOS Timer vs DispatchSourceTimer｜Safe Usage with Finite State Machine & Design Patterns</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/ios-timer-%E4%B8%8E-dispatchsourcetimer-%E9%80%89%E6%8B%A9%E4%B8%8E%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%85%E6%8A%80%E5%B7%A7-%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA%E9%98%B2%E6%AD%A2%E9%97%AA%E9%80%80-62f68ebeecd3/">iOS Timer 与 DispatchSourceTimer 如何选择与安全的使用?</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-timer-%E8%88%87-dispatchsourcetimer-%E9%81%B8%E6%93%87%E8%88%87%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%9D%E6%8A%80%E5%B7%A7-%E6%9C%89%E9%99%90%E7%8B%80%E6%85%8B%E6%A9%9F%E9%98%B2%E6%AD%A2%E9%96%83%E9%80%80-62f68ebeecd3/">iOS Timer 與 DispatchSourceTimer 如何選擇與安全的使用?</a><li class="text-truncate lh-lg"> <a href="/posts/pinkoi-engineering/en/design-patterns-practical-solutions-for-socket-io-client-library-challenges-78507a8de6a5/">Design Patterns｜Practical Solutions for Socket.IO Client Library Challenges</a><li class="text-truncate lh-lg"> <a href="/posts/pinkoi-engineering/zh-cn/design-patterns-%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8-%E5%B0%81%E8%A3%85-socket-io-%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E6%9E%B6%E6%9E%84%E4%B8%8E%E4%B8%83%E5%A4%A7%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E8%A7%A3%E6%9E%90-78507a8de6a5/">Design Patterns 的实战应用纪录</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Chapters 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-life/apple-homekit-%E8%88%87%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%A8%AD%E5%AE%9A%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%99%E5%AD%B8-c3150cdc85dd/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1562346827" data-df="ll" > Jul 6, 2019 </time><h4 class="pt-0 my-2">智慧家居初體驗 - Apple HomeKit & 小米米家</h4><div class="text-muted"><p>米家智慧攝影機及米家智慧檯燈，米家、Homekit設定教學</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-life/zh-cn/homebridge-%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%B2%E6%8E%A5%E7%B1%B3%E5%AE%B6%E5%AE%B6%E7%94%B5%E5%88%B0homekit-%E6%89%93%E9%80%A0%E6%99%BA%E6%85%A7%E5%B1%85%E5%AE%B6wfh%E7%8E%AF%E5%A2%83-99db2a1fbfe5/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1587393469" data-df="ll" > Apr 20, 2020 </time><h4 class="pt-0 my-2">打造舒适的 WFH 智慧居家环境，控制家电尽在指尖</h4><div class="text-muted"><p>示范使用树莓派当 HomeBridge 主机，将所有米家家电串上 HomeKit</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-life/zh-cn/%E5%B0%8F%E7%B1%B3%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%96%B0%E6%B7%BB%E8%B4%AD-ai%E9%9F%B3%E7%AE%B1-%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%84%9F%E5%BA%94%E5%99%A8-%E4%BD%93%E9%87%8D%E8%AE%A1%E4%B8%8E%E7%9B%B4%E6%B5%81%E5%8F%98%E9%A2%91%E7%94%B5%E9%A3%8E%E6%89%87%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97-bcff7c157941/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1569503802" data-df="ll" > Sep 26, 2019 </time><h4 class="pt-0 my-2">小米智慧家居新添购</h4><div class="text-muted"><p>AI音箱、温湿度感应器、体重计2、直流变频电风扇</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-life/en/apple-homekit-xiaomi-mijia-smart-home-setup-step-by-step-guide-for-beginners-c3150cdc85dd/" class="btn btn-outline-primary" aria-label="Older" ><p>Apple HomeKit & Xiaomi Mijia Smart Home Setup｜Step-by-Step Guide for Beginners</p></a> <a href="/posts/zrealm-life/apple-homekit-%E8%88%87%E5%B0%8F%E7%B1%B3%E7%B1%B3%E5%AE%B6%E6%99%BA%E6%85%A7%E5%AE%B6%E5%B1%85%E6%95%B4%E5%90%88%E6%94%BB%E7%95%A5-homebridge-%E4%B8%B2%E6%8E%A5%E8%A8%AD%E5%AE%9A%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%99%E5%AD%B8-c3150cdc85dd/" class="btn btn-outline-primary" aria-label="Newer" ><p>智慧家居初體驗 - Apple HomeKit & 小米米家</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">正體中文</a> | <a href="/tags/simplified-chinese">简体中文</a> | <a href="/tags/english/">English</a> <br/> Last updated: 2025-12-17 10:55:33 +08:00</p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="App Lifecycle Managementï½œMitmproxy &amp; Apple Configurator for Preserving Removed Apps" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="Developers and users facing app discontinuation can use mitmproxy combined with Apple Configurator to keep apps permanently accessible in their last available state, preventing loss of functionality after removal." /><meta property="og:description" content="Developers and users facing app discontinuation can use mitmproxy combined with Apple Configurator to keep apps permanently accessible in their last available state, preventing loss of functionality after removal." /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/en/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/en/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-05-15T00:20:45+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" /><meta property="twitter:title" content="App Lifecycle Managementï½œMitmproxy &amp; Apple Configurator for Preserving Removed Apps" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-05-15T00:20:45+08:00","datePublished":"2024-05-15T00:20:45+08:00","description":"Developers and users facing app discontinuation can use mitmproxy combined with Apple Configurator to keep apps permanently accessible in their last available state, preventing loss of functionality after removal.","headline":"App Lifecycle Managementï½œMitmproxy &amp; Apple Configurator for Preserving Removed Apps","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/en/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/"},"url":"https://zhgchg.li/posts/zrealm-dev/en/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/"}</script><title>App Lifecycle Managementï½œMitmproxy & Apple Configurator for Preserving Removed Apps | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-dev/zh-cn/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/"><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/en/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/"><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan ğŸ‡¹ğŸ‡¼ who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background: #EDF4FF; color: #0A84FF;"> <i class="fa-brands fa-medium"></i> <span>Follow Me!<br/><strong>1,049+</strong> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>App Lifecycle Managementï½œMitmproxy & Apple Configurator for Preserving Removed Apps</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>App Lifecycle Managementï½œMitmproxy & Apple Configurator for Preserving Removed Apps</h1><p class="post-desc fw-light mb-4">Developers and users facing app discontinuation can use mitmproxy combined with Apple Configurator to keep apps permanently accessible in their last available state, preventing loss of functionality after removal.</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1715703645" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > May 15, 2024 </time> </span> <span> Updated <time data-ts="1715703645" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > May 14, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" class="popup img-link preview-img blur"><img data-src="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2353 words" > <em>13 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">App Lifecycle Managementï½œMitmproxy & Apple Configurator for Preserving Removed Apps</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Chapters ğŸ”–</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">App Lifecycle Managementï½œMitmproxy & Apple Configurator for Preserving Removed Apps</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/zh-cn/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æŸ¥çœ‹æœ¬æ–‡ç« ç®€ä½“ä¸­æ–‡ç‰ˆæœ¬ã€‚</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/"><strong>é»æ“Šé€™è£¡</strong></a>æŸ¥çœ‹æœ¬æ–‡ç« æ­£é«”ä¸­æ–‡ç‰ˆæœ¬ã€‚</p></blockquote><blockquote class="prompt-info"><p>This post was translated with AI assistance â€” let me know if anything sounds off!</p></blockquote><h4 id="zhgchgli-table-of-contents">Table of Contents</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#what-can-be-done-to-commemorate-when-an-app-product-reaches-its-end">What can be done to commemorate when an app product reaches its end?</a></li><li class="has-children"><details><summary>Preface <a href="#preface">#</a></summary><ul><li><a href="#remembrance">Remembrance</a></li></ul></details></li><li><a href="#non-technical-method--recording">Non-technical Method â€” Recording</a></li><li class="has-children"><details><summary>Technical Approach <a href="#technical-approach">#</a></summary><ul><li><a href="#disclaimer">Disclaimer</a></li><li><a href="#core-backup-ipa-app-installation-files">[Core] Backup .ipa App Installation Files</a></li><li><a href="#core-restore-ipa-app-installation-file">[Core] Restore .ipa App Installation File</a></li><li><a href="#meat-backup-the-final-api-response-data">[Meat] Backup the Final API Response Data</a></li><li><a href="#meat-playback-captured-api-response-data">[Meat] Playback Captured API Response Data</a></li></ul></details></li><li class="has-children"><details><summary>Remembrance <a href="#remembrance-1">#</a></summary><ul><li><a href="#welcome-to-contribute">Welcome to Contribute</a></li></ul></details></li></ul></nav><hr /><h3 id="what-can-be-done-to-commemorate-when-an-app-product-reaches-its-end"><span class="me-2">What can be done to commemorate when an app product reaches its end?</span><a href="#what-can-be-done-to-commemorate-when-an-app-product-reaches-its-end" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Using mitmproxy + Apple Configurator to Keep an App Permanently in the Pre-Removal State</p><h3 id="preface"><span class="me-2">Preface</span><a href="#preface" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" alt="Jujutsu Kaisen" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgwIiBoZWlnaHQ9IjU0MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Jujutsu Kaisen</p><p>Having worked for a long time and handled many products, I have started to encounter products I once participated in reaching their end (discontinuation). Developing a product from scratch is like nurturing a new life; the team worked hard for 3â€“4 months to bring it to birth. Although later stages were handed over to other caretakers (engineers) for further development, hearing that it is about to reach the end of its product life cycle still brings some regret.</p><blockquote><p><strong><em>Life is the same; we never know whether the sun will rise first or an accident will happen tomorrow. The only thing we can do is cherish the present and do things well.</em></strong></p></blockquote><h4 id="remembrance"><span class="me-2">Remembrance</span><a href="#remembrance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Wherever we go, traces are left behind. We hope to do something before the product reaches its end, giving everyone a chance to reminisce and at least leave proof that it once existed. The following methods all require the app to still be online; if it has been removed, only memories remain.</p><h3 id="non-technical-method--recording"><span class="me-2">Non-technical Method â€” Recording</span><a href="#non-technical-method--recording" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Besides using the <a href="https://support.apple.com/zh-tw/102653" target="_blank">iPhoneâ€™s built-in screen recording feature</a>, we can also connect the phone to a Mac and use QuickTime Player to record and export videos on the computer.</p><ol><li>Open QuickTime Player App on Mac</ol><p><a href="/assets/b04f4fba3cf2/1*UVkfiLbcYU8YuZEPdbJaOg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*UVkfiLbcYU8YuZEPdbJaOg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjIiIGhlaWdodD0iMTc3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ol><li>Select â€œFileâ€ -&gt; â€œNew Movie Recordingâ€ from the top left toolbar.</ol><p><a href="/assets/b04f4fba3cf2/1*VcRN0FExy-CA7sExHtMT6w.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*VcRN0FExy-CA7sExHtMT6w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjQiIGhlaWdodD0iMzc0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ol><li>After exiting the recording interface, click the â€œvâ€ next to the ğŸ”´, and select your connected phone for the screen and speaker.</ol><p><a href="/assets/b04f4fba3cf2/1*SN0XL8Zt0UlBizXiIqZiyA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*SN0XL8Zt0UlBizXiIqZiyA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzODciIGhlaWdodD0iNDE1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ol><li>The recording interface will then display the phone screen.</ol><p><a href="/assets/b04f4fba3cf2/1*MSuecaACmg3ZNMnGpDkRFQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*MSuecaACmg3ZNMnGpDkRFQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTYiIGhlaWdodD0iOTkxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Click â€œğŸ”´â€ to start recording, then return to your phone to perform the actions you want to record.</p><p><a href="/assets/b04f4fba3cf2/1*bxL9Dq1IWgbrlSfKO6skLQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*bxL9Dq1IWgbrlSfKO6skLQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMTMiIGhlaWdodD0iNzMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>During recording, the current video size will be displayed. Press the â€œğŸ”´â€ button again to stop recording.</p><p><a href="/assets/b04f4fba3cf2/1*VxWQNHF_PX5CZAkjJEXPbQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*VxWQNHF_PX5CZAkjJEXPbQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDciIGhlaWdodD0iOTg3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>You can easily trim videos using the QuickTime Player toolbar. Finally, press â€œCommandâ€ + â€œsâ€ to export and save the video to a specified location, completing the recording.</p><p>The advantage of recording videos is that future memories are easier to connect than with pictures. The longer you record, the more detailed the documentation. If you want to turn specific scenes into pictures, you can simply take screenshots, which is very convenient.</p><h3 id="technical-approach"><span class="me-2">Technical Approach</span><a href="#technical-approach" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>App technical backup can be divided into two directions: the â€œbone,â€ where the app itself is just a framework, and the â€œflesh,â€ which is composed of API response data and forms the core content of the app.</p><ul><li><p>The app will disappear once it is removed from the App Store.</p><li><p>Meat will disappear when the API host or server is shut down.</p></ul><p>Therefore, we also divided the backup into two technical methods: skeleton and flesh.</p><h4 id="disclaimer"><span class="me-2">Disclaimer</span><a href="#disclaimer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>This article is for technical research sharing only and does not encourage the use of any technology for illegal or infringing activities.</em></p></blockquote><h4 id="core-backup-ipa-app-installation-files"><span class="me-2">[Core] Backup .ipa App Installation Files</span><a href="#core-backup-ipa-app-installation-files" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Once an app is removed from the store, it will remain on any device that has already downloaded it, as long as the user does not delete it. If you switch phones using a transfer method, the app will also be transferred.</p><p>But if we accidentally delete the app or change phones without transferring it, then itâ€™s truly goodbye forever; at this point, having a manual backup of the storeâ€™s .ipa file can bring it back to life.</p><p>A long time ago, the <a href="/posts/zrealm-dev/en/ios-reverse-engineering-jailbreak-ipa-extraction-ui-injection-decompilation-techniques-7498e1ff93ce/">reverse engineering article</a> mentioned this, but this time we only need to back up the .ipa file without cracking; everything is done using Appleâ€™s official tools.</p><p><strong>1. Install <a href="https://apps.apple.com/tw/app/apple-configurator/id1037126344?mt=12" target="_blank">Apple Configurator 2</a></strong></p><p><a href="/assets/b04f4fba3cf2/1*_RzuFIVGV9T_-xJ53H8fGA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*_RzuFIVGV9T_-xJ53H8fGA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9Ijc3NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>First, go to the Mac App Store to download and install <a href="https://apps.apple.com/tw/app/apple-configurator/id1037126344?mt=12" target="_blank">Apple Configurator 2</a></p><p><strong>2. Connect your iPhone to your Mac and tap Trust This Computer</strong></p><p><a href="/assets/b04f4fba3cf2/1*EiSQmOkDCW73kYhJWbTipQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*EiSQmOkDCW73kYhJWbTipQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDY4IiBoZWlnaHQ9IjY5NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>After a successful connection, the iPhone home screen will appear.</p><p><strong>3. Confirm that your phone has the app installed for the .ipa file you want to back up</strong></p><p><a href="/assets/b04f4fba3cf2/1*QD9M4uM9eyKSixzu8AdKbw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*QD9M4uM9eyKSixzu8AdKbw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjgiIGhlaWdodD0iMTA2MiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>We need to create a replacement screen in Apple Configurator 2 to obtain the .ipa file downloaded to the cache. Therefore, we must first ensure the target app is installed on the phone.</p><p><strong>4. Back to Apple Configurator 2 on Mac</strong></p><p>Double-tap the iPhone home screen displayed above to enter the information page.</p><p><a href="/assets/b04f4fba3cf2/1*X_y5uGhRRIq7VQuW4PkYBg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*X_y5uGhRRIq7VQuW4PkYBg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5OTIiIGhlaWdodD0iNjI1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Switch to â€œAppâ€ -&gt; Top right corner â€œ+ Addâ€ -&gt; â€œAppâ€</p><p>After logging into your App Store account, you can access the list of apps you have previously purchased.</p><p><a href="/assets/b04f4fba3cf2/1*uAyjPD75-MGokHCbDoC_4g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*uAyjPD75-MGokHCbDoC_4g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MjMiIGhlaWdodD0iNTExIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Search for the target app you want to back up, then select it and click â€œAddâ€.</p><p><a href="/assets/b04f4fba3cf2/1*T-v1CNrmc7T4MpeyAX0c7A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*T-v1CNrmc7T4MpeyAX0c7A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzUiIGhlaWdodD0iMjUyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>A waiting window will appear, showing â€œAdding App on XXXâ€ and â€œDownloading â€˜XXXâ€™.â€</p><p><strong>5. Extract .ipa File</strong></p><blockquote><p><strong><em>Wait for the download to complete, then a prompt will appear asking if you want to replace the existing installed app.</em></strong></p></blockquote><p><a href="/assets/b04f4fba3cf2/1*9f54be4lixn4ezKhwRJrtg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*9f54be4lixn4ezKhwRJrtg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOTAiIGhlaWdodD0iNDMwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><strong><em>Do not press any button at this time. Do not press any button at this time. Do not press any button at this time.</em></strong></p></blockquote><p>Letâ€™s open a Finder:</p><p>In the top-left toolbar, select â€œGoâ€ -&gt; â€œGo to Folderâ€</p><p><a href="/assets/b04f4fba3cf2/1*JgXWca5hKROuoOgLThkQnw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*JgXWca5hKROuoOgLThkQnw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTciIGhlaWdodD0iNDkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Paste the following path:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>~/Library/Group Containers/K36BKF7T3D.group.com.apple.configurator/Library/Caches/Assets/TemporaryItems/MobileApps
</pre></table></code></div></div><p>You can find the target App .ipa file that has been downloaded and is ready to be installed:</p><p><a href="/assets/b04f4fba3cf2/1*zV5yWozKqXtwekI33NWwVg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*zV5yWozKqXtwekI33NWwVg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDMyIiBoZWlnaHQ9IjU2NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Simply copying it completes the App .ipa file backup.</p><p>After completing the file copy, return to Apple Configurator 2 and click Stop to terminate the operation.</p><h4 id="core-restore-ipa-app-installation-file"><span class="me-2">[Core] Restore .ipa App Installation File</span><a href="#core-restore-ipa-app-installation-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Connect the iPhone with the app to be restored to the Mac and open Apple Configurator 2, then go to the Add Apps interface.</p><p><a href="/assets/b04f4fba3cf2/1*6miYYw5QL6iqLQqrtHOi2A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*6miYYw5QL6iqLQqrtHOi2A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MjMiIGhlaWdodD0iNTExIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>To restore, select â€œChoose from my Macâ€¦â€ at the bottom left corner.</p><p><a href="/assets/b04f4fba3cf2/1*7a_25rE2eDpMFZqBC3sP6g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*7a_25rE2eDpMFZqBC3sP6g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MTIiIGhlaWdodD0iNTYwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Select the backup App .ipa file and click â€œAddâ€.</p><p><a href="/assets/b04f4fba3cf2/1*AcGEAuowmvvGRb-E22wu2g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*AcGEAuowmvvGRb-E22wu2g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzUiIGhlaWdodD0iMjUyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Wait for the transfer and installation to complete, then return to your phone to reopen the app and successfully revive it!</p><h4 id="meat-backup-the-final-api-response-data"><span class="me-2">[Meat] Backup the Final API Response Data</span><a href="#meat-backup-the-final-api-response-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Here, we will use the method and the open-source project created previously in the article <a href="/posts/zrealm-dev/en/poc-app-e2e-testing-local-snapshot-api-mock-server-for-reliable-validation-5a5c4b25a83d/"><strong>App End-to-End Testing Local Snapshot API Mock Server</strong></a> <strong>(refer to it for detailed principles)</strong>:</p><p><a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank" class="img-link shimmer" ><img src="https://repository-images.githubusercontent.com/686628812/44cf2ec7-4de1-4a10-b213-bf7dd30748a4" alt="" loading="lazy"></a></p><p>Similar to using recorded API Request &amp; Response for running E2E Testing, we can also use it to capture the final API Request &amp; Response data before an app is taken down or shut off.</p><p><strong>1. Install <a href="https://mitmproxy.org/" target="_blank">mitmproxy</a></strong></p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">brew</span> <span class="nx">install</span> <span class="nx">mitmproxy</span>
</pre></table></code></div></div><p>mitmproxy is an open-source man-in-the-middle attack and network request sniffing tool.</p><p>If you are not familiar with how man-in-the-middle attacks work in Mitmproxy, you can first refer to my previous article: â€œ<a href="/posts/zrealm-dev/en/https-data-theft-in-ios-macos-apps-mitmproxy-man-in-the-middle-attack-explained-46410aaada00/">APP uses HTTPS transmission, but data was still stolen.</a>â€ or the <a href="https://docs.mitmproxy.org/stable/overview-getting-started/" target="_blank">Mitmproxy official documentation</a>.</p><p>If you are using it for pure network request sniffing and are not comfortable with the mitmproxy interface, you can switch to <a href="https://proxyman.io/" target="_blank">Proxyman</a>. Refer to the usage in the previous <a href="/posts/zrealm-dev/en/automate-routine-tasks-with-python-google-cloud-platform-line-bot-daily-check-in-script-example-70a1409b149a/">article</a>.</p><p><strong>2. Complete mitmproxy Certificate Setup</strong></p><blockquote><p><em>For HTTPS encrypted connections, root certificate replacement is required to perform a man-in-the-middle attack. Therefore, the first use requires downloading and enabling the root certificate on the mobile device.</em></p></blockquote><blockquote><p><strong>If your App &amp; API Server implement SSL Pinning, you also need to add the pinning certificate to mitmproxy.</strong></p></blockquote><ul><li><p>First, make sure your iPhone and Mac are connected to the same network.</p><li><p>If there is no WiFi and your computer is on a wired network, you can also <a href="https://applealmond.com/posts/92291" target="_blank">enable Macâ€™s WiFi sharing feature</a> to let your phone connect to the Macâ€™s network.</p></ul><p>Start <code class="language-plaintext highlighter-rouge">mitmproxy</code> or <code class="language-plaintext highlighter-rouge">mitmweb</code> (Web GUI version) in the Terminal.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">mitmproxy</span>
</pre></table></code></div></div><p><a href="/assets/b04f4fba3cf2/1*xruNW5ZUPNuxVJvKOyPQTA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*xruNW5ZUPNuxVJvKOyPQTA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTEiIGhlaWdodD0iMzkwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Seeing this screen means the mitmproxy service has started. There is no traffic currently, so it is empty. Stay on this screen and do not close the Terminal.</p><ul><li>Check the Macâ€™s IP Address in Mac Network Settings</ul><p>Go back to the phoneâ€™s WiFi settings and tap the â€œiâ€ to enter detailed settings. Find the â€œConfigure Proxyâ€ option at the bottom:</p><p><a href="/assets/b04f4fba3cf2/1*zXVilpUXnXakpWib007BPA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*zXVilpUXnXakpWib007BPA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*QV6reSNc0AJg7sQa2qiCjQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*QV6reSNc0AJg7sQa2qiCjQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><p>Enter the Mac computerâ€™s IP address on the server</p><li><p>Enter port 8080</p><li><p>Save</p></ul><p><strong>Open Safari on your phone and enter: <a href="http://mitm.it/" target="_blank">http://mitm.it/</a></strong></p><p>If it appears:</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="c1">// If you can see this, traffic is not passing through mitmproxy.</span>
</pre></table></code></div></div><p>It means the mobile deviceâ€™s network proxy server is not set up correctly or <code class="language-plaintext highlighter-rouge">mitmproxy</code> is not running on the Mac.</p><p>Normally, the following will appear:</p><p><a href="/assets/b04f4fba3cf2/1*Ks5IHpi2AoPj4wXu5ZH9VA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*Ks5IHpi2AoPj4wXu5ZH9VA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>At this point, only HTTP traffic can be sniffed; HTTPS traffic will cause errors. We will continue with the configuration.</em></p></blockquote><p>Indicates a successful connection. We found the iOS section and clicked â€œGet mimproxy-ca-cert.pem.â€</p><p><a href="/assets/b04f4fba3cf2/1*HvIg0jtUQ5ops519YUA52A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*HvIg0jtUQ5ops519YUA52A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*tU3gi3PBvrbUc-tqKjUD9w.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*tU3gi3PBvrbUc-tqKjUD9w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>Click â€œAllowâ€</ul><p>After the download is complete, go to your phoneâ€™s settings and you will see â€œProfile Downloaded.â€ Tap to enter.</p><p><a href="/assets/b04f4fba3cf2/1*JzX7U1jCtda915mGz5CPjw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*JzX7U1jCtda915mGz5CPjw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*mWmVPZ-au302NGHXgCxAow.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*mWmVPZ-au302NGHXgCxAow.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*SMnr82MEIo4YaYOvTpILeQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*SMnr82MEIo4YaYOvTpILeQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>Click to enter, tap â€œInstallâ€ at the top right, and enter your phone password to complete the installation.</ul><p>Go to Settings -&gt; â€œGeneralâ€ -&gt; â€œAboutâ€ -&gt; scroll to the bottom to â€œCertificate Trust Settingsâ€ -&gt; enable â€œmitmproxyâ€.</p><p><a href="/assets/b04f4fba3cf2/1*UOcYlpOolfWithLb517__g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*UOcYlpOolfWithLb517__g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*LAoe10TplFdfWXEHMRAvWw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*LAoe10TplFdfWXEHMRAvWw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>â€œContinueâ€ to complete activation.</ul><p>At this point, we have completed all the preparatory work for the man-in-the-middle attack.</p><blockquote><p><em>Remember that all your phoneâ€™s current data traffic will go through the proxy on your Mac. <strong>After finishing, be sure to turn off the proxy server setting in your phoneâ€™s network settings</strong>, otherwise your phoneâ€™s WiFi will not connect to the internet.</em></p></blockquote><p>Back in the Terminal mitmproxy, you can see all captured API request logs while operating the app on your phone.</p><p><a href="/assets/b04f4fba3cf2/1*-aRzC2HWRCvGok-L9jbjHA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*-aRzC2HWRCvGok-L9jbjHA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MzYiIGhlaWdodD0iMzg0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Each request allows you to view detailed Request &amp; Response content:</p><p><a href="/assets/b04f4fba3cf2/1*IyO00OEpAadapGKNtOV_Mg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*IyO00OEpAadapGKNtOV_Mg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MzYiIGhlaWdodD0iMzc5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>The above covers the basic setup and practical use of mitmproxy.</p><p><strong>3. Sniffing and Understanding API Architecture</strong></p><p>Next, use mitmproxyâ€™s <code class="language-plaintext highlighter-rouge">mitmdump</code> service combined with the <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank"><strong>mitmproxy-rodo</strong></a> <a href="https://docs.mitmproxy.org/stable/addons-overview/" target="_blank">addons</a> I developed earlier to record and replay requests.</p><blockquote><p><a href="/posts/zrealm-dev/en/poc-app-e2e-testing-local-snapshot-api-mock-server-for-reliable-validation-5a5c4b25a83d/"><em>My implementation principle</em></a> <em>is to convert the request parameters into a hash value. During replay, the request is hashed again, and if a matching hash value backup response is found locally, it is returned. If multiple requests share the same hash value, they are stored and replayed in sequence.</em></p></blockquote><p>We can first sniff the appâ€™s API using the above methods (or use <a href="https://proxyman.io/" target="_blank">Proxyman</a>) to observe which fields might affect Hash Mapping. Record these fields to exclude them in later settings. <strong>For example, some APIs always include the <code class="language-plaintext highlighter-rouge">?ts</code> parameter, which does not affect the returned content but impacts the Hash calculation, causing local backups to be unrecognized. We need to identify and exclude such parameters in the subsequent settings.</strong></p><p><strong>4. Set up <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank">mitmproxy-rodo</a> :</strong></p><p>Use the open-source script I wrote for recording and playback.</p><blockquote><p><strong><em>For detailed parameter settings, please refer to the documentation of the open-source project.</em></strong></p></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git clone git@github.com:ZhgChgLi/mitmproxy-rodo.git
<span class="nb">cd </span>mitmproxy-rodo
</pre></table></code></div></div><p>Fill the parameters selected in step 3 into the config.json configuration file:</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"ignored"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"iterable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"enables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"formData"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"connect_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_name"</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"formData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"aidck"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ver_name"</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>The above parameters are excluded when calculating the hash value, and specific exclusion rules can be set for individual endpoint paths.</p><p><strong>5. Enable recording, then run the following in Terminal:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-s</span> rodo.py <span class="nt">--set</span> <span class="nv">dumper_folder</span><span class="o">=</span>zhgchgli <span class="nt">--set</span> <span class="nv">config_file</span><span class="o">=</span>config.json <span class="nt">--set</span> <span class="nv">record</span><span class="o">=</span><span class="nb">true</span> <span class="s2">"~d zhgchg.li"</span>
</pre></table></code></div></div><ul><li><p>The ending <code class="language-plaintext highlighter-rouge">"~d zhgchg.li"</code> means to exclude traffic only from *.zhgchg.li.</p><li><p><code class="language-plaintext highlighter-rouge">dumper_folder</code> : Output destination directory name</p></ul><p><strong>6. Return to the phone to operate the target app and perform the process path you want to record</strong></p><ul><li><p>It is recommended to restart or reinstall the app to begin with the cleanest setup.</p><li><p>It is recommended to record a video to help remember and reproduce the steps.</p></ul><p><a href="/assets/b04f4fba3cf2/1*SeivG1XaRcd5uq2uMkyrSA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*SeivG1XaRcd5uq2uMkyrSA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MjciIGhlaWdodD0iMzU2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>While operating, you can see the output directory contains many captured API Response Data, stored according to Domain -&gt; API Path -&gt; HTTP Method -&gt; Hash Value -&gt; Header-X / Content-X (if the same Hash is requested twice, they will be saved sequentially).</p><ul><li><p>Re-recording allows you to directly delete the output directory and let it re-extract.</p><li><p><strong>If the returned data contains personal information, please remember to adjust the extracted content to anonymize it.</strong></p></ul><h4 id="meat-playback-captured-api-response-data"><span class="me-2">[Meat] Playback Captured API Response Data</span><a href="#meat-playback-captured-api-response-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>After recording, be sure to replay once to test if the data is correct. If the Hash Hit is very low (almost no matching Response found during replay), you can repeat the sniffing steps to identify the variable that changes each time the App runs and affects the Hash value, then exclude it.</p><p><strong>Execution Replay:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-s</span> rodo.py <span class="nt">--set</span> <span class="nv">dumper_folder</span><span class="o">=</span>zhgchgli <span class="nt">--set</span> <span class="nv">config_file</span><span class="o">=</span>config.json
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">dumper_folder</code> : Output destination directory name</p><li><p>By default, if there is no Hash Mapping for the Response Data locally, a 404 will be returned directly, causing the app to display a blank screen. This way, you can know whether the fetched data is valid.</p></ul><p><a href="/assets/b04f4fba3cf2/1*0Cjy_5RZRq3tvE1Pc0lQ9A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*0Cjy_5RZRq3tvE1Pc0lQ9A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*JKorlo3EBeSWXhB9Exw4ZA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*JKorlo3EBeSWXhB9Exw4ZA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><p>Pages visited during recording are correctly displayed again during playback: OK!</p><li><p>Recording captures pages not visited during the process, playback shows network error: OK!</p></ul><h3 id="remembrance-1"><span class="me-2">Remembrance</span><a href="#remembrance-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>At this point, we can recreate the final moments before the app reached its end by restoring the framework and the last bits of content, cherishing the time when everyone worked together in unity to produce it.</p><p>This article commemorates the team from my first job and my transition from web backend development to iOS app development through learning on the job. In just 3â€“4 months, I independently built the product from scratch and successfully launched it together with Android developers, designers, PM supervisors, and backend colleagues. Although the product is now nearing the end of its lifecycle, I will always remember the bittersweet experiences and the excitement of seeing it go live and being used for the first time.</p><blockquote><p>â€œThank youâ€</p></blockquote><h4 id="welcome-to-contribute"><span class="me-2">Welcome to Contribute</span><a href="#welcome-to-contribute" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>If you share the same regret, I hope this article can help you. The tool <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank">mitmproxy-rodo</a> was originally developed as a POC (proof of concept). Contributions, bug reports, or PRs to fix bugs are welcome.</p><p><a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main?source=post_page-----5a5c4b25a83d--------------------------------" target="_blank" class="img-link shimmer" ><img src="https://repository-images.githubusercontent.com/686628812/44cf2ec7-4de1-4a10-b213-bf7dd30748a4" alt="" loading="lazy"></a></p><p>If you have any questions or feedback, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=ğŸº&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>This post was originally published on Medium (<a href="https://medium.com/p/b04f4fba3cf2" target="_blank"><strong>View original post</strong></a>), and automatically converted and synced by <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a>.</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/en/zmediumtomarkdown/2024-05-14-b04f4fba3cf2.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1,049+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/english/" class="post-tag no-text-decoration" >english</a> <a href="/tags/ai-translation/" class="post-tag no-text-decoration" >ai-translation</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/man-in-the-middle-attack/" class="post-tag no-text-decoration" >man-in-the-middle-attack</a> <a href="/tags/mitmproxy/" class="post-tag no-text-decoration" >mitmproxy</a> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/app-development/" class="post-tag no-text-decoration" >app-development</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=App%20Lifecycle%20Management%EF%BD%9CMitmproxy%20&%20Apple%20Configurator%20for%20Preserving%20Removed%20Apps%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fen%2Fapp-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=App%20Lifecycle%20Management%EF%BD%9CMitmproxy%20&%20Apple%20Configurator%20for%20Preserving%20Removed%20Apps%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fen%2Fapp-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fen%2Fapp-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/ci-cd-explained-boost-ios-app-development-stability-and-efficiency-tool-selection-guide-c008a9e8ceca/">CI/CD Explained: Boost iOS App Development Stability and Efficiencyï½œTool Selection Guide</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A8%B3%E5%AE%9A%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E7%9A%84%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9-c008a9e8ceca/">CI/CD å®æˆ˜æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šCI/CD æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é€è¿‡ CI/CD æ‰“é€ ç¨³å®šé«˜æ•ˆçš„å¼€å‘å›¢é˜Ÿï¼Ÿå·¥å…·é€‰æ‹©ï¼Ÿ</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/">CI/CD å¯¦æˆ°æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šCI/CD æ˜¯ä»€éº¼ï¼Ÿå¦‚ä½•é€é CI/CD æ‰“é€ ç©©å®šé«˜æ•ˆçš„é–‹ç™¼åœ˜éšŠï¼Ÿå·¥å…·é¸æ“‡ï¼Ÿ</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/google-apps-script-web-app-integrate-forms-with-github-actions-ci-cd-for-streamlined-workflows-4cb4437818f2/">Google Apps Script Web Appï½œIntegrate Forms with GitHub Actions CI/CD for Streamlined Workflows</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%AE%A2%E8%A1%A8%E5%8D%95%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87-4cb4437818f2/">ä½¿ç”¨ Google Apps Script Web App è¡¨å•ä¸²æ¥ Github Action CI/CD å·¥ä½œ</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Chapters ğŸ”–</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1715703645" data-df="ll" > May 15, 2024 </time><h4 class="pt-0 my-2">App ç”¢å“é€²å…¥çµ‚é»ç«™ï¼Œèƒ½åšä»€éº¼äº‹ç·¬æ‡·ï¼Ÿ</h4><div class="text-muted"><p>ä½¿ç”¨ mitmproxy + apple configurator è®“ App æ°¸é åœç•™åœ¨ä¸‹æ¶å‰çš„ç‹€æ…‹</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/zh-cn/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1715703645" data-df="ll" > May 15, 2024 </time><h4 class="pt-0 my-2">App äº§å“è¿›å…¥ç»ˆç‚¹ç«™ï¼Œèƒ½åšä»€ä¹ˆäº‹ç¼…æ€€ï¼Ÿ</h4><div class="text-muted"><p>ä½¿ç”¨ mitmproxy + apple configurator è®© App æ°¸è¿œåœç•™åœ¨ä¸‹æ¶å‰çš„çŠ¶æ€</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/en/slack-chatgpt-integration-build-custom-openai-api-slack-app-with-google-cloud-functions-python-bd94cc88f9c9/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1708089421" data-df="ll" > Feb 16, 2024 </time><h4 class="pt-0 my-2">Slack & ChatGPT Integrationï½œBuild Custom OpenAI API Slack App with Google Cloud Functions & Python</h4><div class="text-muted"><p>Develop a tailored Slack app using ChatGPT OpenAI API, Google Cloud Functions, and Python to automate workflows and enhance team communication efficiently.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-robotic-process-automation/google-apps-script-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E6%95%B8%E6%93%9A%E5%A0%B1%E8%A1%A8%E8%87%AA%E5%8B%95%E5%8C%96-rpa-%E5%BF%AB%E9%80%9F%E4%B8%B2%E6%8E%A5-google-analytics-%E8%88%87-google-sheet-f6713ba3fee3/" class="btn btn-outline-primary" aria-label="Older" ><p>Google Apps Scriptï½œæ‰“é€ æ¯æ—¥æ•¸æ“šå ±è¡¨è‡ªå‹•åŒ– RPAï½œå¿«é€Ÿä¸²æ¥ Google Analytics èˆ‡ Google Sheet</p></a> <a href="/posts/zrealm-dev/zh-cn/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/" class="btn btn-outline-primary" aria-label="Newer" ><p>App äº§å“è¿›å…¥ç»ˆç‚¹ç«™ï¼Œèƒ½åšä»€ä¹ˆäº‹ç¼…æ€€ï¼Ÿ</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Â© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">æ­£é«”ä¸­æ–‡</a> | <a href="/tags/simplified-chinese">ç®€ä½“ä¸­æ–‡</a> | <a href="/tags/english/">English</a> <br/> Last updated: 2025-12-20 10:50:31 +08:00</p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

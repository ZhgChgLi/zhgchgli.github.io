<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="Developers struggling with delayed crash reports can automate crash log forwarding from Crashlytics to Slack via BigQuery, enabling instant monitoring and faster issue resolution." /><meta property="og:description" content="Developers struggling with delayed crash reports can automate crash log forwarding from Crashlytics to Slack via BigQuery, enabling instant monitoring and faster issue resolution." /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/en/crashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/en/crashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-19T22:33:30+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp" /><meta property="twitter:title" content="Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://medium.com/@zhgchgli/"},"dateModified":"2024-04-14T09:58:38+08:00","datePublished":"2021-10-19T22:33:30+08:00","description":"Developers struggling with delayed crash reports can automate crash log forwarding from Crashlytics to Slack via BigQuery, enabling instant monitoring and faster issue resolution.","headline":"Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/en/crashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89/"},"url":"https://zhgchg.li/posts/zrealm-dev/en/crashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89/"}</script><title>Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-dev/zh-cn/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%A6-%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2%E5%B9%B6%E8%BD%AC%E5%8F%91-ios-app-%E9%97%AA%E9%80%80%E6%8A%A5%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-dev/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E6%9F%A5%E8%A9%A2%E4%B8%A6%E8%BD%89%E7%99%BC-ios-app-%E9%96%83%E9%80%80%E5%A0%B1%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/"><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/crashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/en/crashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89/"><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p><a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts</h1><p class="post-desc fw-light mb-4">Developers struggling with delayed crash reports can automate crash log forwarding from Crashlytics to Slack via BigQuery, enabling instant monitoring and faster issue resolution.</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1634654010" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Oct 19, 2021 </time> </span> <span> Updated <time data-ts="1713059918" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 14, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp" class="popup img-link preview-img blur"><img data-src="/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2492 words" > <em>13 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節 (Chapters)🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Crashlytics｜BigQuery Integration for Real-Time Crash Tracking and Alerts</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/zh-cn/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%A6-%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2%E5%B9%B6%E8%BD%AC%E5%8F%91-ios-app-%E9%97%AA%E9%80%80%E6%8A%A5%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/"><strong>点击这里</strong></a>查看本文章简体中文版本。</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E6%9F%A5%E8%A9%A2%E4%B8%A6%E8%BD%89%E7%99%BC-ios-app-%E9%96%83%E9%80%80%E5%A0%B1%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/"><strong>點擊這裡</strong></a>查看本文章正體中文版本。</p></blockquote><blockquote class="prompt-info"><p>This post was translated with AI assistance — let me know if anything sounds off!</p></blockquote><h4 id="zhgchgli-table-of-contents">Table of Contents</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#crashlytics--big-query-build-a-more-real-time-and-convenient-crash-tracking-tool">Crashlytics + Big Query Build a More Real-Time and Convenient Crash Tracking Tool</a></li><li><a href="#results">Results</a></li><li class="has-children"><details><summary>Question <a href="#question">#</a></summary><ul><li><a href="#crashlytics">Crashlytics</a></li><li><a href="#crashlytics-supported-integrations-only">Crashlytics Supported Integrations Only</a></li></ul></details></li><li><a href="#crashlytics--big-query">Crashlytics + Big Query</a></li><li class="has-children"><details><summary>Getting Started with Big Query to Query Crashlytics Logs <a href="#getting-started-with-big-query-to-query-crashlytics-logs">#</a></summary><ul><li><a href="#if-you-are-less-familiar-with-sql-you-can-first-learn-the-basics-then-refer-to-crashlytics-official-example-for-customization">If you are less familiar with SQL, you can first learn the basics, then refer to Crashlytics’ official example for customization</a></li><li><a href="#top-10-crashlytics-issue-big-query-sql">Top 10 Crashlytics Issue Big Query SQL</a></li></ul></details></li><li class="has-children"><details><summary>Use Google Apps Script to Periodically Query & Forward to Slack <a href="#use-google-apps-script-to-periodically-query--forward-to-slack">#</a></summary><ul><li><a href="#first-lets-connect-to-big-query-to-fetch-the-query-data">First, let’s connect to Big Query to fetch the query data</a></li><li><a href="#add-slack-forwarding-function">Add Slack Forwarding Function</a></li><li><a href="#testing--scheduling-setup">Testing & Scheduling Setup</a></li></ul></details></li><li><a href="#completed">Completed</a></li><li><a href="#app-crash-free-users-rate">App Crash-Free Users Rate?</a></li><li><a href="#further-reading">Further Reading</a></li></ul></nav><hr /><h3 id="crashlytics--big-query-build-a-more-real-time-and-convenient-crash-tracking-tool"><span class="me-2">Crashlytics + Big Query Build a More Real-Time and Convenient Crash Tracking Tool</span><a href="#crashlytics--big-query-build-a-more-real-time-and-convenient-crash-tracking-tool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Integrate Crashlytics and BigQuery to Automatically Forward Crash Logs to a Slack Channel</p><p><a href="/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*-luP3wtJr1XJ9Vq3M0sQLA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjY3NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><h3 id="results"><span class="me-2">Results</span><a href="#results" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/e77b80cc6f89/1*gJhRllB0sQb-W3P7tQAQ6g.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*gJhRllB0sQb-W3P7tQAQ6g.webp" alt="Pinkoi iOS Team Photo" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjAiIGhlaWdodD0iNDM0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Pinkoi iOS Team Real Photos</p><p>First, show the result image. Weekly, regularly check the Crashlytics crash reports; filter out the top 10 most frequent crash issues; send the information to the Slack channel, allowing all iOS team members to quickly understand the current stability.</p><h3 id="question"><span class="me-2">Question</span><a href="#question" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>For app developers, the Crash-Free Rate is arguably the most important metric; it represents the percentage of users who <strong>did not experience</strong> a crash. I believe every app aims for a Crash-Free Rate close to 99.9%. However, this is unrealistic because any software can have bugs, especially since some crashes are caused by the underlying system (Apple) or third-party SDKs. Additionally, the size of the DAU (Daily Active Users) affects the Crash-Free Rate — the higher the DAU, the more likely rare crash issues will occur.</p><p>Since a 100% crash-free app does not exist, tracking and handling crashes is very important. Besides the most common <a href="https://firebase.google.com/products/crashlytics" target="_blank">Google Firebase Crashlytics</a> (formerly Fabric), there are other options like <a href="https://www.bugsnag.com/" target="_blank">Bugsnag</a> and <a href="https://bugfender.com/" target="_blank">Bugfender</a>. I haven’t personally compared these tools, so interested readers can explore them on their own. If you use other tools, the content introduced in this article may not apply.</p><h4 id="crashlytics"><span class="me-2">Crashlytics</span><a href="#crashlytics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>Benefits of Choosing Crashlytics:</strong></p><ul><li><p>Stable, Backed by Google</p><li><p>Free, easy, and quick to install</p><li><p>Besides crashes, you can also log error events (e.g., decode error).</p><li><p>A complete Firebase suite can handle everything: other services include Google Analytics, Realtime Database, Remote Config, Authentication, Cloud Messaging, Cloud Storage…</p></ul><blockquote><p><em>Note: It is not recommended to build a full production service entirely on Firebase, as the costs can become very high once traffic increases… it’s a kind of bait-and-switch model.</em></p></blockquote><p><strong>Crashlytics also has many drawbacks:</strong></p><ul><li><p>Crashlytics does not provide an API to query crash data</p><li><p>Crashlytics only stores crash records for the past 90 days.</p><li><p>Crashlytics has very poor support and flexibility for integrations.</p></ul><p>The biggest pain is the extremely poor support and flexibility of Integrations, combined with no API to write scripts for crash data syncing; you can only occasionally rely on manual checks in Crashlytics to view crash logs and track crash issues.</p><h4 id="crashlytics-supported-integrations-only"><span class="me-2"><strong>Crashlytics Supported Integrations Only:</strong></span><a href="#crashlytics-supported-integrations-only" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>[Email Notification] — Trending Stability Issues (Increasing Crash Problems Encountered by More Users)</p><li><p>[Slack, Email Notification] — New Fatal Issue (Crash Problem)</p><li><p>[Slack, Email Notification] — New Non-Fatal Issue (Non-Crash Problem)</p><li><p>[Slack, Email Notification] — Velocity Alert (Sudden Increase in Crash Issues)</p><li><p>[Slack, Email Notifications] — Regression Alert (Issues Previously Solved but Reappeared)</p><li><p>Crashlytics to Jira issue</p></ol><p>The content and rules of the above Integrations cannot be customized.</p><p>At the very beginning, we directly used 2.New Fatal Issue to Slack or Email. For Email, it would trigger subsequent scripts via <a href="/posts/zrealm-dev/en/google-apps-script-automate-gmail-forwarding-to-slack-channels-with-custom-filters-d414bdbdb8c9/">Google Apps Script</a>; however, this notification would bombard the channel nonstop because crashes caused by any issue—big or small, or even sporadic problems from user devices or iOS itself—would all trigger notifications. As DAU grew, the channel was flooded with these alerts daily, but only about 10% of them were truly valuable, related to errors in our code that many users encountered.</p><p>As a result, it does not solve the issue of Crashlytics being hard to track automatically, and still requires a lot of time reviewing whether the problem is important.</p><h3 id="crashlytics--big-query"><span class="me-2">Crashlytics + Big Query</span><a href="#crashlytics--big-query" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/e77b80cc6f89/1*ABFLOY1AEKkSJah6EVJEkg.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*ABFLOY1AEKkSJah6EVJEkg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MTEiIGhlaWdodD0iMTIyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>After searching around, I only found this method, and the official source only provides this one; this is the trap behind the free offering. I guess neither Crashlytics nor Analytics Event has or plans to release an API for users to query data via API. This is because the official recommendation is to import data into BigQuery, and exceeding the free storage and query limits in BigQuery incurs charges.</p><blockquote><p><em>Storage: The first 10 GB each month is free.</em></p></blockquote><blockquote><p><em>Query: The first 1 TB per month is free. (Query quota means how much data volume is processed when running a Select)</em></p></blockquote><blockquote><p><em>For detailed information, please refer to the Big Query pricing guide</em></p></blockquote><p>For Crashlytics to BigQuery setup details, please refer to the <a href="https://firebase.google.com/docs/crashlytics/bigquery-export" target="_blank"><strong>official documentation</strong></a>. You need to enable GCP services, link a credit card, and more.</p><h3 id="getting-started-with-big-query-to-query-crashlytics-logs"><span class="me-2">Getting Started with Big Query to Query Crashlytics Logs</span><a href="#getting-started-with-big-query-to-query-crashlytics-logs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>After setting the Crashlytics Log to Big Query import cycle and completing the first data import, we can start querying the data.</p><p><a href="/assets/e77b80cc6f89/1*dvjnubHWwYF7Bhz8SiuuLA.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*dvjnubHWwYF7Bhz8SiuuLA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjMyMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>First, go to your Firebase project -&gt; Crashlytics -&gt; click the “•••” at the top right of the list -&gt; select “Go to BigQuery dataset”.</p><p><a href="/assets/e77b80cc6f89/1*TEJY6kH9guplY1kZvOfxzw.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*TEJY6kH9guplY1kZvOfxzw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEwMDAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Go to GCP -&gt; Big Query, then in the left “Explorer” select “firebase_crashlytics” -&gt; choose your Table name -&gt; “Detail” -&gt; on the right, you can view Table information, including last modified time, used storage, retention period, and more.</p><blockquote><p><em>Confirm that the imported data can be queried.</em></p></blockquote><p><a href="/assets/e77b80cc6f89/1*4atxy5aRHkQrVvRE1GE2AQ.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*4atxy5aRHkQrVvRE1GE2AQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjY0OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>The top tab allows you to switch to “SCHEMA” to view the table’s column information or refer to the <a href="https://firebase.google.com/docs/crashlytics/bigquery-export#without_stack_traces" target="_blank">official documentation</a>.</p><p><a href="/assets/e77b80cc6f89/1*K0got1UinY2y4cFxZ2HM3w.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*K0got1UinY2y4cFxZ2HM3w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjM1NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Click the “Query” button at the top right to open the interface with the assisted SQL Builder (recommended if you are not familiar with SQL):</p><p><a href="/assets/e77b80cc6f89/1*fxget7SOAb7hlnKDWhvmFQ.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*fxget7SOAb7hlnKDWhvmFQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU3NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Or directly click “COMPOSE NEW QUERY” to open a blank Query Editor:</p><p><a href="/assets/e77b80cc6f89/1*3T7vHuR4LoojnZ5xe6LWfg.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*3T7vHuR4LoojnZ5xe6LWfg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjE2NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>No matter which method is used, it’s the same text editor; after entering the SQL, you can preview automatic SQL syntax checking and the estimated query cost in the upper right corner (<code class="language-plaintext highlighter-rouge">This query will process XXX when run.</code>):</p><p><a href="/assets/e77b80cc6f89/1*wGMkfqGPg277BzuUgOag1w.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*wGMkfqGPg277BzuUgOag1w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjcxMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>After confirming the query, click “RUN” at the top left to execute it. The results will appear in the Query results section below.</p><blockquote><p><strong><em>⚠️ Pressing “RUN” to execute the query will count toward your query quota and incur charges; please be careful not to run random queries.</em></strong></p></blockquote><h4 id="if-you-are-less-familiar-with-sql-you-can-first-learn-the-basics-then-refer-to-crashlytics-official-example-for-customization"><span class="me-2"><strong>If you are less familiar with SQL, you can first learn the basics, then refer to Crashlytics’ <a href="https://firebase.google.com/docs/crashlytics/bigquery-export" target="_blank">official example for customization</a>:</strong></span><a href="#if-you-are-less-familiar-with-sql-you-can-first-learn-the-basics-then-refer-to-crashlytics-official-example-for-customization" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>1. Count the number of crashes per day in the last 30 days:</strong></p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">event_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">number_of_crashes</span><span class="p">,</span>
  <span class="n">FORMAT_TIMESTAMP</span><span class="p">(</span><span class="nv">"%F"</span><span class="p">,</span> <span class="n">event_timestamp</span><span class="p">)</span> <span class="k">AS</span> <span class="n">date_of_crashes</span>
<span class="k">FROM</span>
 <span class="nv">`你的ProjectID.firebase_crashlytics.你的TableName`</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="n">date_of_crashes</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="n">date_of_crashes</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">30</span><span class="p">;</span>
</pre></table></code></div></div><p><strong>2. Query the Top 10 Most Frequent Crashes in the Last 7 Days:</strong></p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="k">DISTINCT</span> <span class="n">issue_id</span><span class="p">,</span>
  <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">event_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">number_of_crashes</span><span class="p">,</span>
  <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">installation_uuid</span><span class="p">)</span> <span class="k">AS</span> <span class="n">number_of_impacted_user</span><span class="p">,</span>
  <span class="n">blame_frame</span><span class="p">.</span><span class="n">file</span><span class="p">,</span>
  <span class="n">blame_frame</span><span class="p">.</span><span class="n">line</span>
<span class="k">FROM</span>
  <span class="nv">`你的ProjectID.firebase_crashlytics.你的TableName`</span>
<span class="k">WHERE</span>
  <span class="n">event_timestamp</span> <span class="o">&gt;=</span> <span class="n">TIMESTAMP_SUB</span><span class="p">(</span><span class="k">CURRENT_TIMESTAMP</span><span class="p">(),</span><span class="n">INTERVAL</span> <span class="mi">168</span> <span class="n">HOUR</span><span class="p">)</span>
  <span class="k">AND</span> <span class="n">event_timestamp</span> <span class="o">&lt;</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">()</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="n">issue_id</span><span class="p">,</span>
  <span class="n">blame_frame</span><span class="p">.</span><span class="n">file</span><span class="p">,</span>
  <span class="n">blame_frame</span><span class="p">.</span><span class="n">line</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="n">number_of_crashes</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</pre></table></code></div></div><blockquote><p><em>However, the official example’s query results are sorted differently from what Crashlytics shows, likely because it groups by blame_frame.file (nullable) and blame_frame.line (nullable).</em></p></blockquote><p><strong>3. Query the top 10 devices with the most crashes in the past 7 days:</strong></p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="n">device</span><span class="p">.</span><span class="n">model</span><span class="p">,</span>
<span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">event_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">number_of_crashes</span>
<span class="k">FROM</span>
  <span class="nv">`你的ProjectID.firebase_crashlytics.你的TableName`</span>
<span class="k">WHERE</span>
  <span class="n">event_timestamp</span> <span class="o">&gt;=</span> <span class="n">TIMESTAMP_SUB</span><span class="p">(</span><span class="k">CURRENT_TIMESTAMP</span><span class="p">(),</span> <span class="n">INTERVAL</span> <span class="mi">168</span> <span class="n">HOUR</span><span class="p">)</span>
  <span class="k">AND</span> <span class="n">event_timestamp</span> <span class="o">&lt;</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">()</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="n">device</span><span class="p">.</span><span class="n">model</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="n">number_of_crashes</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</pre></table></code></div></div><p>For more examples, please refer to the <a href="https://firebase.google.com/docs/crashlytics/bigquery-export#example_4_filter_by_custom_key" target="_blank">official documentation</a>.</p><blockquote><p><em>If your SQL returns no data, first confirm that the specified Crashlytics data has been imported into BigQuery (for example, the default SQL example queries crash records of the current day, but the data may not have synced yet, so no results will be found); if data is confirmed, then check whether the filter conditions are correct.</em></p></blockquote><h4 id="top-10-crashlytics-issue-big-query-sql"><span class="me-2">Top 10 Crashlytics Issue Big Query SQL</span><a href="#top-10-crashlytics-issue-big-query-sql" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Here, we refer to the official example in section 2 for modification. We want the result to match the crash issues and sorted data as seen on the first page of Crashlytics.</p><p><strong>Top 10 Crash Issues in the Past 7 Days:</strong></p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> 
  <span class="k">DISTINCT</span> <span class="n">issue_id</span><span class="p">,</span> 
  <span class="n">issue_title</span><span class="p">,</span> 
  <span class="n">issue_subtitle</span><span class="p">,</span> 
  <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">event_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">number_of_crashes</span><span class="p">,</span> 
  <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">installation_uuid</span><span class="p">)</span> <span class="k">AS</span> <span class="n">number_of_impacted_user</span> 
<span class="k">FROM</span> 
  <span class="nv">`你的ProjectID.firebase_crashlytics.你的TableName`</span>
<span class="k">WHERE</span> 
  <span class="n">is_fatal</span> <span class="o">=</span> <span class="k">true</span> 
  <span class="k">AND</span> <span class="n">event_timestamp</span> <span class="o">&gt;=</span> <span class="n">TIMESTAMP_SUB</span><span class="p">(</span>
    <span class="k">CURRENT_TIMESTAMP</span><span class="p">(),</span> 
    <span class="n">INTERVAL</span> <span class="mi">7</span> <span class="k">DAY</span>
  <span class="p">)</span> 
<span class="k">GROUP</span> <span class="k">BY</span> 
  <span class="n">issue_id</span><span class="p">,</span> 
  <span class="n">issue_title</span><span class="p">,</span> 
  <span class="n">issue_subtitle</span> 
<span class="k">ORDER</span> <span class="k">BY</span> 
  <span class="n">number_of_crashes</span> <span class="k">DESC</span> 
<span class="k">LIMIT</span> 
  <span class="mi">10</span><span class="p">;</span>
</pre></table></code></div></div><p><a href="/assets/e77b80cc6f89/1*YtbpV4tm0Z_iwrOA0AJ9Jg.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*YtbpV4tm0Z_iwrOA0AJ9Jg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjM1MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Compare the Top 10 crash issues from Crashlytics, matches ✅.</p><h3 id="use-google-apps-script-to-periodically-query--forward-to-slack"><span class="me-2">Use Google Apps Script to Periodically Query &amp; Forward to Slack</span><a href="#use-google-apps-script-to-periodically-query--forward-to-slack" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Go to the <a href="https://script.google.com/home" target="_blank">Google Apps Script homepage</a> -&gt; Sign in with the same account as Big Query -&gt; Click “New Project” at the top left, then rename the project by clicking the top left again after opening the new project.</p><h4 id="first-lets-connect-to-big-query-to-fetch-the-query-data"><span class="me-2">First, let’s connect to Big Query to fetch the query data:</span><a href="#first-lets-connect-to-big-query-to-fetch-the-query-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Refer to the <a href="https://developers.google.com/apps-script/advanced/bigquery" target="_blank">official documentation</a> example and insert the above Query SQL.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">queryiOSTop10Crashes</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">query</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SELECT DISTINCT issue_id, issue_title, issue_subtitle, COUNT(DISTINCT event_id) AS number_of_crashes, COUNT(DISTINCT installation_uuid) AS number_of_impacted_user FROM `firebase_crashlytics.你的TableName` WHERE is_fatal = true AND event_timestamp &gt;= TIMESTAMP_SUB( CURRENT_TIMESTAMP(), INTERVAL 7 DAY ) GROUP BY issue_id, issue_title, issue_subtitle ORDER BY number_of_crashes DESC LIMIT 10;</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">useLegacySql</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">queryResults</span> <span class="o">=</span> <span class="nx">BigQuery</span><span class="p">.</span><span class="nx">Jobs</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="dl">'</span><span class="s1">你的ProjectID</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">jobId</span> <span class="o">=</span> <span class="nx">queryResults</span><span class="p">.</span><span class="nx">jobReference</span><span class="p">.</span><span class="nx">jobId</span><span class="p">;</span>

  <span class="c1">// Check the status of the Query Job.</span>
  <span class="kd">var</span> <span class="nx">sleepTimeMs</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
  <span class="k">while </span><span class="p">(</span><span class="o">!</span><span class="nx">queryResults</span><span class="p">.</span><span class="nx">jobComplete</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Utilities</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="nx">sleepTimeMs</span><span class="p">);</span>
    <span class="nx">sleepTimeMs</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="nx">queryResults</span> <span class="o">=</span> <span class="nx">BigQuery</span><span class="p">.</span><span class="nx">Jobs</span><span class="p">.</span><span class="nf">getQueryResults</span><span class="p">(</span><span class="nx">projectId</span><span class="p">,</span> <span class="nx">jobId</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Retrieve all rows of results.</span>
  <span class="kd">var</span> <span class="nx">rows</span> <span class="o">=</span> <span class="nx">queryResults</span><span class="p">.</span><span class="nx">rows</span><span class="p">;</span>
  <span class="k">while </span><span class="p">(</span><span class="nx">queryResults</span><span class="p">.</span><span class="nx">pageToken</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">queryResults</span> <span class="o">=</span> <span class="nx">BigQuery</span><span class="p">.</span><span class="nx">Jobs</span><span class="p">.</span><span class="nf">getQueryResults</span><span class="p">(</span><span class="nx">projectId</span><span class="p">,</span> <span class="nx">jobId</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">pageToken</span><span class="p">:</span> <span class="nx">queryResults</span><span class="p">.</span><span class="nx">pageToken</span>
    <span class="p">});</span>
    <span class="nx">Logger</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">queryResults</span><span class="p">.</span><span class="nx">rows</span><span class="p">);</span>
    <span class="nx">rows</span> <span class="o">=</span> <span class="nx">rows</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="nx">queryResults</span><span class="p">.</span><span class="nx">rows</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="nx">rows</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">rows</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cols</span> <span class="o">=</span> <span class="nx">rows</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">f</span><span class="p">;</span>
    <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="nx">cols</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">cols</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">cols</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">v</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">data</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>query:</strong> The number of meals can be freely changed to a pre-written Query SQL.</p><p><strong>The returned object structure is as follows:</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"67583e77da3b9b9d3bd8feffeb13c8d0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"&lt;compiler-generated&gt; line 2147483647"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"specialized @nonobjc NSAttributedString.init(data:options:documentAttributes:)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"417"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"355"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"a590d76bc71fd2f88132845af5455c12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"libnetwork.dylib"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nw_endpoint_flow_copy_path"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"259"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"207"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"d7c3b750c3e5587c91119c72f9f6514d"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"libnetwork.dylib"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nw_endpoint_flow_copy_path"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"138"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"118"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"5bab14b8f8b88c296354cd2e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CoreFoundation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-[NSCache init]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"131"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"117"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"c6ce52f4771294f9abaefe5c596b3433"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"XXX.m line 975"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-[XXXX scrollToMessageBottom]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"85"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"57"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"712765cb58d97d253ec9cc3f4b579fe1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"&lt;compiler-generated&gt; line 2147483647"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"XXXXX.heightForRow(at:tableViewWidth:)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"67"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"66"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"3ccd93daaefe80f024cc8a7d0dc20f76"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"&lt;compiler-generated&gt; line 2147483647"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"XXXX.tableView(_:cellForRowAt:)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"59"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"59"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"f31a6d464301980a41367b8d14f880a3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"XXXX.m line 46"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-[XXXX XXX:XXXX:]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"41"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"c149e1dfccecff848d551b501caf41cc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"XXXX.m line 554"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"-[XXXX tableView:didSelectRowAtIndexPath:]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"48"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"47"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"609e79f399b1e6727222a8dc75474788"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Pinkoi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"specialized JSONDecoder.decode&lt;A&gt;(_:from:)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"38"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><p>You can see it is a two-dimensional array.</p><h4 id="add-slack-forwarding-function"><span class="me-2">Add Slack Forwarding Function:</span><a href="#add-slack-forwarding-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Add a new function below the above code.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">sendTop10CrashToSlack</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">iOSTop10Crashes</span> <span class="o">=</span> <span class="nf">queryiOSTop10Crashes</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">top10Tasks</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">();</span>
  
  <span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">iOSTop10Crashes</span><span class="p">.</span><span class="nx">length</span> <span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue_id</span> <span class="o">=</span> <span class="nx">iOSTop10Crashes</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">issue_title</span> <span class="o">=</span> <span class="nx">iOSTop10Crashes</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">issue_subtitle</span> <span class="o">=</span> <span class="nx">iOSTop10Crashes</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">number_of_crashes</span> <span class="o">=</span> <span class="nx">iOSTop10Crashes</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">number_of_impacted_user</span> <span class="o">=</span> <span class="nx">iOSTop10Crashes</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span>

    <span class="kd">var</span> <span class="nx">strip_title</span> <span class="o">=</span> <span class="nx">issue_title</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\&lt;\|\&gt;]</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">strip_subtitle</span> <span class="o">=</span> <span class="nx">issue_subtitle</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\&lt;\|\&gt;]</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>
    
    <span class="nx">top10Tasks</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="dl">"</span><span class="s2">&lt;https://console.firebase.google.com/u/1/project/你的ProjectID/crashlytics/app/你的專案ID/issues/</span><span class="dl">"</span><span class="o">+</span><span class="nx">issue_id</span><span class="o">+</span><span class="dl">"</span><span class="se">\</span><span class="s2">|</span><span class="dl">"</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="dl">"</span><span class="s2">. Crash: </span><span class="dl">"</span><span class="o">+</span><span class="nx">number_of_crashes</span><span class="o">+</span><span class="dl">"</span><span class="s2"> times (</span><span class="dl">"</span><span class="o">+</span><span class="nx">number_of_impacted_user</span><span class="o">+</span><span class="dl">"</span><span class="s2"> users) - </span><span class="dl">"</span><span class="o">+</span><span class="nx">strip_title</span><span class="o">+</span><span class="dl">"</span><span class="s2"> </span><span class="dl">"</span><span class="o">+</span><span class="nx">strip_subtitle</span><span class="o">+</span><span class="dl">"</span><span class="s2">&gt;</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">messages</span> <span class="o">=</span> <span class="nx">top10Tasks</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">"</span><span class="se">\n</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">blocks</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">header</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">plain_text</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">:bug::bug::bug: iOS Top Crash Issues in the Last 7 Days :bug::bug::bug:</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">emoji</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">divider</span><span class="dl">"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">mrkdwn</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="nx">messages</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">divider</span><span class="dl">"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">actions</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">elements</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
              <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">plain_text</span><span class="dl">"</span><span class="p">,</span>
              <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">View Last 7 Days in Crashlytics</span><span class="dl">"</span><span class="p">,</span>
              <span class="dl">"</span><span class="s2">emoji</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://console.firebase.google.com/u/1/project/你的ProjectID/crashlytics/app/你的專案ID/issues?time=last-seven-days&amp;state=open&amp;type=crash&amp;tag=all</span><span class="dl">"</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
              <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">plain_text</span><span class="dl">"</span><span class="p">,</span>
              <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">View Last 30 Days in Crashlytics</span><span class="dl">"</span><span class="p">,</span>
              <span class="dl">"</span><span class="s2">emoji</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://console.firebase.google.com/u/1/project/你的ProjectID/crashlytics/app/你的專案ID/issues?time=last-thirty-days&amp;state=open&amp;type=crash&amp;tag=all</span><span class="dl">"</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">context</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">elements</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">plain_text</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Crash counts and affected versions only include data from the last 7 days, not all data.</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">emoji</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">slackWebHookURL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://hooks.slack.com/services/XXXXX</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// Replace with your in-coming webhook url</span>
  <span class="nx">UrlFetchApp</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="nx">slackWebHookURL</span><span class="p">,{</span>
    <span class="na">method</span>             <span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">contentType</span>        <span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">payload</span>            <span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p><em>If you don’t know how to get the incoming WebHook URL, refer to the “Getting Incoming WebHooks App URL” section in <a href="/posts/zrealm-dev/en/google-apps-script-automate-gmail-forwarding-to-slack-channels-with-custom-filters-d414bdbdb8c9/">this article</a>.</em></p></blockquote><h4 id="testing--scheduling-setup"><span class="me-2">Testing &amp; Scheduling Setup</span><a href="#testing--scheduling-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e77b80cc6f89/1*epwnVrltY7ei8_osPnbaww.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*epwnVrltY7ei8_osPnbaww.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MTkiIGhlaWdodD0iMTkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>At this point, your Google Apps Script project should have the two Functions mentioned above.</p><p>Next, select the “sendTop10CrashToSlack” function above, then click Debug or Run to test it once; since the first run requires authentication, please run it at least once before proceeding to the next step.</p><p><a href="/assets/e77b80cc6f89/1*Pt-falvO3uCtfSrJpNZeZQ.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*Pt-falvO3uCtfSrJpNZeZQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MzAiIGhlaWdodD0iMTcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><strong>After successfully running a test once, you can start scheduling automatic execution:</strong></p><p><a href="/assets/e77b80cc6f89/1*-lI8vcewsS5ZRt5vR1iAkg.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*-lI8vcewsS5ZRt5vR1iAkg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MjIiIGhlaWdodD0iNDU3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Select the alarm icon on the left, then choose “+ Add Trigger” at the bottom right.</p><p><a href="/assets/e77b80cc6f89/1*V20eoW30mHYnHkhUk5uKnw.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*V20eoW30mHYnHkhUk5uKnw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzciIGhlaWdodD0iNzg0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>The first “Choose which function to run” (the entry point for the function to execute) should be changed to <code class="language-plaintext highlighter-rouge">sendTop10CrashToSlack</code>. The schedule can be set according to personal preference.</p><blockquote><p><em>⚠️⚠️⚠️</em> <strong><em>Please note that each query accumulates and incurs charges, so do not set it carelessly; otherwise, automated scheduling may run and cause bankruptcy.</em></strong></p></blockquote><h3 id="completed"><span class="me-2">Completed</span><a href="#completed" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/e77b80cc6f89/1*J4k9SMFX8hU7-M_zX3wDtw.webp" class="popup img-link blur"><img data-src="/assets/e77b80cc6f89/1*J4k9SMFX8hU7-M_zX3wDtw.webp" alt="Example Result Image" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjIiIGhlaWdodD0iNTIyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Example Result Image</p><p>From now on, you can quickly track current app crash issues directly on Slack; you can even discuss them there.</p><h3 id="app-crash-free-users-rate"><span class="me-2">App Crash-Free Users Rate?</span><a href="#app-crash-free-users-rate" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you want to track the App Crash-Free Users Rate, refer to the next article “<a href="/posts/zrealm-dev/en/crashlytics-google-analytics-automate-crash-free-user-rate-queries-with-google-apps-script-793cb8f89b72/">Crashlytics + Google Analytics Automated Query for App Crash-Free Users Rate</a>”</p><h3 id="further-reading"><span class="me-2">Further Reading</span><a href="#further-reading" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><p><a href="/posts/zrealm-dev/en/crashlytics-google-analytics-automate-crash-free-user-rate-queries-with-google-apps-script-793cb8f89b72/">Crashlytics + Google Analytics Automatic Query for App Crash-Free Users Rate</a></p><li><p><a href="/posts/zrealm-dev/en/automate-routine-tasks-with-python-google-cloud-platform-line-bot-daily-check-in-script-example-70a1409b149a/">Automate Routine Tasks with Python + Google Cloud Platform + Line Bot</a></p><li><p><a href="/posts/zrealm-dev/en/slack-workflow-automate-wfh-employee-health-reporting-with-google-sheets-app-script-d61062833c1a/">Slack Builds Fully Automated WFH Employee Health Reporting System</a></p><li><p><a href="/posts/zrealm-dev/en/google-apps-script-automate-gmail-forwarding-to-slack-channels-with-custom-filters-d414bdbdb8c9/">Forward Gmail Messages to Slack Using Google Apps Script</a></p></ul><p>If you have any questions or feedback, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>This post was originally published on Medium (<a href="https://medium.com/p/e77b80cc6f89" target="_blank"><strong>View original post</strong></a>), and automatically converted and synced by <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a>.</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/en/zmediumtomarkdown/2021-10-19-e77b80cc6f89.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/english/" class="post-tag no-text-decoration" >english</a> <a href="/tags/ai-translation/" class="post-tag no-text-decoration" >ai-translation</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/crashlytics/" class="post-tag no-text-decoration" >crashlytics</a> <a href="/tags/firebase/" class="post-tag no-text-decoration" >firebase</a> <a href="/tags/bigquery/" class="post-tag no-text-decoration" >bigquery</a> <a href="/tags/slack/" class="post-tag no-text-decoration" >slack</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Crashlytics%EF%BD%9CBigQuery%20Integration%20for%20Real-Time%20Crash%20Tracking%20and%20Alerts%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fen%2Fcrashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Crashlytics%EF%BD%9CBigQuery%20Integration%20for%20Real-Time%20Crash%20Tracking%20and%20Alerts%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fen%2Fcrashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fen%2Fcrashlytics-bigquery-integration-for-real-time-crash-tracking-and-alerts-e77b80cc6f89%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/en/tokyo-area-travel-guide-kawagoe-little-edo-atami-fireworks-festival-5-day-itinerary-958599363857/">Tokyo Area Travel Guide｜Kawagoe Little Edo & Atami Fireworks Festival 5-Day Itinerary</a><li class="text-truncate lh-lg"> <a href="/posts/zh-cn/%E4%B8%9C%E4%BA%AC%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-%E5%B7%9D%E8%B6%8A%E5%B0%8F%E6%B1%9F%E6%88%B7%E4%B8%80%E6%97%A5%E6%B8%B8%E4%B8%8E%E7%83%AD%E6%B5%B7%E6%B5%B7%E4%B8%8A%E8%8A%B1%E7%81%AB%E5%A4%A7%E4%BC%9A%E5%85%A8%E7%BA%AA%E5%BD%95-958599363857/">游记 2025 东京地区 — 川越小江户与热海海上花火大会 5 日自由行</a><li class="text-truncate lh-lg"> <a href="/posts/%E6%9D%B1%E4%BA%AC%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-%E5%B7%9D%E8%B6%8A%E5%B0%8F%E6%B1%9F%E6%88%B6%E4%B8%80%E6%97%A5%E9%81%8A%E8%88%87%E7%86%B1%E6%B5%B7%E6%B5%B7%E4%B8%8A%E8%8A%B1%E7%81%AB%E5%A4%A7%E6%9C%83%E5%85%A8%E7%B4%80%E9%8C%84-958599363857/">遊記 2025 東京地區 — 川越小江戶與熱海海上花火大會 5 日自由行</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/en/line-bank-to-firstrade-transfer-fast-deposit-150-nt-fee-guide-with-account-upgrade-fee-subsidy-e4d139fe0685/">LINE Bank to Firstrade Transfer｜Fast Deposit & 150 NT Fee Guide with Account Upgrade & Fee Subsidy</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/zh-cn/line-bank-%E5%85%A5%E9%87%91-firstrade-%E6%95%99%E5%AD%A6-%E5%BF%AB%E9%80%9F%E5%88%B0%E5%B8%90-%E4%BD%8E%E6%89%8B%E7%BB%AD%E8%B4%B9150%E5%85%83-%E5%B8%90%E6%88%B7%E5%8D%87%E7%BA%A7%E4%B8%8E%E6%89%8B%E7%BB%AD%E8%B4%B9%E8%A1%A5%E5%8A%A9%E7%94%B3%E8%AF%B7%E5%85%A8%E6%94%BB%E7%95%A5-e4d139fe0685/">手把手教学 — LINE Bank 入金 Firstrade 快速到帐、手续费只要 150 元及帐户升级/约定转帐/手续费补助申请教学</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節 (Chapters)🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E6%9F%A5%E8%A9%A2%E4%B8%A6%E8%BD%89%E7%99%BC-ios-app-%E9%96%83%E9%80%80%E5%A0%B1%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1634654010" data-df="ll" > Oct 19, 2021 </time><h4 class="pt-0 my-2">Crashlytics + Big Query 打造更即時便利的 Crash 追蹤工具</h4><div class="text-muted"><p>串接 Crashlytics 和 Big Query 自動轉發閃退記錄到 Slack Channel</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/zh-cn/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%A6-%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2%E5%B9%B6%E8%BD%AC%E5%8F%91-ios-app-%E9%97%AA%E9%80%80%E6%8A%A5%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1634654010" data-df="ll" > Oct 19, 2021 </time><h4 class="pt-0 my-2">Crashlytics + Big Query 打造更即时便利的 Crash 追踪工具</h4><div class="text-muted"><p>串接 Crashlytics 和 Big Query 自动转发闪退记录到 Slack Channel</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/en/github-actions-ios-app-ci-cd-workflow-automation-for-faster-builds-and-deployments-4b001d2e8440/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1751900544" data-df="ll" > Jul 7, 2025 </time><h4 class="pt-0 my-2">GitHub Actions｜iOS App CI/CD Workflow Automation for Faster Builds and Deployments</h4><div class="text-muted"><p>iOS developers struggling with manual build and deployment can automate CI/CD using GitHub Actions to streamline testing and release, achieving faster and more reliable app delivery.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/pinkoi-engineering/%E9%AB%98%E6%95%88%E7%8E%87%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A%E5%A4%A7%E8%A7%A3%E5%AF%86-pinkoi-%E5%9C%98%E9%9A%8A%E5%8D%94%E4%BD%9C%E8%88%87%E8%87%AA%E5%8B%95%E5%8C%96%E5%AF%A6%E8%B8%90%E6%8F%90%E5%8D%87%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87-11f6c8568154/" class="btn btn-outline-primary" aria-label="Older" ><p>高效率工程團隊大解密｜Pinkoi 團隊協作與自動化實踐提升工作效率</p></a> <a href="/posts/zrealm-dev/zh-cn/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%A6-%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2%E5%B9%B6%E8%BD%AC%E5%8F%91-ios-app-%E9%97%AA%E9%80%80%E6%8A%A5%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/" class="btn btn-outline-primary" aria-label="Newer" ><p>Crashlytics + Big Query 打造更即时便利的 Crash 追踪工具</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">中文</a>|<a href="/tags/simplified-chinese">简中</a>|<a href="/tags/english/">English</a></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a> <br/></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

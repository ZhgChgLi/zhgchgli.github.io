<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧" /><meta name="author" content="ZhgChgLi<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="vertical-align: middle;"><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/> </svg>" /><meta property="og:locale" content="en" /><meta name="description" content="針對iOS APP開發者，解析如何用Swift實作3D Touch預覽與捷徑啟動功能，解決使用者操作不便問題，提升APP互動體驗並增加使用黏著度。" /><meta property="og:description" content="針對iOS APP開發者，解析如何用Swift實作3D Touch預覽與捷徑啟動功能，解決使用者操作不便問題，提升APP互動體驗並增加使用黏著度。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/ios-app-3d-touch-%E5%8A%9F%E8%83%BD%E5%AF%A6%E4%BD%9C-swift-%E6%95%99%E5%AD%B8%E8%88%87%E9%A0%90%E8%A6%BD-%E6%8D%B7%E5%BE%91%E5%95%9F%E5%8B%95%E6%8A%80%E5%B7%A7-1ca246e27273/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/ios-app-3d-touch-%E5%8A%9F%E8%83%BD%E5%AF%A6%E4%BD%9C-swift-%E6%95%99%E5%AD%B8%E8%88%87%E9%A0%90%E8%A6%BD-%E6%8D%B7%E5%BE%91%E5%95%9F%E5%8B%95%E6%8A%80%E5%B7%A7-1ca246e27273/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-10-18T22:36:57+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp" /><meta property="twitter:title" content="iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 640\" width=\"16\" height=\"16\" style=\"vertical-align: middle;\"><path fill=\"#007bff\" d=\"M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z\"/><path d=\"M250 330 l60 60 100 -140\" stroke=\"#ffffff\" stroke-width=\"40\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/> </svg>","url":"https://medium.com/@zhgchgli/"},"dateModified":"2024-04-13T15:19:09+08:00","datePublished":"2018-10-18T22:36:57+08:00","description":"針對iOS APP開發者，解析如何用Swift實作3D Touch預覽與捷徑啟動功能，解決使用者操作不便問題，提升APP互動體驗並增加使用黏著度。","headline":"iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MTkiIGhlaWdodD0iMTY1OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg==","url":"https://zhgchg.li/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/ios-app-3d-touch-%E5%8A%9F%E8%83%BD%E5%AF%A6%E4%BD%9C-swift-%E6%95%99%E5%AD%B8%E8%88%87%E9%A0%90%E8%A6%BD-%E6%8D%B7%E5%BE%91%E5%95%9F%E5%8B%95%E6%8A%80%E5%B7%A7-1ca246e27273/"},"url":"https://zhgchg.li/posts/zrealm-dev/ios-app-3d-touch-%E5%8A%9F%E8%83%BD%E5%AF%A6%E4%BD%9C-swift-%E6%95%99%E5%AD%B8%E8%88%87%E9%A0%90%E8%A6%BD-%E6%8D%B7%E5%BE%91%E5%95%9F%E5%8B%95%E6%8A%80%E5%B7%A7-1ca246e27273/"}</script><title>iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0"> <a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a> An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧</h1><p class="post-desc fw-light mb-4">針對iOS APP開發者，解析如何用Swift實作3D Touch預覽與捷徑啟動功能，解決使用者操作不便問題，提升APP互動體驗並增加使用黏著度。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1539873417" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Oct 18, 2018 </time> </span> <span> Updated <time data-ts="1712992749" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp" class="popup img-link preview-img blur"><img data-src="/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MTkiIGhlaWdodD0iMTY1OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="vertical-align: middle;"><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/> </svg></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1536 words" > <em>8 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節 (Chapters)🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">iOS APP 3D Touch 功能實作｜Swift 教學與預覽、捷徑啟動技巧</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic> <script async="" src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-info"><p><a href="/posts/en/1ca246e27273/"><strong>Click here</strong></a> to view the English version of this article, translated by OpenAI.</p></blockquote><blockquote class="prompt-tip"><p>基於 SEO 考量，本文標題與描述經 GPT 調整，原始版本請參考內文，若有不恰當的用語，敬請指正。</p></blockquote><hr /><h3 id="deprecated提升使用者體驗現在就為您的-ios-app-加上-3d-touch-功能swift"><span class="me-2">[Deprecated]提升使用者體驗，現在就為您的 iOS APP 加上 3D TOUCH 功能(Swift)</span><a href="#deprecated提升使用者體驗現在就為您的-ios-app-加上-3d-touch-功能swift" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>iOS 3D TOUCH 應用</p><h3 id="deprecated-20200614"><span class="me-2">[Deprecated] 2020/06/14</span><a href="#deprecated-20200614" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><strong><em>iPhone 11 以上版本已取消 3D Touch 功能；改用 Haptic Touch 取代，實作方式也有所不同。</em></strong></p></blockquote><p>前陣子在專案開發閒暇之時，探索了許多 iOS 的有趣功能： <a href="/posts/zrealm-dev/ios-12-coreml-機器學習文字分類-自訂模型訓練實戰教學-793bf2cdda0f/">CoreML</a> 、 <a href="/posts/zrealm-dev/vision框架swift教學-app自動人臉識別裁圖實作指南-9a9aa892f9a9/">Vision</a> 、 <a href="/posts/zrealm-dev/ios-notification-service-extension-swift-實作圖片推播與顯示統計技巧-cb6eba52a342/">Notification Service Extension</a> 、Notification Content Extension、Today Extension、Core Spotlight、Share Extension、SiriKit (部分已整理成文章、其他項目敬請期待🤣)</p><p>其中還有今日的主角： <strong>3D Touch功能</strong></p><p>這個早在 <strong>iOS 9/iPhone 7之後</strong> 就開始支援的功能，直到我自己從iPhone 6換到iPhone 8 後才體會到它的好用之處！</p><h4 id="3d-touch能在app中實做兩個項目如下"><span class="me-2">3D Touch能在APP中實做兩個項目，如下：</span><a href="#3d-touch能在app中實做兩個項目如下" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/1ca246e27273/1*Nl6uz_dA2h13g7PtqSi6aw.gif" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*Nl6uz_dA2h13g7PtqSi6aw.gif" alt="1. Preview ViewController 預覽功能 — [結婚吧APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&amp;mt=8){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjQiIGhlaWdodD0iNzM4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>1. Preview ViewController 預覽功能 — <a href="https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&amp;mt=8" target="_blank">結婚吧APP</a></p><p><a href="/assets/1ca246e27273/1*VcIEwZxiW26eVqCk4kUEZw.gif" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*VcIEwZxiW26eVqCk4kUEZw.gif" alt="2. 3D Touch Shortcut APP 捷徑啟動功能" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjQiIGhlaWdodD0iMzY2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>2. 3D Touch Shortcut APP 捷徑啟動功能</p><p>其中第一項是應用最廣且效果最好的 (Facebook:動態消息內容預覽、Line:偷看訊息)，第二項 APP 捷徑啟動 目前看數據是鮮少人使用所以放最後在講。</p><h3 id="1-preview-viewcontroller-預覽功能"><span class="me-2">1. Preview ViewController 預覽功能：</span><a href="#1-preview-viewcontroller-預覽功能" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>功能展示如上圖1所示，ViewController 預覽功能支援</p><ul><li>3D Touch重壓時背景虛化<li>3D Touch重壓住時跳出ViewController預覽視窗<li>3D Touch重壓住時跳出ViewController預覽視窗，往上滑可在下方加入選項選單<li>3D Touch重壓放開返回視窗<li>3D Touch重壓後再用力進入目標ViewController</ul><p>這裡將分 <strong>A:列表視窗</strong> 、 <strong>B:目標視窗</strong> 個別列出要實作的程式碼：</p><p>由於在 B中 沒有方式能判斷當前是預覽還是真的進入此視窗，所以我們先建立一個Protocol傳遞值，用來判斷</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">protocol</span> <span class="kt">UIViewControllerPreviewable</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">is3DTouchPreview</span><span class="p">:</span><span class="kt">Bool</span> <span class="p">{</span><span class="k">get</span> <span class="k">set</span><span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>這樣我們就能在 B中 做以下判斷：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">BViewController</span><span class="p">:</span><span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">UIViewControllerPreviewable</span> <span class="p">{</span>
     <span class="k">var</span> <span class="nv">is3DTouchPreview</span><span class="p">:</span><span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span>
     <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
     <span class="k">if</span> <span class="n">is3DTouchPreview</span> <span class="p">{</span>
       <span class="c1">//若為預覽視窗時...例如：變全螢幕、隱藏工具列</span>
     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
       <span class="c1">//完整模式時照正常顯示</span>
   <span class="p">}</span> 
<span class="p">}</span>
</pre></table></code></div></div><p>A:列表視窗，可以是 UITableView 或 UICollectionView：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">AViewController</span><span class="p">:</span><span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="c1">//註冊能3D Touch 的 View</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">traitCollectionDidChange</span><span class="p">(</span><span class="n">_</span> <span class="nv">previousTraitCollection</span><span class="p">:</span> <span class="kt">UITraitCollection</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">traitCollectionDidChange</span><span class="p">(</span><span class="n">previousTraitCollection</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">traitCollection</span><span class="o">.</span><span class="n">forceTouchCapability</span> <span class="o">==</span> <span class="o">.</span><span class="n">available</span> <span class="p">{</span>
            <span class="c1">//TableView:</span>
            <span class="nf">registerForPreviewing</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">sourceView</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="kt">TableView</span><span class="p">)</span>
            <span class="c1">//CollectionView:</span>
            <span class="nf">registerForPreviewing</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">sourceView</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="kt">CollectionView</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>   
<span class="p">}</span>
<span class="kd">extension</span> <span class="kt">AViewController</span><span class="p">:</span> <span class="kt">UIViewControllerPreviewingDelegate</span> <span class="p">{</span>
    <span class="c1">//3D Touch放開後，要做的處理</span>
    <span class="kd">func</span> <span class="nf">previewingContext</span><span class="p">(</span><span class="n">_</span> <span class="nv">previewingContext</span><span class="p">:</span> <span class="kt">UIViewControllerPreviewing</span><span class="p">,</span> <span class="n">commit</span> <span class="nv">viewControllerToCommit</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="c1">//現在要直接跳轉的該頁面了，所以將ViewController的預覽模式參數取消：</span>
        <span class="k">if</span> <span class="k">var</span> <span class="nv">viewControllerToCommit</span> <span class="o">=</span> <span class="n">viewControllerToCommit</span> <span class="k">as?</span> <span class="kt">UIViewControllerPreviewable</span> <span class="p">{</span>
            <span class="n">viewControllerToCommit</span><span class="o">.</span><span class="n">is3DTouchPreview</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="p">}</span>
        <span class="k">self</span><span class="o">.</span><span class="n">navigationController</span><span class="p">?</span><span class="o">.</span><span class="nf">pushViewController</span><span class="p">(</span><span class="n">viewControllerToCommit</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="c1">//控制3D Touch的Cell位置，欲顯示的ViewController</span>
    <span class="kd">func</span> <span class="nf">previewingContext</span><span class="p">(</span><span class="n">_</span> <span class="nv">previewingContext</span><span class="p">:</span> <span class="kt">UIViewControllerPreviewing</span><span class="p">,</span> <span class="n">viewControllerForLocation</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">CGPoint</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UIViewController</span><span class="p">?</span> <span class="p">{</span>
        
        <span class="c1">//取得當前點的indexPath/cell實體</span>
        <span class="c1">//TableView:</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">indexPath</span> <span class="o">=</span> <span class="kt">TableView</span><span class="o">.</span><span class="nf">indexPathForRow</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">location</span><span class="p">),</span><span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">TableView</span><span class="o">.</span><span class="nf">cellForRow</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">nil</span> <span class="p">}</span>
        <span class="c1">//CollectionView:</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">indexPath</span> <span class="o">=</span> <span class="kt">CollectionView</span><span class="o">.</span><span class="nf">indexPathForItem</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">location</span><span class="p">),</span><span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">CollectionView</span><span class="o">.</span><span class="nf">cellForItem</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">nil</span> <span class="p">}</span>
      
        <span class="c1">//欲顯示的ViewController</span>
        <span class="k">let</span> <span class="nv">targetViewController</span> <span class="o">=</span> <span class="kt">UIStoryboard</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"StoryboardName"</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span><span class="o">.</span><span class="nf">instantiateViewController</span><span class="p">(</span><span class="nv">withIdentifier</span><span class="p">:</span> <span class="s">"ViewControllerIdentifier"</span><span class="p">)</span>
        
        <span class="c1">//背景虛化時保留區域(一般為點擊位置)，附圖1</span>
        <span class="n">previewingContext</span><span class="o">.</span><span class="n">sourceRect</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">frame</span>
        
        <span class="c1">//3D Touch視窗大小，預設為自適應，不需更改</span>
        <span class="c1">//要修改請用：targetViewController.preferredContentSize = CGSize(width: 0.0, height: 0.0)</span>
        
        <span class="c1">//告知預覽的ViewController目前為預覽模式：</span>
        <span class="k">if</span> <span class="k">var</span> <span class="nv">targetViewController</span> <span class="o">=</span> <span class="n">targetViewController</span> <span class="k">as?</span> <span class="kt">UIViewControllerPreviewable</span> <span class="p">{</span>
            <span class="n">targetViewController</span><span class="o">.</span><span class="n">is3DTouchPreview</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="p">}</span>
        
        <span class="c1">//回傳nil則無任何作用</span>
        <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p><strong>請注意！其中的註冊能3D Touch 的 View 這塊要放在 traitCollectionDidChange 之中而非 “viewDidLoad” ( <a href="https://stackoverflow.com/questions/30007701/view-traitcollection-horizontalsizeclass-returning-undefined-0-in-viewdidload" target="_blank">請參考此篇內容</a> )</strong></p></blockquote><blockquote><p>關於要加放在哪裡這塊我踩了許多雷，網路有些資料寫viewDidLoad、有的寫在cellforItem中，但這兩個地方都會出現偶爾失效或部分cell失效的問題。</p></blockquote><p><a href="/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*AAFevro2x7s9J6yRshAGtg.webp" alt="附圖1 背景虛化保留區示意圖" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MTkiIGhlaWdodD0iMTY1OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>附圖1 背景虛化保留區示意圖</p><p>如果您需要上滑後在下方加入選項選單請在 <strong>B</strong> 之中加入，是B 是B 是B哦！</p><p><a href="/assets/1ca246e27273/1*L7VwD_lyG86eXzTzgIuELQ.webp" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*L7VwD_lyG86eXzTzgIuELQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDYiIGhlaWdodD0iMjY0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">override</span> <span class="k">var</span> <span class="nv">previewActionItems</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIPreviewActionItem</span><span class="p">]</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">profileAction</span> <span class="o">=</span> <span class="kt">UIPreviewAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"查看商家資訊"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">viewController</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
    <span class="c1">//點擊後的操作</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">profileAction</span><span class="p">]</span>
<span class="p">}</span>
</pre></table></code></div></div><p>回傳空陣列表示不使用此功能。</p><p><strong>完成！</strong></p><h3 id="2-app-捷徑啟動"><span class="me-2">2. APP 捷徑啟動</span><a href="#2-app-捷徑啟動" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="第一步"><span class="me-2">第一步</span><a href="#第一步" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>在 info.plist 中加入 UIApplicationShortcutItems 參數，類型 Array</p><p>並在其中新增選單項目(Dictionary)，其中Key-Value的設定對應如下：</p><ul><li>[必填] UIApplicationShortcutItemType : 識別字串，在AppDelegate中做判斷使用<li>[必填] UIApplicationShortcutItemTitle : 選項標題<li>UIApplicationShortcutItemSubtitle : 選項子標題</ul><p><a href="/assets/1ca246e27273/1*PlbW5bVYGkN2olZC9WAvHw.webp" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*PlbW5bVYGkN2olZC9WAvHw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MzIiIGhlaWdodD0iNDE2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>UIApplicationShortcutItemIconType : 使用系統圖標</ul><p><a href="/assets/1ca246e27273/1*S3dbMWNnTvhdt-NlxAQ2Tw.webp" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*S3dbMWNnTvhdt-NlxAQ2Tw.webp" alt="參考自 [此篇文章](https://qiita.com/kusumotoa/items/f33c89f150cd0937d003){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTgiIGhlaWdodD0iMTExMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>參考自 <a href="https://qiita.com/kusumotoa/items/f33c89f150cd0937d003" target="_blank">此篇文章</a></p><ul><li>UIApplicationShortcutItemIconFile : 使用自定義圖標(size:35x35,單色)，與UIApplicationShortcutItemIconType擇ㄧ使用<li>UIApplicationShortcutItemUserInfo : 更多附加資訊EX: [id:1]</ul><p><a href="/assets/1ca246e27273/1*cIIVrNDdziBVJn4z_QsLJg.webp" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*cIIVrNDdziBVJn4z_QsLJg.webp" alt="我的設定如上圖" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTM0IiBoZWlnaHQ9IjYxNiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>我的設定如上圖</p><h4 id="第二步"><span class="me-2">第二步</span><a href="#第二步" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>在AppDelegate中新增處理的 Function</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">performActionFor</span> <span class="nv">shortcutItem</span><span class="p">:</span> <span class="kt">UIApplicationShortcutItem</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">info</span> <span class="o">=</span> <span class="n">shortcutItem</span><span class="o">.</span><span class="n">userInfo</span>
  
    <span class="k">switch</span> <span class="n">shortcutItem</span><span class="o">.</span><span class="n">type</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s">"searchShop"</span><span class="p">:</span>
      <span class="c1">//</span>
    <span class="k">case</span> <span class="s">"topicList"</span><span class="p">:</span>
      <span class="c1">//</span>
    <span class="k">case</span> <span class="s">"likeWorksPic"</span><span class="p">:</span>
      <span class="c1">//</span>
    <span class="k">case</span> <span class="s">"marrybarList"</span><span class="p">:</span>
      <span class="c1">//</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="p">}</span>
    <span class="nf">completionHandler</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>完成！</strong></p><h3 id="結語"><span class="me-2">結語</span><a href="#結語" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在APP中加入 3D Touch的功能並不難，對使用者來說也會覺得很貼心❤；可以搭配設計操作增加使用者體驗；但目前就只有上述兩個功能可做在加上iPhone 6s以下/iPad/iPhone XR都不支援3D Touch所以實際能做的功能又更少了，只能以輔助、增加體驗為主。</p><h4 id="ps"><span class="me-2">p.s.</span><a href="#ps" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/1ca246e27273/1*LBgSqm8CTdBPycGnuYNMkA.webp" class="popup img-link blur"><img data-src="/assets/1ca246e27273/1*LBgSqm8CTdBPycGnuYNMkA.webp" alt="如果你測的夠細會發現以上效果，在CollectionView滑動中圖有部分已經滑出畫面這時按壓就會出現以上情況😅" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5OTAiIGhlaWdodD0iMTAxNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>如果你測的夠細會發現以上效果，在CollectionView滑動中圖有部分已經滑出畫面這時按壓就會出現以上情況😅</p><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><hr /><blockquote class="prompt-info"><p>本文首次發表於 Medium ➡️ <a href="https://medium.com/p/1ca246e27273" target="_blank"><strong>前往查看</strong></a>，由 <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> 與 <a href="https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io" target="_blank">Medium-to-jekyll-starter</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2018-10-18-1ca246e27273.md" target="_blank">Improve this page on Github.</a></p></blockquote><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic> <script async="" src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); border-bottom: 1px solid var(--main-border-color);transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div><div style="font-size: 0.8em; cursor:default; text-align: right;"> 570 <span style="font-size: 0.9em;">Total Views</span><br /> <span style="font-size: 0.8em;">Last Statistics Date: 2025-08-20 | 538 Views on <a href="https://medium.com/p/1ca246e27273" target="_blank">Medium.</a></span></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/swift/" class="post-tag no-text-decoration" >swift</a> <a href="/tags/3d-touch/" class="post-tag no-text-decoration" >3d-touch</a> <a href="/tags/iphone/" class="post-tag no-text-decoration" >iphone</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%20APP%203D%20Touch%20%E5%8A%9F%E8%83%BD%E5%AF%A6%E4%BD%9C%EF%BD%9CSwift%20%E6%95%99%E5%AD%B8%E8%88%87%E9%A0%90%E8%A6%BD%E3%80%81%E6%8D%B7%E5%BE%91%E5%95%9F%E5%8B%95%E6%8A%80%E5%B7%A7%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-app-3d-touch-%25E5%258A%259F%25E8%2583%25BD%25E5%25AF%25A6%25E4%25BD%259C-swift-%25E6%2595%2599%25E5%25AD%25B8%25E8%2588%2587%25E9%25A0%2590%25E8%25A6%25BD-%25E6%258D%25B7%25E5%25BE%2591%25E5%2595%259F%25E5%258B%2595%25E6%258A%2580%25E5%25B7%25A7-1ca246e27273%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%20APP%203D%20Touch%20%E5%8A%9F%E8%83%BD%E5%AF%A6%E4%BD%9C%EF%BD%9CSwift%20%E6%95%99%E5%AD%B8%E8%88%87%E9%A0%90%E8%A6%BD%E3%80%81%E6%8D%B7%E5%BE%91%E5%95%9F%E5%8B%95%E6%8A%80%E5%B7%A7%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-app-3d-touch-%25E5%258A%259F%25E8%2583%25BD%25E5%25AF%25A6%25E4%25BD%259C-swift-%25E6%2595%2599%25E5%25AD%25B8%25E8%2588%2587%25E9%25A0%2590%25E8%25A6%25BD-%25E6%258D%25B7%25E5%25BE%2591%25E5%2595%259F%25E5%258B%2595%25E6%258A%2580%25E5%25B7%25A7-1ca246e27273%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-app-3d-touch-%25E5%258A%259F%25E8%2583%25BD%25E5%25AF%25A6%25E4%25BD%259C-swift-%25E6%2595%2599%25E5%25AD%25B8%25E8%2588%2587%25E9%25A0%2590%25E8%25A6%25BD-%25E6%258D%25B7%25E5%25BE%2591%25E5%2595%259F%25E5%258B%2595%25E6%258A%2580%25E5%25B7%25A7-1ca246e27273%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/en/apple-watch-stainless-steel-milanese-loop-unboxing-premium-44mm-graphite-band-review-c0f99f987d9c/">Apple Watch Stainless Steel Milanese Loop Unboxing｜Premium 44mm Graphite Band Review</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/apple-watch-%E7%B1%B3%E8%98%AD%E9%8C%B6%E5%B8%B6%E9%96%8B%E7%AE%B1-%E5%8E%9F%E5%BB%A0%E4%B8%8D%E9%8F%BD%E9%8B%BC%E7%9F%B3%E5%A2%A8%E8%89%B2%E5%84%AA%E7%BC%BA%E9%BB%9E%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原廠不鏽鋼米蘭錶帶開箱</a><li class="text-truncate lh-lg"> <a href="/posts/travel-journals/en/busan-travel-guide-8-day-itinerary-with-visit-busan-pass-for-seamless-exploration-8ace34a1a3d8/">Busan Travel Guide｜8-Day Itinerary with VISIT BUSAN PASS for Seamless Exploration</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/%E9%87%9C%E5%B1%B1%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-8%E5%A4%A97%E5%A4%9C%E5%BF%85%E5%8E%BB%E6%99%AF%E9%BB%9E-%E7%BE%8E%E9%A3%9F%E8%88%87%E4%BA%A4%E9%80%9A%E5%85%A8%E8%A7%A3%E6%9E%90-%E9%87%9C%E5%B1%B1%E9%80%9A%E8%A1%8C%E8%AD%89%E7%9C%81%E9%8C%A2%E7%A7%98%E8%A8%A3-8ace34a1a3d8/">遊記 2025 韓國釜山 8 天 7 夜自由行</a><li class="text-truncate lh-lg"> <a href="/posts/travel-journals/en/nagoya-one-day-quick-trip-peach-aviation-flight-experience-and-travel-tips-7b8a0563c157/">Nagoya One-Day Quick Trip｜Peach Aviation Flight Experience and Travel Tips</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">iOS App Development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">iOS</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios app development</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">Swift</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節 (Chapters)🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/ios-%E6%93%B4%E5%A4%A7%E6%8C%89%E9%88%95%E9%BB%9E%E6%93%8A%E7%AF%84%E5%9C%8D-swift-%E8%87%AA%E8%A8%82-uibutton-%E6%93%B4%E5%B1%95%E8%A7%B8%E6%8E%A7%E5%8D%80%E5%9F%9F%E6%8A%80%E5%B7%A7-a8c2d7ed144b/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1580564749" data-df="ll" > Feb 1, 2020 </time><h4 class="pt-0 my-2">iOS 擴大按鈕點擊範圍</h4><div class="text-muted"><p>重寫 pointInside 擴大感應區域</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-uiviewcontroller-%E8%BD%89%E5%A0%B4%E5%8B%95%E7%95%AB-%E4%B8%8B%E6%8B%89%E9%97%9C%E9%96%89-%E4%B8%8A%E6%8B%89%E6%BC%B8%E5%85%A5%E8%88%87%E5%85%A8%E9%A0%81%E5%8F%B3%E6%BB%91%E8%BF%94%E5%9B%9E%E5%AF%A6%E4%BD%9C%E6%8A%80%E5%B7%A7-14cee137c565/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1578768066" data-df="ll" > Jan 12, 2020 </time><h4 class="pt-0 my-2">iOS UIViewController 轉場二三事</h4><div class="text-muted"><p>UIViewController 下拉關閉/上拉出現/全頁右滑返回 效果全解</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-devicecheck-%E5%AF%A6%E4%BD%9C%E4%B8%80%E6%AC%A1%E6%80%A7%E5%84%AA%E6%83%A0%E8%88%87%E8%A9%A6%E7%94%A8-swift-%E6%95%99%E5%AD%B8%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-c5e7e580c341/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1556551801" data-df="ll" > Apr 29, 2019 </time><h4 class="pt-0 my-2">iOS 完美實踐一次性優惠或試用的方法 (Swift)</h4><div class="text-muted"><p>iOS DeviceCheck 跟著你到天涯海角</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/en/boost-ios-app-ux-implement-3d-touch-with-swift-for-instant-interaction-1ca246e27273/" class="btn btn-outline-primary" aria-label="Older" ><p>Boost iOS App UX｜Implement 3D Touch with Swift for Instant Interaction</p></a> <a href="/posts/zrealm-dev/en/ios-uuid-explained-swift-techniques-for-unique-device-identification-a4bc3bce7513/" class="btn btn-outline-primary" aria-label="Newer" ><p>iOS UUID Explained｜Swift Techniques for Unique Device Identification</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved. <a href="/">中文</a>|<a href="/tags/english/">English</a></span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a><br/>Last updated: 2025-08-21 09:26:25 +08:00</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">iOS App Development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">iOS</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios app development</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">Swift</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

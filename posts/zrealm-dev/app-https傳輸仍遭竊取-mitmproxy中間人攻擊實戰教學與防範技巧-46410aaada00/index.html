<!doctype html><html lang="zh-tw" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="zh_tw" /><meta name="description" content="iOS與MacOS環境下，利用mitmproxy實現中間人攻擊，成功嗅探APP API資料傳輸，揭露HTTPS傳輸漏洞；並解析SSL Pinning與資料加密兩大防護策略，提升APP資料安全，阻擋90%爬蟲與攻擊威脅。" /><meta property="og:description" content="iOS與MacOS環境下，利用mitmproxy實現中間人攻擊，成功嗅探APP API資料傳輸，揭露HTTPS傳輸漏洞；並解析SSL Pinning與資料加密兩大防護策略，提升APP資料安全，阻擋90%爬蟲與攻擊威脅。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-09-20T18:01:01+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp" /><meta property="twitter:title" content="APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-04-13T15:56:08+08:00","datePublished":"2019-09-20T18:01:01+08:00","description":"iOS與MacOS環境下，利用mitmproxy實現中間人攻擊，成功嗅探APP API資料傳輸，揭露HTTPS傳輸漏洞；並解析SSL Pinning與資料加密兩大防護策略，提升APP資料安全，阻擋90%爬蟲與攻擊威脅。","headline":"APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/"},"url":"https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/"}</script><title>APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/https-data-theft-in-ios-macos-apps-mitmproxy-man-in-the-middle-attack-explained-46410aaada00/"><link rel="alternate" hreflang="ja" href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/https%E9%80%9A%E4%BF%A1%E3%81%A7%E3%82%82%E3%83%87%E3%83%BC%E3%82%BF%E6%BC%8F%E6%B4%A9-ios-macos%E3%81%A7%E3%81%AEmitmproxy%E4%B8%AD%E9%96%93%E8%80%85%E6%94%BB%E6%92%83%E5%AF%BE%E7%AD%96-46410aaada00/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-https%E4%BC%A0%E8%BE%93%E4%BB%8D%E9%81%AD%E7%AA%83%E5%8F%96-mitmproxy%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%AE%9E%E6%88%98%E6%95%99%E5%AD%A6%E4%B8%8E%E9%98%B2%E8%8C%83%E6%8A%80%E5%B7%A7-46410aaada00/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/"><link rel="alternate" hreflang="x-default" href="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"如何利用 mitmproxy 在 iOS 與 MacOS 環境中進行中間人攻擊嗅探 HTTPS API 資料？","acceptedAnswer":{"@type":"Answer","text":"透過在 MacOS 上安裝 mitmproxy，設定手機 WiFi 代理指向 Mac 的 IP 與 8080 連接埠，並在手機上安裝 mitmproxy 自訂憑證，即可攔截並解密 iOS APP 的 HTTPS API 傳輸資料，進行請求與回應內容的詳細分析。"}},{"@type":"Question","name":"為什麼 APP 使用 HTTPS 傳輸仍可能被中間人攻擊嗅探資料？","acceptedAnswer":{"@type":"Answer","text":"HTTPS 雖加密傳輸，但若攻擊者能成功替換憑證（透過中間人攻擊），便可解密資料內容，因此若 APP 未實作 SSL Pinning 或資料加密，資料仍容易被嗅探與偽造。"}},{"@type":"Question","name":"APP 如何防範 mitmproxy 等中間人攻擊嗅探 API 傳輸資料？","acceptedAnswer":{"@type":"Answer","text":"APP 可實作 SSL Pinning 驗證伺服器憑證或在資料傳輸前進行自訂加密，確保憑證未被替換且資料即使被攔截也無法被解讀，提升 API 通訊安全性，避免被中間人攻擊成功嗅探。"}},{"@type":"Question","name":"mitmproxy 提供哪些進階功能幫助分析與操控 API 請求？","acceptedAnswer":{"@type":"Answer","text":"mitmproxy 除了基本攔截外，還提供 mitmdump 可匯出紀錄、使用 Python 腳本動態修改請求參數、轉址與流量篩選，並有 mitmweb Web GUI 介面方便視覺化操作與分析。"}},{"@type":"Question","name":"使用 mitmproxy 嗅探 APP API 時遇到連線失敗或回傳加密內容怎麼辦？","acceptedAnswer":{"@type":"Answer","text":"若 APP 因防範措施如 SSL Pinning 導致連線失敗，或回傳內容為自訂加密格式，代表 APP 已具備基本防護，需進一步研究憑證繞過或解密技術，否則無法直接嗅探明文資料。"}}]} </script><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item" style="padding:0 15px 0 15px;"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background:#EDF4FF;color:#0A84FF;font-size:15px;transition:background-color .2s,color .2s;" onmouseover="this.style.backgroundColor='#0A84FF';this.style.color='#ffffff';" onmouseout="this.style.backgroundColor='#EDF4FF';this.style.color='#0A84FF';"> <i class="fa-brands fa-medium"></i> <span><span style="font-size: 18px; font-weight: boild;">Follow Me on Medium!</span><br/><u>1,053+</u> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首頁</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分類</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>標籤</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>歸檔</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>關於我</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>聯絡我</span> </a><li class="nav-item"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;"> <a href="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #666;background:#111;color:#fff;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-https%E4%BC%A0%E8%BE%93%E4%BB%8D%E9%81%AD%E7%AA%83%E5%8F%96-mitmproxy%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%AE%9E%E6%88%98%E6%95%99%E5%AD%A6%E4%B8%8E%E9%98%B2%E8%8C%83%E6%8A%80%E5%B7%A7-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a></div><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;margin-top:5px;"> <a href="https://en.zhgchg.li/posts/zrealm-dev/https-data-theft-in-ios-macos-apps-mitmproxy-man-in-the-middle-attack-explained-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/https%E9%80%9A%E4%BF%A1%E3%81%A7%E3%82%82%E3%83%87%E3%83%BC%E3%82%BF%E6%BC%8F%E6%B4%A9-ios-macos%E3%81%A7%E3%81%AEmitmproxy%E4%B8%AD%E9%96%93%E8%80%85%E6%94%BB%E6%92%83%E5%AF%BE%E7%AD%96-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首頁</a> </span> <span>APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜尋..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧</h1><p class="post-desc fw-light mb-4">iOS與MacOS環境下，利用mitmproxy實現中間人攻擊，成功嗅探APP API資料傳輸，揭露HTTPS傳輸漏洞；並解析SSL Pinning與資料加密兩大防護策略，提升APP資料安全，阻擋90%爬蟲與攻擊威脅。</p><div class="post-meta text-muted"> <span> 發佈於 <time data-ts="1568973661" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2019 年 09 月 20 日 </time> </span> <span> 更新於 <time data-ts="1712994968" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024 年 04 月 13 日 </time> </span><div class="mt-3 mb-3"> <a href="/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp" class="popup img-link preview-img blur"><img data-src="/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> 作者 <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2738 字" > <em>15 分鐘</em>閱讀</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節目錄 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;"><div aria-label="Views" style="display:inline-flex;align-items:center;gap:6px;font-size:.85rem;"> <span style="display:inline-flex;align-items:center;justify-content:center;"> 瀏覽次數: <span style="margin-left:4px;" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="最後更新時間: 2026-01-21 11:06:31 +08:00"><u>10,715+</u></span> </span></div><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px;flex-wrap:wrap;"> <a href="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #dc3545;background:#dc3545;color:#fff !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-https%E4%BC%A0%E8%BE%93%E4%BB%8D%E9%81%AD%E7%AA%83%E5%8F%96-mitmproxy%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%AE%9E%E6%88%98%E6%95%99%E5%AD%A6%E4%B8%8E%E9%98%B2%E8%8C%83%E6%8A%80%E5%B7%A7-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a> <a href="https://en.zhgchg.li/posts/zrealm-dev/https-data-theft-in-ios-macos-apps-mitmproxy-man-in-the-middle-attack-explained-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/https%E9%80%9A%E4%BF%A1%E3%81%A7%E3%82%82%E3%83%87%E3%83%BC%E3%82%BF%E6%BC%8F%E6%B4%A9-ios-macos%E3%81%A7%E3%81%AEmitmproxy%E4%B8%AD%E9%96%93%E8%80%85%E6%94%BB%E6%92%83%E5%AF%BE%E7%AD%96-46410aaada00/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div></div><blockquote class="prompt-info"><p>基於 SEO 考量，本文標題與描述經 AI 調整，原始版本請參考內文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目錄</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#app有用https傳輸但資料還是被偷了">APP有用HTTPS傳輸，但資料還是被偷了。</a></li><li><a href="#前言">前言</a></li><li class="has-children"><details><summary>實際操作 <a href="#實際操作">#</a></summary><ul><li><a href="#安裝-mitmproxy">安裝 mitmproxy</a></li><li><a href="#mitmproxy-使用">mitmproxy 使用</a></li><li><a href="#讓手機跟mac在同個區域網路內取得mac的ip位址">讓手機跟Mac在同個區域網路內&取得Mac的IP位址</a></li><li><a href="#手機網路設置wifi--proxy伺服器資訊">手機網路設置WiFi — Proxy伺服器資訊</a></li><li><a href="#安裝-mitmproxy-自訂-https-憑證">安裝 mitmproxy 自訂 https 憑證</a></li><li><a href="#回到mac-上操作-mitmproxy">回到Mac 上操作 mitmproxy</a></li><li><a href="#常用操作按鍵集">常用操作按鍵集</a></li><li><a href="#不習慣cli-沒關係可以改用-web-gui-">不習慣CLI? 沒關係，可以改用 Web GUI !</a></li><li><a href="#重頭戲嗅探app資料">重頭戲，嗅探APP資料</a></li></ul></details></li><li class="has-children"><details><summary>APP 該如何自保？ <a href="#app-該如何自保">#</a></summary><ul><li><a href="#不過">不過….</a></li><li><a href="#還是那句話">還是那句話</a></li></ul></details></li><li><a href="#mitmproxy-的更多玩法">mitmproxy 的更多玩法</a></li><li><a href="#補個坑">補個坑</a></li><li><a href="#延伸閱讀">延伸閱讀</a></li><li><a href="#後記">後記</a></li></ul></nav><hr /><h3 id="app有用https傳輸但資料還是被偷了"><span class="me-2">APP有用HTTPS傳輸，但資料還是被偷了。</span><a href="#app有用https傳輸但資料還是被偷了" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>iOS+MacOS 使用 mitmproxy 進行中間人攻擊(Man-in-the-middle attack) 嗅探API傳輸資料教學及如何防範？</p><h3 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>前陣子剛在公司辦完一場內部的 <a href="https://zhgchg.li/posts/zrealm-dev/%E6%89%93%E9%80%A0%E6%9C%89%E8%B6%A3%E5%B7%A5%E7%A8%8Bctf%E7%AB%B6%E8%B3%BD-%E7%B3%BB%E7%B5%B1%E5%BB%BA%E7%BD%AE%E8%88%87%E8%B7%A8%E9%A0%98%E5%9F%9F%E9%A1%8C%E7%9B%AE%E8%A8%AD%E8%A8%88%E6%94%BB%E7%95%A5-729d7b6817a4/">CTF競賽</a> ，在發想題目時回想起大學時候還在做後端(PHP)時經手的專案，一個集點的APP，大概就是有個任務列表，然後觸發條件完成就Call API獲得點數；老闆認為Call API有經過HTTPS加密傳輸資料就很安全了 — 直到我向他展示中間人攻擊，直接嗅探傳輸資料，偽造API呼叫獲得點數….</p><p>再加上最近幾年大數據崛起，網路爬蟲滿天飛；爬蟲攻防戰日漸白熱化， <a href="https://coolcao.com/2018/06/09/tips-of-anti-spider-in-fe/" target="_blank">爬取與防爬之間花招百出</a> ，只能說道高一尺魔高一丈啊！</p><p>爬蟲的另一條下手對象就是APP的API，如果沒有任何防範幾乎等於門戶大開；不但好操作而且格式也乾淨，更不容易被識別阻擋；所以如果網頁端已經費盡全力阻擋，資料還是不段被爬，不妨檢查一下APP的API有無漏洞。</p><p>因為這個議題我不知道該如何出在 CTF比賽中 ，所以就單拉出一篇文章作為紀錄 ；本篇只是粗淺給個概念 — <a href="http://www.aqee.net/post/man-in-the-middle-attack.html" target="_blank">HTTPS能透過憑證替換進行傳輸內容解密</a> 、如何加強安全性防止；實際網路理論不是我的強項也都還給老師了，如果已經有這方面概念的朋友就不用花時間看這篇，或拉到底看APP該如果保護！</p><h3 id="實際操作"><span class="me-2">實際操作</span><a href="#實際操作" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>環境: MacOS + iOS</p><blockquote><p><em>Android 使用者可以直接下載 <a href="https://play.google.com/store/apps/details?id=app.greyshirts.sslcapture&amp;hl=en" target="_blank">Packet Capture</a> (免費)、iOS 用戶可使用 <a href="https://apps.apple.com/us/app/surge-3/id1442620678" target="_blank">Surge 4</a> 這套軟體( <strong>付費)</strong> 解鎖中間人攻擊功能、MacOS也可以使用另一套付費軟體Charles。</em></p></blockquote><blockquote><p><em>本文章主要講解iOS使用 <strong>免費</strong> 的 mitmproxy 進行操作，如果您有上述的環境就不用這麼麻煩啦，直接APP打開在手機上掛載VPN替換掉憑證就能進行中間人攻擊！(ㄧ樣請直接下拉到底看該如何保護！)</em></p></blockquote><p><strong>[2021/02/25 更新]：</strong> Mac 有新的免費圖形化介面程式 ( <a href="https://proxyman.io/" target="_blank">Proxyman</a> ) 可以用，可搭配 <a href="https://zhgchg.li/posts/zrealm-dev/python-%E6%90%AD%E9%85%8D-google-cloud-platform-%E8%88%87-line-bot-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E8%87%AA%E5%8B%95%E7%B0%BD%E5%88%B0%E8%85%B3%E6%9C%AC%E8%88%87%E6%8E%92%E7%A8%8B-70a1409b149a/">參考此篇文章</a> 的第一部分。</p><h4 id="安裝-mitmproxy"><span class="me-2">安裝 <a href="https://mitmproxy.org" target="_blank">mitmproxy</a></span><a href="#安裝-mitmproxy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>直接使用 brew 安裝</strong> ：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>brew <span class="nb">install </span>mitmproxy
</pre></table></code></div></div><p><strong>安裝完成!</strong></p><p><em>p.s 如果你出現 brew: command not found 請先安裝 <a href="https://brew.sh/index_zh-tw" target="_blank">brew</a> 套件管理工具</em> ：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/usr/bin/ruby <span class="nt">-e</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/master/install<span class="si">)</span><span class="s2">"</span>
</pre></table></code></div></div><h4 id="mitmproxy-使用"><span class="me-2">mitmproxy 使用</span><a href="#mitmproxy-使用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>安裝完成後，在 Terminal 輸入以下指令啟用：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmproxy
</pre></table></code></div></div><p><a href="/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*VTtl6EUMOTV4oRNUjRQHNg.webp" alt="啟動成功" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDc3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>啟動成功</p><h4 id="讓手機跟mac在同個區域網路內取得mac的ip位址"><span class="me-2">讓手機跟Mac在同個區域網路內&amp;取得Mac的IP位址</span><a href="#讓手機跟mac在同個區域網路內取得mac的ip位址" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>方法(1) Mac 連接 WiFi、手機也使用同個 WiFi <strong>Mac的IP位址 =</strong> 「系統偏好設定」-&gt;「網路」-&gt;「Wi-Fi」-&gt;「IP Address」</p><p>方法(2) Mac 使用有線網路，開啟網路分享；手機連上該熱點網路:</p><p><a href="/assets/46410aaada00/1*R9fthpHlrWzTh4R3fEwO5Q.gif" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*R9fthpHlrWzTh4R3fEwO5Q.gif" alt="「系統偏好設定」-&gt; 「共享」-&gt;選擇「乙太網路」-&gt;「Wi-Fi」打勾-&gt; 「Internet 共享」啟用" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjgiIGhlaWdodD0iNDg0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>「系統偏好設定」-&gt; 「共享」-&gt;選擇「乙太網路」-&gt;「Wi-Fi」打勾-&gt; 「Internet 共享」啟用</p><p><strong>Mac的IP位址 = 192.168.2.1</strong> （️️注意⚠️ 不是乙太網路網路的IP，是Mac用做網路分享基地台的IP)</p><h4 id="手機網路設置wifi--proxy伺服器資訊"><span class="me-2">手機網路設置WiFi — Proxy伺服器資訊</span><a href="#手機網路設置wifi--proxy伺服器資訊" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/46410aaada00/1*ziIFrGQaMr2kYrQHwLYNJg.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*ziIFrGQaMr2kYrQHwLYNJg.webp" alt="「設定」-&gt; 「WiFi」-&gt; 「HTTP 代理伺服器」-&gt; 「手動」-&gt; 「伺服器輸入 **Mac的IP位址** 」-&gt; 「連接埠輸入 **8080** 」-&gt; 「儲存」" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjEwNjUiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>「設定」-&gt; 「WiFi」-&gt; 「HTTP 代理伺服器」-&gt; 「手動」-&gt; 「伺服器輸入 <strong>Mac的IP位址</strong> 」-&gt; 「連接埠輸入 <strong>8080</strong> 」-&gt; 「儲存」</p><blockquote><p><em>這時網頁打不開、出現憑證錯誤是正常的；我們繼續往下做…</em></p></blockquote><h4 id="安裝-mitmproxy-自訂-https-憑證"><span class="me-2">安裝 mitmproxy 自訂 https 憑證</span><a href="#安裝-mitmproxy-自訂-https-憑證" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>如同上述所說，中間人攻擊的實現方式就是在通訊之中使用自己的憑證做抽換加解密資料；所以我們也要在手機上安裝這個自訂的憑證。</p><p><strong>1.用手機safari打開 <a href="http://mitm.it" target="_blank">http://mitm.it</a></strong></p><p><a href="/assets/46410aaada00/1*BuvCYx9WRzG0ECO3H_BS0A.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*BuvCYx9WRzG0ECO3H_BS0A.webp" alt="出現左邊-&gt;Proxy設定✅/ 出現右邊代表 Proxy設定有誤🚫" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEyNDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>出現左邊-&gt;Proxy設定✅/ 出現右邊代表 Proxy設定有誤🚫</p><p><a href="/assets/46410aaada00/1*qKDHxi9HxUP41oDJahBfBA.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*qKDHxi9HxUP41oDJahBfBA.webp" alt="「Apple」-&gt;「安裝描述檔」-&gt;「安裝」" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>「Apple」-&gt;「安裝描述檔」-&gt;「安裝」</p><blockquote><p><em>⚠️到這裡還沒結束，我們還要去關於裡啟用描述檔</em></p></blockquote><p><a href="/assets/46410aaada00/1*mOijblpQepazFPIwob4r8Q.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*mOijblpQepazFPIwob4r8Q.webp" alt="「一般」-&gt;「關於」-&gt;「憑證信任設定」-&gt;「mitmproxy」啟用" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEyNDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>「一般」-&gt;「關於」-&gt;「憑證信任設定」-&gt;「mitmproxy」啟用</p><p><strong>完成！這時我們再回去瀏覽器就能正常瀏覽網頁了。</strong></p><h4 id="回到mac-上操作-mitmproxy"><span class="me-2">回到Mac 上操作 mitmproxy</span><a href="#回到mac-上操作-mitmproxy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/46410aaada00/1*kiEPaTm5bhnFLBfQngQPgA.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*kiEPaTm5bhnFLBfQngQPgA.webp" alt="可以在mitmproxy Terminal上看到剛手機的資料傳輸紀錄" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDc3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可以在mitmproxy Terminal上看到剛手機的資料傳輸紀錄</p><p><a href="/assets/46410aaada00/1*5I6l9cO3LeXfcwGLpWGKPQ.gif" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*5I6l9cO3LeXfcwGLpWGKPQ.gif" alt="找到想嗅探的紀錄進入查看Request(送出哪些參數)/Response(回傳了什麼內容)" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MzgiIGhlaWdodD0iNTAyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>找到想嗅探的紀錄進入查看Request(送出哪些參數)/Response(回傳了什麼內容)</p><h4 id="常用操作按鍵集"><span class="me-2">常用操作按鍵集：</span><a href="#常用操作按鍵集" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>「 ? 」= 查看按鍵操作集文檔
「 k 」/「⬆」= 上 
「 j 」/「⬇」= 下 
「 h 」/「⬅」= 左 
「 l 」/「➡️」️= 右 
「 space 」= 下一頁
「 enter 」= 進入查看詳情
「 q 」= 返回上一頁/退出
「 b 」= 匯出response body到指定path文字檔 
「 f 」= 篩選紀錄條件
「 z 」= 清除所有紀錄
「 e 」= 編輯Request(cookie、headers、params...)
「 r 」= 重新發送Request
</pre></table></code></div></div><h4 id="不習慣cli-沒關係可以改用-web-gui-"><span class="me-2">不習慣CLI? 沒關係，可以改用 Web GUI !</span><a href="#不習慣cli-沒關係可以改用-web-gui-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>除了 mitmproxy 啟用方式之外，我們可以改下：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmweb
</pre></table></code></div></div><p>就能使用新的 Web GUI 進行操作觀察</p><p><a href="/assets/46410aaada00/1*Stbf8gUk8iXwNkozOKyOjA.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*Stbf8gUk8iXwNkozOKyOjA.webp" alt="mitmweb" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjMzIiBoZWlnaHQ9Ijg5MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>mitmweb</p><h4 id="重頭戲嗅探app資料"><span class="me-2">重頭戲，嗅探APP資料：</span><a href="#重頭戲嗅探app資料" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>上述環境都建置完成也熟悉之後，就可以進入我們的重頭戲；嗅探APP API的資料傳輸內容！</p><blockquote><p><em>這邊以某房屋APP作為範例，無惡意純學術交流使用!</em></p></blockquote><blockquote><p><em>我們想知道物件列表的API是如何請求和回傳什麼內容!</em></p></blockquote><p><a href="/assets/46410aaada00/1*HKppSomeMK5U3Z0kbaRvkQ.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*HKppSomeMK5U3Z0kbaRvkQ.webp" alt="首先先按「z」清除所有紀錄(避免搞亂)" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NzEiIGhlaWdodD0iNjMxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>首先先按「z」清除所有紀錄(避免搞亂)</p><p><a href="/assets/46410aaada00/1*mpNLXzUwb7-jiikrHkoTcA.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*mpNLXzUwb7-jiikrHkoTcA.webp" alt="開啟目標 APP" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>開啟目標 APP</p><p>開啟目標 APP 嘗試「下拉重整」或觸發「載入下一頁」的動作。</p><blockquote><p><strong><em>🛑若你的目標APP打不開、連不上；那抱歉了，代表APP有做防範無法用這招嗅探，請直接下拉到如何保護的章節🛑</em></strong></p></blockquote><p><a href="/assets/46410aaada00/1*KOkJugn95bcUCPl-dZEaRA.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*KOkJugn95bcUCPl-dZEaRA.webp" alt="mitmproxy 紀錄" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NzEiIGhlaWdodD0iNjMxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>mitmproxy 紀錄</p><p>回到 mitmproxy 查看紀錄，發揮偵探的精神猜測哪個API請求紀錄是我們想要的並進入查看詳細！</p><p><a href="/assets/46410aaada00/1*n6mUgej-2_U8PRUbQo_j1g.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*n6mUgej-2_U8PRUbQo_j1g.webp" alt="Request" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MjciIGhlaWdodD0iNTg3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Request</p><p>Request 部分可以看到 請求傳遞了哪些參數</p><p>搭配「e」編輯與「r」重新發送，並觀察 Response 就可以猜到每個參數的用途囉！</p><p><a href="/assets/46410aaada00/1*zxdLiXMP-KapoEYou_TlZg.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*zxdLiXMP-KapoEYou_TlZg.webp" alt="Response" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NzEiIGhlaWdodD0iNjMxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Response</p><p>Response 也能直接獲得原始回傳內容。</p><blockquote><p><strong><em>🛑若Response內容是一堆編碼；那也抱歉了，代表APP可能有自己再做一次加解密無法用這招嗅探，請直接下拉到如何保護的章節🛑</em></strong></p></blockquote><p>很難閱讀？中文亂碼？沒關係，這邊可以用「b」匯出成文字檔到桌面，再將內容複製到 <a href="https://jsoneditoronline.org/" target="_blank">Json Editor Online</a> 解析即可!</p><p><a href="/assets/46410aaada00/1*7qOTLAIQHH6V782OnvFVFQ.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*7qOTLAIQHH6V782OnvFVFQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9Ijk2OSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><blockquote><p><strong><em>*或是直接使用 mitmweb 使用 web gui 直接瀏覽、操作</em></strong></p></blockquote><p><a href="/assets/46410aaada00/1*ujOlDBdjp8tECeAwRzWRPw.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*ujOlDBdjp8tECeAwRzWRPw.webp" alt="mitmweb" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjM1IiBoZWlnaHQ9Ijg4MiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>mitmweb</p><p>經過嗅探、觀察、過濾、測試之後就能知道APP API的運作方式，藉此就能利用，用爬蟲爬取資料。</p><blockquote><p><em>*蒐集完所需資訊記得關閉mitmproxy、手機網路Proxy代理伺服器改回自動，才能正常使用網路。</em></p></blockquote><h3 id="app-該如何自保"><span class="me-2">APP 該如何自保？</span><a href="#app-該如何自保" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>若掛上 mitmproxy 之後發現APP不能用、回傳內容是編碼，代表APP有做保護。</p><p><strong>做法(1):</strong></p><p>大略是將憑證資訊放一份到APP中，若當前HTTPS使用的憑證與APP中的資訊不符則拒絕訪問，詳細可以 <a href="https://www.anquanke.com/post/id/147090" target="_blank">看此</a> 或找 <a href="https://medium.com/@dzungnguyen.hcm/ios-ssl-pinning-bffd2ee9efc" target="_blank">SSL Pinning</a> 相關資源。缺點可能就是要注意憑證有效期的問題吧！</p><p><a href="/assets/46410aaada00/1*31rODDIlYPidTP3L8W_C7A.webp" class="popup img-link blur"><img data-src="/assets/46410aaada00/1*31rODDIlYPidTP3L8W_C7A.webp" alt="[https://medium.com/@dzungnguyen.hcm/ios-ssl-pinning-bffd2ee9efc](https://medium.com/@dzungnguyen.hcm/ios-ssl-pinning-bffd2ee9efc){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTYwIiBoZWlnaHQ9IjEyMDAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="https://medium.com/@dzungnguyen.hcm/ios-ssl-pinning-bffd2ee9efc" target="_blank">https://medium.com/@dzungnguyen.hcm/ios-ssl-pinning-bffd2ee9efc</a></p><p><strong>作法(2):</strong></p><p>APP端在資料要傳輸前先進行編碼加密，API後端收到後解密取得原始請求內容；API回傳內容一樣先進行編碼加密，APP端收到資料後解密取得回傳內容；步驟很煩瑣也耗效能，但的確是個方法；據我所知好像某數字銀行就是用這招進行保護!</p><h4 id="不過"><span class="me-2">不過….</span><a href="#不過" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>作法1，依然有破解方法： <a href="https://www.anquanke.com/post/id/179514" target="_blank">如何在iOS 12上绕过SSL Pinning</a></p><p>作法2，透過反編譯工程也能獲得編碼加密用的密鑰</p><p><strong>⚠️沒有100%的安全⚠️</strong></p><p><code class="language-plaintext highlighter-rouge">或是乾脆挖個洞讓它爬，邊搜集各種證據，再用法務解決（？</code></p><h4 id="還是那句話"><span class="me-2">還是那句話：</span><a href="#還是那句話" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p>「 NEVER TRUST THE CLIENT」</p></blockquote><h3 id="mitmproxy-的更多玩法"><span class="me-2">mitmproxy 的更多玩法：</span><a href="#mitmproxy-的更多玩法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>1.使用mitmdump</strong></p><p>除 <code class="language-plaintext highlighter-rouge">mitmproxy</code> 、 <code class="language-plaintext highlighter-rouge">mitmweb</code> ， <code class="language-plaintext highlighter-rouge">mitmdump</code> 可直接將所有紀錄匯出到文字檔中</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-w</span> /log.txt
</pre></table></code></div></div><p>並且能使用 <strong>玩法(2)</strong> python程式，設定、篩選流量:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-ns</span> examples/filter.py <span class="nt">-r</span> /log.txt <span class="nt">-w</span> /result.txt
</pre></table></code></div></div><p><strong>2.搭配python程式做請求參數設定、訪問控制、轉址：</strong></p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">mitmproxy</span> <span class="kn">import</span> <span class="n">http</span>

<span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="n">flow</span><span class="p">:</span> <span class="n">http</span><span class="p">.</span><span class="n">HTTPFlow</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="c1"># pretty_host takes the "Host" header of the request into account,
</span>    <span class="c1"># which is useful in transparent mode where we usually only have the IP
</span>    <span class="c1"># otherwise.
</span>    
    <span class="c1"># 請求參數設定 Example:
</span>    <span class="n">flow</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">[</span><span class="sh">'</span><span class="s">User-Agent</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="sh">'</span><span class="s">MitmProxy</span><span class="sh">'</span>
    
    <span class="k">if</span> <span class="n">flow</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">pretty_host</span> <span class="o">==</span> <span class="sh">"</span><span class="s">123.com.tw</span><span class="sh">"</span><span class="p">:</span>
        <span class="n">flow</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">host</span> <span class="o">=</span> <span class="sh">"</span><span class="s">456.com.tw</span><span class="sh">"</span>
    <span class="c1"># 將123.com.tw的訪問全導到456.com.tw
</span></pre></table></code></div></div><p>轉址範例</p><p>啟用mitmproxy時加上參數：</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>mitmproxy -s /redirect.py
or
mitmweb -s /redirect.py
or
mitmdump -s /redirect.py
</pre></table></code></div></div><h3 id="補個坑"><span class="me-2">補個坑</span><a href="#補個坑" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在使用 mitmproxy 觀察使用 HTTP 1.1 及 Accept-Ranges: bytes、 Content-Range 長連接片段持續拿取資源的請求時，會等到 response 全部回來才會顯示，而不是顯示分段、使用持久連接接續下載！</p><p><a href="https://zhgchg.li/posts/avplayer-%E9%82%8A%E6%92%AD%E9%82%8A-cache-%E6%8A%80%E8%A1%93%E5%AF%A6%E6%88%B0-ios-%E6%9C%AC%E5%9C%B0%E7%B7%A9%E5%AD%98%E5%84%AA%E5%8C%96%E6%94%BB%E7%95%A5-ee47f8f1e2d2/">踩坑在這</a> 。</p><h3 id="延伸閱讀"><span class="me-2">延伸閱讀</span><a href="#延伸閱讀" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><a href="https://zhgchg.li/posts/zrealm-dev/python-%E6%90%AD%E9%85%8D-google-cloud-platform-%E8%88%87-line-bot-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E8%87%AA%E5%8B%95%E7%B0%BD%E5%88%B0%E8%85%B3%E6%9C%AC%E8%88%87%E6%8E%92%E7%A8%8B-70a1409b149a/">以簽到獎勵 APP 為例，打造每日自動簽到腳本</a><li><a href="https://zhgchg.li/posts/zrealm-dev/%E6%89%93%E9%80%A0%E6%9C%89%E8%B6%A3%E5%B7%A5%E7%A8%8Bctf%E7%AB%B6%E8%B3%BD-%E7%B3%BB%E7%B5%B1%E5%BB%BA%E7%BD%AE%E8%88%87%E8%B7%A8%E9%A0%98%E5%9F%9F%E9%A1%8C%E7%9B%AE%E8%A8%AD%E8%A8%88%E6%94%BB%E7%95%A5-729d7b6817a4/">如何打造一場有趣的工程CTF競賽</a><li><a href="https://zhgchg.li/posts/zrealm-dev/%E7%B6%B2%E7%AB%99%E6%BC%8F%E6%B4%9E%E8%A7%A3%E6%9E%90-%E5%A4%9A%E9%87%8D%E8%B3%87%E5%AE%89%E7%BC%BA%E9%99%B7%E5%B0%8E%E8%87%B4%E5%AF%86%E7%A2%BC%E9%87%8D%E8%A8%AD%E6%A9%9F%E5%88%B6%E8%A2%AB%E6%94%BB%E7%A0%B4-142244e5f07a/">揭露一個幾年前發現的巧妙網站漏洞</a><li><a href="https://medium.com/zrealm-ios-dev/ios-15-macos-monterey-safari-%E5%B0%87%E8%83%BD%E9%9A%B1%E8%97%8F%E7%9C%9F%E5%AF%A6-ip-755a8b6acc35" target="_blank">iOS 15 / MacOS Monterey Safari 將能隱藏真實 IP</a></ul><h3 id="後記"><span class="me-2">後記</span><a href="#後記" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>因為我沒有網域權限無法取得ssl憑證資訊，所以也無法實作；看程式碼感覺並不困難，雖然沒有100%安全的方法，但多一道防護至少能更安全一些，再繼續攻需要花費很多時間研究，應該能勸退90%的爬蟲了！</p><p>這篇文章可能有點含金量太低，medium荒廢了一陣子(跑去玩單眼)，主要為本週六日(2019/09/21–2019/09/22)的 <a href="https://iplayground.io/2019/" target="_blank">iPlayground 2019</a> 提前熱熱寫文手感；期待今年的議程🤩，希望回來後能吸收產出更多精品文章！</p><blockquote><p><strong><em>[2019/02/22 更新文章] <a href="https://zhgchg.li/posts/zrealm-dev/iplayground-2019-%E5%8F%B0%E5%A4%A7%E5%8D%9A%E9%9B%85%E9%A4%A8%E6%8A%80%E8%A1%93%E7%9B%9B%E6%9C%83%E5%85%A8%E7%B4%80%E9%8C%84%E8%88%87swiftui-app%E5%AE%89%E5%85%A8%E7%B2%BE%E8%8F%AF%E8%A7%A3%E6%9E%90-4079036c85c2/">iPlayground 2019 是怎麼樣的體驗？</a></em></strong></p></blockquote><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/46410aaada00/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="/contact" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-tip"><p>👉👉👉 <a href="https://medium.com/@zhgchgli" target="_blank"><strong>Follow Me On Medium!</strong> (1,053+ Followers)</a> 👈👈👈</p></blockquote><blockquote class="prompt-info"><p>本文首次發表於 Medium (<a href="https://medium.com/p/46410aaada00" target="_blank"><strong>點此查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2019-09-20-46410aaada00.md" target="_blank">Improve this page on Github.</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/mitmproxy/" class="post-tag no-text-decoration" >mitmproxy</a> <a href="/tags/man-in-the-middle/" class="post-tag no-text-decoration" >man-in-the-middle</a> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/hacking/" class="post-tag no-text-decoration" >hacking</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者以 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh-hant"> CC BY 4.0 </a> 授權。</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=APP%20HTTPS%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96%EF%BD%9Cmitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2F46410aaada00%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=APP%20HTTPS%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96%EF%BD%9Cmitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2F46410aaada00%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2F46410aaada00%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="複製連結" data-title-succeed="連結已成功複製！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/tools/ios-android-flutter-%E6%AF%8F%E6%97%A5%E8%87%AA%E5%8B%95%E8%81%B7%E7%BC%BA%E9%80%9A%E7%9F%A5-%E5%B9%AB%E4%BD%A0%E6%8A%93%E4%BD%8F%E6%9C%80%E6%96%B0%E5%B7%A5%E4%BD%9C%E6%A9%9F%E6%9C%83-appjobstw/">iOS/Android/Flutter 每日自動職缺通知，幫你抓住最新工作機會</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/%E5%B1%B1%E9%99%BD-%E5%B1%B1%E9%99%B0%E6%97%85%E9%81%8A%E5%85%A8%E6%94%BB%E7%95%A5-%E5%BB%A3%E5%B3%B6-%E5%B2%A1%E5%B1%B1%E6%99%AF%E9%BB%9E%E8%88%87%E4%BA%BA%E6%96%87%E6%AD%B7%E5%8F%B2%E4%B8%80%E6%AC%A1%E6%90%9E%E6%87%82-%E5%90%AB%E4%BA%A4%E9%80%9A-%E8%A1%8C%E7%A8%8B%E8%88%87%E6%8E%A5%E5%B1%B1%E9%99%B0%E7%8E%A9%E6%B3%95-sanin/">山陽×山陰旅遊全攻略：廣島、岡山景點與人文歷史一次搞懂（含交通、行程與接山陰玩法）</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/2026-%E7%86%B1%E6%B5%B7%E5%A4%8F%E5%AD%A3%E8%8A%B1%E7%81%AB%E5%A4%A7%E6%9C%83%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5-%E8%A7%80%E8%B3%9E%E5%9C%B0%E9%BB%9E-%E4%BA%A4%E9%80%9A-%E7%BE%8E%E9%A3%9F-%E4%BD%8F%E5%AE%BF-%E9%99%84%E8%BF%91%E6%99%AF%E9%BB%9E-%E4%B8%80%E6%97%A5%E9%81%8A%E8%A1%8C%E7%A8%8B-atami/">2026 熱海夏季花火大會完全攻略：觀賞地點、交通、美食、住宿、附近景點、一日遊行程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/%E8%87%AA%E7%84%B6%E4%BA%BA%E6%86%91%E8%AD%89%E7%94%B3%E8%BE%A6%E8%88%87%E4%BD%BF%E7%94%A8%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B2%BB%E7%94%A8-pin-%E8%AE%80%E5%8D%A1%E6%A9%9F-%E6%89%8B%E6%A9%9Fnfc-%E8%A1%8C%E5%8B%95%E8%87%AA%E7%84%B6%E4%BA%BA%E6%86%91%E8%AD%89-%E7%94%A8%E9%80%94%E4%B8%80%E6%AC%A1%E6%90%9E%E6%87%82-cdc/">自然人憑證申辦與使用全攻略：費用、PIN、讀卡機、手機NFC、行動自然人憑證、用途一次搞懂</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-certificates-identifiers%E8%88%87profiles%E8%A9%B3%E8%A7%A3-fastlane-match%E7%B5%B1%E4%B8%80%E7%AE%A1%E7%90%86%E6%86%91%E8%AD%89%E8%88%87ci-cd%E6%95%B4%E5%90%88%E5%AF%A6%E6%88%B0-823ac523ccc8/">iOS Certificates, Identifiers & Profiles 是什麼及 Fastlane Match 統一管理憑證與 CI/CD 的一些筆記</a></ul></section><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/travel/">travel</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節目錄 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">延伸閱讀</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/ios-14-%E5%89%AA%E8%B2%BC%E7%B0%BF%E9%9A%B1%E7%A7%81%E5%95%8F%E9%A1%8C-%E6%8F%AD%E9%9C%B2-app-%E8%AE%80%E5%8F%96%E5%8E%9F%E5%9B%A0%E8%88%87%E5%AE%89%E5%85%A8%E9%A2%A8%E9%9A%AA%E8%A7%A3%E6%9E%90-8a04443024e2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1593697896" data-df="YYYY 年 M 月 D 日" > 2020 年 07 月 02 日 </time><h4 class="pt-0 my-2">iOS 14 剪貼簿竊資恐慌，隱私與便利的兩難</h4><div class="text-muted"><p>為何那麼多 iOS APP 會讀取你的剪貼簿？</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8D%84%E6%8F%90%E5%8F%96ipa%E6%AA%94-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%B7%A8%E8%AD%AF%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-7498e1ff93ce/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1585391080" data-df="YYYY 年 M 月 D 日" > 2020 年 03 月 28 日 </time><h4 class="pt-0 my-2">iOS 逆向工程初體驗</h4><div class="text-muted"><p>從越獄、提取iPA檔敲殼到UI分析注入及反編譯的探索過程</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-robotic-process-automation/ios-%E6%8D%B7%E5%BE%91%E8%87%AA%E5%8B%95%E5%8C%96-3-%E6%8B%9B%E8%87%AA%E5%8B%95%E8%BD%89%E7%99%BC%E7%B0%A1%E8%A8%8A%E8%88%87%E5%BB%BA%E7%AB%8B%E6%8F%90%E9%86%92%E5%BE%85%E8%BE%A6%E4%BA%8B%E9%A0%85%E6%95%99%E5%AD%B8-309d0302877b/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1724083008" data-df="YYYY 年 M 月 D 日" > 2024 年 08 月 19 日 </time><h4 class="pt-0 my-2">iOS 捷徑自動化應用場景 — 自動轉發簡訊與自動建立提醒待辦事項</h4><div class="text-muted"><p>iOS 使用 捷徑 Shortcut 簡單幾個步驟自動轉發特定簡訊給家長和自動創建包裹到貨領取與信用卡繳費提醒代辦事項</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/%E6%89%93%E9%80%A0%E6%9C%89%E8%B6%A3%E5%B7%A5%E7%A8%8Bctf%E7%AB%B6%E8%B3%BD-%E7%B3%BB%E7%B5%B1%E5%BB%BA%E7%BD%AE%E8%88%87%E8%B7%A8%E9%A0%98%E5%9F%9F%E9%A1%8C%E7%9B%AE%E8%A8%AD%E8%A8%88%E6%94%BB%E7%95%A5-729d7b6817a4/" class="btn btn-outline-primary" aria-label="上一篇" ><p>打造有趣工程CTF競賽：系統建置與跨領域題目設計攻略</p></a> <a href="/posts/zrealm-dev/iplayground-2019-%E5%8F%B0%E5%A4%A7%E5%8D%9A%E9%9B%85%E9%A4%A8%E6%8A%80%E8%A1%93%E7%9B%9B%E6%9C%83%E5%85%A8%E7%B4%80%E9%8C%84%E8%88%87swiftui-app%E5%AE%89%E5%85%A8%E7%B2%BE%E8%8F%AF%E8%A7%A3%E6%9E%90-4079036c85c2/" class="btn btn-outline-primary" aria-label="下一篇" ><p>iPlayground 2019 是怎麼樣的體驗？</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2026</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有註明，本網站上的所有文章皆由作者依據 創用 CC 姓名標示 4.0 國際授權條款（CC BY 4.0）授權使用。" >版權所有。</span> <br/> 瀏覽次數: <u>817,665+</u>, 最後更新時間: <u>2026-01-21 11:06:31 +08:00</u></p><p>本站使用 <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> 主題建置於 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>。<br/> Medium 文章由 <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> 轉換而成。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/travel/">travel</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">發現有新的內容版本。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'zh-TW';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOHdowL84CU-q5', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">找不到符合的結果。</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

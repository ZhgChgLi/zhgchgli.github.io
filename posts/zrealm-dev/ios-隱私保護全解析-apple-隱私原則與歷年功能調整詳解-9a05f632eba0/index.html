<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="深入剖析 Apple iOS 隱私原則與多項功能調整，解決開發者與用戶對隱私洩漏的疑慮，掌握 Private Relay、IDFA 管控、剪貼簿警示等技術，提升隱私安全與使用體驗。" /><meta property="og:description" content="深入剖析 Apple iOS 隱私原則與多項功能調整，解決開發者與用戶對隱私洩漏的疑慮，掌握 Private Relay、IDFA 管控、剪貼簿警示等技術，提升隱私安全與使用體驗。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/ios-%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3-9a05f632eba0/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/ios-%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3-9a05f632eba0/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-24T09:15:55+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp" /><meta property="twitter:title" content="iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://medium.com/@zhgchgli/"},"dateModified":"2023-08-06T00:36:16+08:00","datePublished":"2021-10-24T09:15:55+08:00","description":"深入剖析 Apple iOS 隱私原則與多項功能調整，解決開發者與用戶對隱私洩漏的疑慮，掌握 Private Relay、IDFA 管控、剪貼簿警示等技術，提升隱私安全與使用體驗。","headline":"iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/ios-%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3-9a05f632eba0/"},"url":"https://zhgchg.li/posts/zrealm-dev/ios-%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3-9a05f632eba0/"}</script><title>iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/ios-privacy-evolution-apple-s-principles-and-feature-enhancements-9a05f632eba0/"><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-dev/zh-cn/ios-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%90%E7%A7%81%E5%8E%9F%E5%88%99%E4%B8%8E%E5%8E%86%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%B0%83%E6%95%B4%E8%AF%A6%E8%A7%A3-9a05f632eba0/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-dev/ios-%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3-9a05f632eba0/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/ios-%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3-9a05f632eba0/"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p><a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解</h1><p class="post-desc fw-light mb-4">深入剖析 Apple iOS 隱私原則與多項功能調整，解決開發者與用戶對隱私洩漏的疑慮，掌握 Private Relay、IDFA 管控、剪貼簿警示等技術，提升隱私安全與使用體驗。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1635038155" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Oct 24, 2021 </time> </span> <span> Updated <time data-ts="1691253376" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Aug 5, 2023 </time> </span><div class="mt-3 mb-3"> <a href="/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp" class="popup img-link preview-img blur"><img data-src="/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="6623 words" > <em>36 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節 (Chapters)🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">iOS 隱私保護全解析｜Apple 隱私原則與歷年功能調整詳解</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/en/ios-privacy-evolution-apple-s-principles-and-feature-enhancements-9a05f632eba0/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/zh-cn/ios-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%90%E7%A7%81%E5%8E%9F%E5%88%99%E4%B8%8E%E5%8E%86%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%B0%83%E6%95%B4%E8%AF%A6%E8%A7%A3-9a05f632eba0/"><strong>点击这里</strong></a>查看本文章简体中文版本。</p></blockquote><blockquote class="prompt-info"><p>基於 SEO 考量，本文標題與描述經 AI 調整，原始版本請參考內文。</p></blockquote><hr /><h3 id="ios-隱私與便利的前世今生"><span class="me-2">iOS 隱私與便利的前世今生</span><a href="#ios-隱私與便利的前世今生" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Apple 隱私原則及 iOS 歷年對隱私保護的功能調整</p><p><a href="/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*-XkH2H6A9f7U1ex6eCo5Lg.webp" alt="Theme by [slidego](https://slidesgo.com/theme/cyber-security-business-plan#search-technology&amp;position-3&amp;results-12){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjY3NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Theme by <a href="https://slidesgo.com/theme/cyber-security-business-plan#search-technology&amp;position-3&amp;results-12" target="_blank">slidego</a></p><h3 id="20230801-ios-17-update"><span class="me-2">[2023–08–01] iOS 17 Update</span><a href="#20230801-ios-17-update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>對於之前演講的最新 iOS 17 隱私相關調整補充。</p><h4 id="link-tracking-protection"><span class="me-2"><a href="https://www.apple.com/newsroom/2023/06/apple-announces-powerful-new-privacy-and-security-features/" target="_blank">Link Tracking Protection</a></span><a href="#link-tracking-protection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Safari 會自動移除網址的 Tracking Parameter 參數 (e.g. <code class="language-plaintext highlighter-rouge">fbclid</code> 、 <code class="language-plaintext highlighter-rouge">gclid</code> …)</p><ul><li>舉例： <code class="language-plaintext highlighter-rouge">https://zhgchg.li/post/1?gclid=124</code> 點擊後會變 <code class="language-plaintext highlighter-rouge">https://zhgchg.li/post/1</code><li>目前測試 iOS 17 Developer Beta 4， <code class="language-plaintext highlighter-rouge">fbxxx</code> 、 <code class="language-plaintext highlighter-rouge">gcxxx</code> . .等等會被移掉， <code class="language-plaintext highlighter-rouge">utm_</code> 是有保留的；不確定正式版 iOS 17 或日後 iOS 18 會不會再加強。<li>如果想知道最嚴格情況下的效果可安裝 <a href="https://apps.apple.com/tw/app/duckduckgo-private-browser/id663592361" target="_blank">iOS DuckDuckGo</a> 瀏覽器進行測試。<li>詳細測試細節請參考「 <a href="https://blog.user.today/ios17-safari-remove-fbclid-and-gclid/" target="_blank">iOS17 Safari 的新功能會把網址裡的 fbclid 跟 gclid 砍掉</a> 」大大的這篇文章。</ul><h4 id="privacy-manifest-xprivacy--report"><span class="me-2"><a href="https://developer.apple.com/videos/play/wwdc2023/10060/?time=88" target="_blank">Privacy Manifest .xprivacy &amp; Report</a></span><a href="#privacy-manifest-xprivacy--report" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>開發者需把使用到的 User Privacy 宣告在內， <strong>並也需要要求有使用到的 SDK 提供該 SDK 的 Privacy Manifest。</strong></p><p><em>*另外也增加第三方 SDK Signature</em></p><p><a href="/assets/9a05f632eba0/1*A9PNsZ-BJCZpU-AcJph3qg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*A9PNsZ-BJCZpU-AcJph3qg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDEiIGhlaWdodD0iNDE0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>XCode 15 能透過 Manifest 產生 Privacy Report 供開發者在 App Store 上做 App 隱私設定。</p><p><a href="/assets/9a05f632eba0/1*84WTDYR0cfrQP3a0e8jB4g.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*84WTDYR0cfrQP3a0e8jB4g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTAiIGhlaWdodD0iMzcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="required-reason-api"><span class="me-2"><a href="https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api" target="_blank">Required reason API</a></span><a href="#required-reason-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>為避免部分有機會得出 fingerprinting 的 Foundation API 被濫用，蘋果開始針對部分 Foundation API 做管控； <a href="https://developer.apple.com/cn/news/?id=z6fu1dcu" target="_blank">需要在 Mainfest 中宣告為何要使用</a> 。</p><p>目前比較有影響的是 UserDefault 即屬於要宣告的 API。</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>從 2023 年秋季開始，如果你上傳到 App Store Connect 的新 App 或 App 更新使用了需要聲明原因的 API (包括來自第三方 SDK 的內容)，而你沒有在 App 的隱私清單中提供批准的原因，那麼你會收到通知。從 2024 年春季開始，若要將新 App 或 App 更新上傳到 App Store Connect，你需要在 App 的隱私清單中註明批准的原因，以準確反映你的 App 如何使用相應 API。

如果目前批准原因的涵蓋範圍內並未包含某個需要聲明原因的 API 的用例，且你確信這個用例可讓你的 App 用戶直接受益，請告訴我們。
</pre></table></code></div></div><h4 id="tracking-domain"><span class="me-2"><a href="https://developer.apple.com/videos/play/wwdc2023/10060/?time=264" target="_blank">Tracking Domain</a></span><a href="#tracking-domain" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>發送 Tracking 資訊的 API Domain 需宣告在 privacy manifest .xprivacy 並在使用者同意追蹤後才能發起網路請求，否則此 Domain 的網路請求全部都會被系統攔截。</p><p><a href="/assets/9a05f632eba0/1*f849jUbgjLMPfdCnRVp2IA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*f849jUbgjLMPfdCnRVp2IA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjIiIGhlaWdodD0iMTEzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可從 XCode Netowrk 工具中檢查 Tracking Domain 是否被攔截：</p><p><a href="/assets/9a05f632eba0/1*7j5UXZq_ZMt07IQ2wWZIBA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*7j5UXZq_ZMt07IQ2wWZIBA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjI1IiBoZWlnaHQ9IjM2MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>目前實測 Facebook、Google 的 Tracking Domain 都會被偵測到，需要照規定列入 Tracking Domain 並詢問權限。</p><p><a href="/assets/9a05f632eba0/1*R4N7ofJfrDW6cmu2Q2Pdtw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*R4N7ofJfrDW6cmu2Q2Pdtw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjgyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><a href="https://graph.facebook.com/" target="_blank">graph.facebook.com</a> : Facebook 相關數據統計<li><a href="https://app-measurement.com/" target="_blank">app-measurement.com</a> : Google 相關數據統計：GA/Firebase….</ul><p>因此請注意 FB/Google 數據統計在 iOS 17 後可能會大幅流失，因為未詢問權限、不允許追蹤，會完全收不到數據；根據以往實作詢問追蹤的成效，大約有 7 成的使用者都會按不允許。</p><ul><li>開發者自己的打 API 送 Tracking 方式，蘋果也說需要同上列管 Tracking Domain<li>如果 Tracking Domain 跟 API Domain 相同則需分開一個獨立的 Tracking Domain (e.g. api.zhgchg.li -&gt; tracking.zhgchg.li)<li>目前暫時無法知道蘋果如何控管開發者自己的 Tracking，用 XCode 15 測試自家的沒有被發現。<li>不清楚官方是否會用工具檢測行為、或是審核人員人工查看</ul><blockquote><p>fingerprinting 依然禁止。</p></blockquote><h3 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>這次很榮幸能參加 <a href="https://mopcon.org/2021/schedule/2021028" target="_blank">MOPCON 演講</a> ，但因疫情關係改成線上直播形式蠻遺憾的，無法認識更多新朋友；這次演講的主題是「iOS 隱私與便利的前世今生」主要想跟大家分享 Apple 關於隱私的原則及這些年來 iOS 基於這些隱私原則所做的功能調整。</p><p><a href="/assets/9a05f632eba0/1*gYucHdBa4tyd9lX5eyr08w.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*gYucHdBa4tyd9lX5eyr08w.webp" alt="[iOS 隱私與便利的前世今生](https://mopcon.org/2021/schedule/2021028){:target=&quot;_blank&quot;} | [Pinkoi, We Are Hiring!](https://www.pinkoi.com/about/careers){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NzIiIGhlaWdodD0iNTY4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="https://mopcon.org/2021/schedule/2021028" target="_blank">iOS 隱私與便利的前世今生</a> | <a href="https://www.pinkoi.com/about/careers" target="_blank">Pinkoi, We Are Hiring!</a></p><p><strong>相信這幾年開發者或是 iPhone 用戶應該都對以下功能調整並不陌生：</strong></p><p><a href="/assets/9a05f632eba0/1*XyJpqYVWh1PNoMAzWtDnQQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*XyJpqYVWh1PNoMAzWtDnQQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAxIiBoZWlnaHQ9IjI2NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li><strong>iOS ≥ 13：</strong> 所有支援第三方登入的 App 都需要多實作 Sign in with Apple，否則無法成功上架 App<li><strong>iOS ≥ 14：</strong> 剪貼簿存取警告<li><strong>iOS ≥ 14.5：</strong> IDFA 必須允許後才能存取，幾乎等同封殺 IDFA<li><strong>iOS ≥ 15</strong> ：Private Relay，使用 Proxy 隱藏使用者原始 IP 位址<li><strong>iOS ≥ 16</strong> ：剪貼簿存取需使用者授權<li>….還有很多很多，會在文章後跟大家分享</ul><h4 id="why"><span class="me-2">Why?</span><a href="#why" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>如果不清楚 Apple 的隱私原則，甚至會覺得為何 Apple 這幾年不斷地在跟開發者、廣告商作對？很多大家用得很習慣的功能都被封鎖了。</p><p>再追完「 <a href="https://developer.apple.com/videos/play/wwdc2021/10085/" target="_blank">WWDC 2021 — Apple’s privacy pillars in focus</a> 」及「 <a href="https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf" target="_blank">Apple privacy white paper — A Day in the Life of Your Data</a> 」兩份文件後如夢初醒，原來我們早已在不知不覺中洩漏許多個人隱私並且讓廣告商或社群媒體賺的盆滿缽滿，在我們的日常生活中已經達到無孔不入的境界。</p><p>參考 <a href="https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf" target="_blank">Apple privacy white paper</a> 改寫，以下以虛構人物哈里為例；為大家講述隱私是如何洩漏的及可能造成的危害。</p><p><a href="/assets/9a05f632eba0/1*f0F0ypi2F-6_yOTsBmynhg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*f0F0ypi2F-6_yOTsBmynhg.webp" alt="首先是哈里 iPhone 上的使用紀錄。" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5OTgiIGhlaWdodD0iNTE1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>首先是哈里 iPhone 上的使用紀錄。</p><p><strong>左邊是網頁瀏覽紀錄：</strong> 可以看到分別造訪了跟車子、iPhone 13、精品有關的網站</p><p><strong>右邊是已安裝的 App：</strong> 有投資、旅遊、社交、購物、還有嬰兒攝影機…這些 App</p><p><a href="/assets/9a05f632eba0/1*u7PRvQK9fyu7iLLdZFvAyQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*u7PRvQK9fyu7iLLdZFvAyQ.webp" alt="哈里的線下人生" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MjkiIGhlaWdodD0iNDM3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>哈里的線下人生</p><p>線下活動會留下記錄的地方例如：發票、信用卡刷卡紀錄、行車記錄器…等等</p><h4 id="組合"><span class="me-2">組合</span><a href="#組合" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>你可能會想說，我瀏覽不同的網站、裝不同的 App (甚至根本沒登入)、再到線下活動怎麼可能有機會讓某個服務串起所有資料？</p><p><strong>答案是：就技術手段是有的，而且「可能」或是「已經」局部發生。</strong></p><p><a href="/assets/9a05f632eba0/1*t6OJvmXAMsurcn6XuDuGng.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*t6OJvmXAMsurcn6XuDuGng.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5ODYiIGhlaWdodD0iNDc0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>如上圖所示：</p><ul><li>未登入時網站與網站之間可以透過 Third-Party Cookie、IP Address + 裝置資訊算出的 Fingerprint 在不同網站中識別出同個瀏覽者。<li>登入時網站與網站之間可以透過註冊資料，如姓名、生日、電話、Email、身分證字號…串起你的資料<li>App 與 App 之間可以透過取得 Device UUID 在不同 App 中識別出同個使用者、URL Scheme 嗅探手機上其他已安裝的 App、Pasteboard 在 App 與 App 間傳遞資料；另外一樣也可在使用者登入後用註冊資料串起資料。<li>App 與網站之間同樣可以用 Third-Party Cookie、Fingerprint、Pasteboard 傳遞資料<li>線上與線下活動的串連可能發生在，銀行端蒐集信用卡消費記錄、記帳 App、發票蒐集 App、行車記錄器 App…等等，都有機會把線下活動與線上資料串接在一起</ul><blockquote><p><strong><em>事實證明，技術上是可行的；那究竟躲在所有網站、App 之後的第三方是誰呢？</em></strong></p></blockquote><p>諸如家大業大的 Facebook、Google 都靠個人廣告獲得不少收益；許多網站、App 也都會串接 Facebook、Google SDK…所以一切都很難說，這還是看得到，更多時候我們根本不知道網站、App 用了哪些第三方廣告、數據蒐集服務，在背後偷偷紀錄著我們的一舉一動。</p><p><strong>我們假設哈里所有的活動，背後都偷藏著同一個第三方在默默收集他的資料，那麼在它的眼裡，哈里可能的輪廓如下：</strong></p><p><a href="/assets/9a05f632eba0/1*V1q2Ju6ItSSy80NvScD16Q.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*V1q2Ju6ItSSy80NvScD16Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NjMiIGhlaWdodD0iNTcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>左邊是個人資料，可能來自網站註冊資料、外送資料；右邊是依照哈里的活動紀錄打上的行為、興趣標籤。</p><p><a href="/assets/9a05f632eba0/1*G71DeU1FmX75U2HGaDy-yg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*G71DeU1FmX75U2HGaDy-yg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MDYiIGhlaWdodD0iNTI1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>在它眼中的哈里，可能比哈里還更了解自己；這些資料用在社交媒體，可以讓使用者更加沈淪；用在廣告上，可以刺激哈里過度消費或是營造鳥籠效應(EX: 推薦你買新褲子，你買了褲子就會買合適的鞋子來穿搭，買了鞋子就會再買襪子…沒完沒了)。</p><p><strong>如果你覺得以上已經夠可怕了，還有更可怕的：</strong></p><p><a href="/assets/9a05f632eba0/1*OctTSsyFfaZc1OdaBjLN5g.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*OctTSsyFfaZc1OdaBjLN5g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NDAiIGhlaWdodD0iMzAzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>有你的個人資料又知道你的經濟狀況…要做惡的話不敢想像，例如：綁架、竊盜…</p><h4 id="目前的隱私保護方式"><span class="me-2">目前的隱私保護方式</span><a href="#目前的隱私保護方式" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>法律規範 (EX: SGS-BS10012 個資驗證、CCPA、GDPR…)<li>隱私權協議、去識別化</ul><p>主要還是透過法規約束；很難確保服務 100% 隨時遵守、網路上惡意程式也很多也難保證服務不會被駭造成資料外洩；總之還是「 <strong>要做惡技術上都可行，單靠法規跟企業良心約束</strong> 」。</p><p>除此之外更多時候，我們是「被迫」接受隱私權條款的，無法針對個別隱私授權，要馬整個服務都不用，要馬就是用但要接受全部隱私權條款；還有隱私條款不透明，不知道會怎麼被收集及應用，更不知道背後有沒有還躲著一個第三方在你根本不知道情況下蒐集你的資料。</p><p>另外 Apple 還有提到關於未成年人的個人隱私，多半也都在監護人未同意的情況下被服務蒐集。</p><h3 id="apples-privacy-principles"><span class="me-2">Apple’s privacy principles</span><a href="#apples-privacy-principles" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>知道個人隱私洩露帶來的危害之後，來看一下蘋果的隱私原則。</p><p><a href="/assets/9a05f632eba0/1*3GymtGipI60YZ8qSogRk1A.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*3GymtGipI60YZ8qSogRk1A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDk5IiBoZWlnaHQ9IjQ2NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>節錄自 Apple Privacy White Paper 蘋果的理想不是完全封殺而是平衡，例如這幾年很多人都會直接裝 AD Block 完全阻斷廣告，這也不是蘋果想看到的；因為如果完全斷開就很難做出更好的服務。</p><p>賈伯斯在 2010 年的 <a href="https://money.cnn.com/2018/03/27/technology/steve-jobs-mark-zuckerberg-privacy-2010/index.html" target="_blank">All Things Digital Conference</a> 說過：</p><blockquote><p><em>我相信人是聰明的，有些人會比其他人更想分享數據，每次都去問他們，讓他們煩到叫你不要再問他們了，讓他們精準的知道你要怎麼使用他們的資料。 —</em> translate by <a href="https://medium.com/u/72361fccaa43" target="_blank">Chun-Hsiu Liu</a></p></blockquote><p><a href="/assets/9a05f632eba0/1*i7LbId4pPABbu5GkUXZeHw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*i7LbId4pPABbu5GkUXZeHw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTUwIiBoZWlnaHQ9IjU3MSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><blockquote><p><em>蘋果相信隱私是基本人權</em></p></blockquote><h4 id="蘋果的四個隱私原則"><span class="me-2"><strong>蘋果的四個隱私原則：</strong></span><a href="#蘋果的四個隱私原則" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>Data Minimization：只取用你需要的資料<li>On-Device Processing：Apple 基於強大的處理器晶片，如非必要，個人隱私相關資料應在本地執行<li>User Transparency and Control：讓使用者了解哪些隱私資訊被蒐集？被用在哪？另外也要讓使用者能針對個別隱私資料分享開關控制<li>Security：確保資料儲存、傳遞的安全</ul><h3 id="ios-基於保護個人隱私的歷年功能調整"><span class="me-2">iOS 基於保護個人隱私的歷年功能調整</span><a href="#ios-基於保護個人隱私的歷年功能調整" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>了解到個人隱私洩露的危害及蘋果的隱私原則後，回到技術手段上；我們可以來看看 iOS 這些年來針對保護個人隱私的功能調整有哪些。</p><h3 id="網站與網站之間"><span class="me-2">網站與網站之間</span><a href="#網站與網站之間" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>前面有提到</p><h4 id="第一種方法可以用-third-party-cookie-跨網站串起瀏覽者資料"><span class="me-2"><strong>第一種方法可以用 Third-Party Cookie 跨網站串起瀏覽者資料：</strong></span><a href="#第一種方法可以用-third-party-cookie-跨網站串起瀏覽者資料" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><strong><em>🈲，在 iOS &gt;= 11 後的 Safari 都實裝了 Intelligent Tracking Prevention ( <a href="https://webkit.org/blog/7675/intelligent-tracking-prevention/" target="_blank">WebKit</a> )</em></strong></p></blockquote><p>預設啟用，瀏覽器會主動辨識用於追蹤、廣告的第三方 Cookie 加以阻擋；並且在每年的 iOS 版本不斷地加強辨識程式防止遺漏。</p><p><a href="/assets/9a05f632eba0/1*qlan3n0rzMDRpKsCBXnfSQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*qlan3n0rzMDRpKsCBXnfSQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NTQiIGhlaWdodD0iMzMwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>透過 Third-Party Cookie 跨網站追蹤使用者這條路，在 Safari 上基本上已經行不通了。</p><h4 id="第二種方法是用-ip-address--裝置資訊算出的-fingerprint-在不同網站中識別出同個瀏覽者"><span class="me-2"><strong>第二種方法是用 IP Address + 裝置資訊算出的 Fingerprint 在不同網站中識別出同個瀏覽者：</strong></span><a href="#第二種方法是用-ip-address--裝置資訊算出的-fingerprint-在不同網站中識別出同個瀏覽者" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><strong><em>🈲，iOS &gt;= 15 Private Relay</em></strong></p></blockquote><p>尤其在 Third-Party Cookie 被禁之後，有越來越多服務採用這個方法，蘋果也知道…所幸在 iOS 15 連 IP 資訊都給你混淆了！</p><p><a href="/assets/9a05f632eba0/1*4xwPyZo24dZL_B6vuGwbMw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*4xwPyZo24dZL_B6vuGwbMw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDQ4IiBoZWlnaHQ9IjU3OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Private Relay 服務會將使用者的原始請求先隨機送到蘋果的 Ingress Proxy，再由蘋果隨機分派到合作 CDN 的 Egress Proxy，再由 Egress Proxy 去請求目標網站。</p><p>整個流程都經過加密只有自己 iPhone 的晶片解的開，也只有自己同時知道 IP 與請求的目標網站；蘋果的 Ingress Proxy 只知道你的 IP、CDN 的 Egress Proxy 只知道蘋果的 Ingress Proxy IP 跟請求的目標網站、網站只知道 CDN 的 Egress Proxy IP。</p><p>從應用角度來看，同一個地區的所有裝置都會使用同個共享的 CDN 的 Egress Proxy IP 來請求目標網站；也因此網站端無法再用 IP 當成 Fingerprint 資訊。</p><p>技術細節可參考「 <a href="https://developer.apple.com/videos/play/wwdc2021/10096/" target="_blank">WWDC 2021 — Get ready for iCloud Private Relay</a> 」。</p><h4 id="補充-private-relay"><span class="me-2"><strong>補充 Private Relay：</strong></span><a href="#補充-private-relay" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>Apple/CDN Provider 都沒有完整 Log 可追朔： 查了下這樣蘋果怎麼防止被用在惡意的地方，沒找到答案；可能就跟蘋果也不會幫 FBI 解鎖罪犯 iPhone 一樣意思吧；隱私是所有人的基本人權。<li>預設開啟，不需特別連接<li>不影響速度、效能<li><strong>IP 會保證在同個國家和時區</strong> （使用者可選模糊城市）、無法指定 IP<li><strong>只對部分流量有效</strong> iCloud+ 用戶：所有 Safari 上的流量 + App 中的 Insecure HTTP Request 一般用戶：僅對 Safari 上網站安裝的第三方追蹤工具有效<li><strong>官方有提供 <a href="https://mask-api.icloud.com/egress-ip-ranges.csv" target="_blank">CDN Egress IP List</a> 供網站開發者辨認 (不要誤 Blocking Egress IP，會造成群體傷害)</strong><li><a href="https://developer.apple.com/support/prepare-your-network-for-icloud-private-relay/" target="_blank">網路管理者可 Ban 掉 DNS 對所有連接者停用 Private Relay</a><li>iPhone 可針對特定網路連線停用 Private Relay<li>連接 VPN/ 掛 Proxy 時會停用 Private Relay<li>目前還在 Beta 版 (2021/10/24)，啟用後部分服務可能會連不上 (中國地區、中國版抖音)或是服務會頻繁被登出</ul><p><a href="/assets/9a05f632eba0/1*Abc_bFGsL-dUeUSVeAVBxg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*Abc_bFGsL-dUeUSVeAVBxg.webp" alt="Private Relay 實測圖" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU3NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Private Relay 實測圖</p><ul><li>圖一 未啟用：原始 IP 位址<li>圖二 啟用 Private Relay — 保持一般位置：IP變成 CDN IP 但依然在 Taipei<li>圖三 啟用 Private Relay — 使用國家和時區（擴大模糊）：IP變成 CDN IP &amp; 變在 Taichung，但依然還是同個時區和國家</ul><p><a href="/assets/9a05f632eba0/1*ZDX3oYcoHwSh0Lkb1g1X_g.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*ZDX3oYcoHwSh0Lkb1g1X_g.webp" alt="[測試專案](https://github.com/zhgchgli0718/PrivacyTest){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjIwMTUiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="https://github.com/zhgchgli0718/PrivacyTest" target="_blank">測試專案</a></p><p>App 可以用 <code class="language-plaintext highlighter-rouge">URLSessionTaskMetrics</code> 分析 Private Relay 的連接紀錄。</p><p><a href="/assets/9a05f632eba0/1*aMr5w1sZN-ewFEtcNxLcPA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*aMr5w1sZN-ewFEtcNxLcPA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NDUiIGhlaWdodD0iMzM2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>扯遠了，因此用 IP 位址得到 Fingerprint 去辨識使用者的方法，也無法再使用了。</p><h3 id="app-與-app-之間"><span class="me-2">App 與 App 之間</span><a href="#app-與-app-之間" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="第一種方式是早期可以直接存取-device-uuid"><span class="me-2"><strong>第一種方式是早期可以直接存取 Device UUID：</strong></span><a href="#第一種方式是早期可以直接存取-device-uuid" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><strong><em>🈲，iOS &gt;= 7 禁止存取 Device UUID,</em></strong></p></blockquote><blockquote><p><strong><em>使用 IDentifierForAdvertisers/IDentifierForVendor 取代</em></strong></p></blockquote><p><a href="/assets/9a05f632eba0/1*XYD2LWx6gZ5c-iEmm_G2pQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*XYD2LWx6gZ5c-iEmm_G2pQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjUyOCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li><strong>IDFV：</strong> 同個開發者帳號下的所有 App 能拿到同一個 UUID； <a href="/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%9D%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AD%98%E5%88%A5%E8%88%87idfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/">搭配 KeyChain 也是目前使用者 UUID 的辨識方法</a> 。<li><strong>IDFA：</strong> 不同開發者、不同 App 之間能拿到相同的 UUID，但是 IDFA 使用者可以重設或禁用。</ul><blockquote><p><strong><em>🈲，iOS &gt;= 14.5 IDentifierForAdvertisers 需詢問後才能使用</em></strong></p></blockquote><p><a href="/assets/9a05f632eba0/1*KCdE18ucjjUnwPzb7gpa5A.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*KCdE18ucjjUnwPzb7gpa5A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQ3OSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>iOS 14.5 後蘋果加強對 IDFA 的取用限制，App 需要先詢問使用者允不允許追蹤後才能取得 IDFA UUID；未詢問、未允許的情況下都拿不到值。</p><p>市調公司初步調查數據大約有 7成的使用者(最新數據有人說 9 成)都不允許追蹤取用 IDFA，所以大家才會說 IDFA 已死！</p><p><a href="/assets/9a05f632eba0/1*Dz-GYDKsdXQal_PausrHMA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*Dz-GYDKsdXQal_PausrHMA.webp" alt="[測試專案](https://github.com/zhgchgli0718/PrivacyTest){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjgzOCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://github.com/zhgchgli0718/PrivacyTest" target="_blank">測試專案</a></p><h4 id="app-與-app-之間互通有無的第二種方法是-url-scheme"><span class="me-2"><strong>App 與 App 之間互通有無的第二種方法是 URL Scheme：</strong></span><a href="#app-與-app-之間互通有無的第二種方法是-url-scheme" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>iOS App 可以使用 <code class="language-plaintext highlighter-rouge">canOpenURL</code> 去探測使用者手機上有沒有裝某個 App。</p><blockquote><p><strong><em>🈲，iOS &gt;= 9 需先在 App 內設定才能使用；不能任意探測。</em></strong></p></blockquote><p><a href="/assets/9a05f632eba0/1*eapZObP6QN6-g_Z1Nd7hZA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*eapZObP6QN6-g_Z1Nd7hZA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODgiIGhlaWdodD0iNDc3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><strong><em>iOS ≥ 15 新增限制，最多只能設定 50 組其他 App 的 Scheme。</em></strong></p></blockquote><blockquote><p><em><code class="language-plaintext highlighter-rouge">Apps linked on or after iOS 15 are limited to a maximum of 50 entries in the LSApplicationQueriesSchemes key.</code></em></p></blockquote><h3 id="網站-與-app-之間"><span class="me-2">網站 與 App 之間</span><a href="#網站-與-app-之間" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>同前文所述</strong></p><h4 id="第一種方法也是透過-cookie-來串接"><span class="me-2"><strong>第一種方法也是透過 Cookie 來串接：</strong></span><a href="#第一種方法也是透過-cookie-來串接" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>早期 iOS Safari 的 Cookie 跟 App WebView 的 Cookie 是可以互通的，可以藉此串起 網站與 App 之間的資料。</p><p>做法可以在 App 畫面上偷塞一個 1 pixel 的 WebView 元件在背景偷偷讀取 Safari Cookie 回來用。</p><blockquote><p><strong><em>🈲，iOS &gt;= 11 禁止 Safari 和 App WebView 間共用 Cookie</em></strong></p></blockquote><p><a href="/assets/9a05f632eba0/1*sCY5ejSzJjNLDZucbsWV8w.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*sCY5ejSzJjNLDZucbsWV8w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMzkiIGhlaWdodD0iMjA3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>如果有需要取得 Safari 的 Cookie (EX: 直接使用網站 Cookie 登入)，可以使用 <code class="language-plaintext highlighter-rouge">SFSafariViewController</code> 元件取得；但此元件強迫跳提示視窗且無法客製化，確保使用者不會在無意間被偷取 Cookie。</p><h4 id="第二種方法是同網站與網站用ip-address--裝置資訊算出的-fingerprint-在不同網站中識別出同個瀏覽者"><span class="me-2"><strong>第二種方法是同網站與網站用IP Address + 裝置資訊算出的 Fingerprint 在不同網站中識別出同個瀏覽者：</strong></span><a href="#第二種方法是同網站與網站用ip-address--裝置資訊算出的-fingerprint-在不同網站中識別出同個瀏覽者" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>同前述， iOS ≥ 15 已被 Private Relay 混淆。</p><h4 id="最後一種也是唯一還能的方法--pasteboard-"><span class="me-2"><strong>最後一種也是唯一還能的方法 — Pasteboard</strong> ：</span><a href="#最後一種也是唯一還能的方法--pasteboard-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>使用剪貼簿串接跨平台的資訊，因為蘋果不可能禁用剪貼簿跨 App 使用，但是它可以提示使用者。</p><blockquote><p><strong><em>⚠️ iOS &gt;= 14 新增剪貼簿存取警告</em></strong></p></blockquote><p><a href="/assets/9a05f632eba0/1*TdsFfW6axWx3nbB1Thaucw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*TdsFfW6axWx3nbB1Thaucw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgzIiBoZWlnaHQ9IjQwNiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><h4 id="️-20220722-update-ios-16-upcoming-changes"><span class="me-2">⚠️ 2022/07/22 Update: iOS 16 Upcoming Changes</span><a href="#️-20220722-update-ios-16-upcoming-changes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>iOS ≥ 16 開始非使用者主動操作貼上動作，App 主動讀取剪貼簿的行為會跳出詢問視窗，使用者需要按允許，App 才能讀取到剪貼簿資訊。</p><p><a href="/assets/9a05f632eba0/1*2LpAXuZduLStmS2tRVdcXQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*2LpAXuZduLStmS2tRVdcXQ.webp" alt="[UIPasteBoard’s privacy change in iOS 16](https://sarunw.com/posts/uipasteboard-privacy-change-ios16/){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjAiIGhlaWdodD0iMTkzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="https://sarunw.com/posts/uipasteboard-privacy-change-ios16/" target="_blank">UIPasteBoard’s privacy change in iOS 16</a></p><h4 id="使用-pasteboard-實現-deferred-deep-link-延遲深度連結實作"><span class="me-2"><strong>使用 Pasteboard 實現</strong> Deferred Deep Link 延遲深度連結實作</span><a href="#使用-pasteboard-實現-deferred-deep-link-延遲深度連結實作" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><strong><em>這邊要多提一下關於 iOS 14 剪貼簿的隱私恐慌，詳細可參考我之前的文章「 <a href="/posts/zrealm-dev/ios-14-%E5%89%AA%E8%B2%BC%E7%B0%BF%E9%9A%B1%E7%A7%81%E5%95%8F%E9%A1%8C-%E6%8F%AD%E9%9C%B2-app-%E8%AE%80%E5%8F%96%E5%8E%9F%E5%9B%A0%E8%88%87%E5%AE%89%E5%85%A8%E9%A2%A8%E9%9A%AA%E8%A7%A3%E6%9E%90-8a04443024e2/">iOS 14 剪貼簿竊資恐慌，隱私與便利的兩難</a> 」</em></strong></p></blockquote><p><strong>雖然不能排除讀取剪貼簿是想竊資，但更多時候是我們 App 需要提供更好的使用體驗：</strong></p><p><a href="/assets/9a05f632eba0/1*lZMyzL6Pmy06lng8PWMk0w.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*lZMyzL6Pmy06lng8PWMk0w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDM1IiBoZWlnaHQ9IjQ4OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>在沒有實現 Deferred Deep Link 延遲深度連結之前，當我們引導使用者從網站上去安裝 App，安裝完成後打開 App 默認只會打開首頁；更好的使用體驗應該是打開 App 回復到網頁上停留的頁面的 App 對應頁。</p><p>要實現這個功能就需要 網站與 App 之間有機會串起資料，如文章前述的其他方法都已被封禁，目前僅能透過剪貼簿做為資訊儲存媒介（如上圖）。</p><p><a href="/assets/9a05f632eba0/1*jVytiPiHhaubihaHSDYBNA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*jVytiPiHhaubihaHSDYBNA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDA3IiBoZWlnaHQ9IjU1MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>包含 Firebase Dynamic Links、Branch.io 最新版(之前 Branch.io 用 IP Adrees Fingerprint 來實現)也都使用剪貼簿做 Deferred Deep Link。</p><p>實作可參考我之前的文章： <a href="/posts/zrealm-dev/ios-deferred-deep-link-%E5%BB%B6%E9%81%B2%E6%B7%B1%E5%BA%A6%E9%80%A3%E7%B5%90%E5%AF%A6%E4%BD%9C-swift-%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B%E8%88%87%E6%8A%80%E5%B7%A7%E8%A7%A3%E6%9E%90-b08ef940c196/">iOS Deferred Deep Link 延遲深度連結實作(Swift)</a></p><blockquote><p><em>一般情況下如果是為了要做到 Deferred Deep Link 僅會在第一次打開 App、重新返回 App 那一刻去讀取剪貼簿資訊；不會在使用中或奇怪的時間點讀取，這一點值得注意。</em></p></blockquote><p>更好的做法是先用 <code class="language-plaintext highlighter-rouge">UIPasteboard.general.detectPatterns</code> 探測剪貼簿的資料是不是我們需要的，是在讀取。</p><p><a href="/assets/9a05f632eba0/1*7Kyfq0LT1mkPAFxwkmpMRQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*7Kyfq0LT1mkPAFxwkmpMRQ.webp" alt="[測試專案](https://github.com/zhgchgli0718/PrivacyTest){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjM1MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://github.com/zhgchgli0718/PrivacyTest" target="_blank">測試專案</a></p><p>iOS ≥ 15 之後優化了剪貼簿提示，如果是使用者自己的貼上動作，就不會再跳提示了！</p><h3 id="廣告成效解決方案"><span class="me-2">廣告成效解決方案</span><a href="#廣告成效解決方案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>同前文所說的蘋果隱私原則，希望的是平衡而不是完全阻斷使用者與服務。</p><h4 id="網站與網站的廣告成效統計"><span class="me-2"><strong>網站與網站的廣告成效統計：</strong></span><a href="#網站與網站的廣告成效統計" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Safari 上相對於阻擋 Intelligent Tracking Prevention 的功能就是 Private Click Measurement ( <a href="https://webkit.org/blog/11529/introducing-private-click-measurement-pcm/" target="_blank">WebKit</a> ) 用於在去除個人隱私的情況下統計廣告成效。</p><p><a href="/assets/9a05f632eba0/1*a9DibQQDW9QgiPxt3Y--SQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*a9DibQQDW9QgiPxt3Y--SQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NzIiIGhlaWdodD0iNDI2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>具體流程如上圖，使用者在 A 網站點擊廣告前往 B 網站時，會在瀏覽器上紀錄一個 Source ID (識別同個使用者用) 與 Destination 資訊 (目標網站)；當使用者在 B 網站上完成轉換也會紀錄一個 Trigger ID (代表什麼動作) 在瀏覽器上。</p><p><a href="/assets/9a05f632eba0/1*n2PwE4AMOPAqvTI-FcNdRQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*n2PwE4AMOPAqvTI-FcNdRQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTIiIGhlaWdodD0iMjgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>這兩個資訊會合併起來在隨機 24 ~ 48 小時後傳送到 A 和 B 網站得到廣告成效。</p><p>一切都是 on-device safari 自行處理、防範惡意點擊也是由 Safari 提供保護。</p><h4 id="app-與-網站或-app-之間的廣告成效統計"><span class="me-2"><strong>App 與 網站或 App 之間的廣告成效統計：</strong></span><a href="#app-與-網站或-app-之間的廣告成效統計" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*jUObXccBCf4dB7ZU_yn-EQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*jUObXccBCf4dB7ZU_yn-EQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NDgiIGhlaWdodD0iNDg0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可以使用 <a href="https://developer.apple.com/documentation/storekit/skadnetwork" target="_blank">SKAdNetwork</a> (需向蘋果申請加入) 類似 Private Click Measurement 方式，不再展開贅述。</p><blockquote><p><em>可以多提一下，蘋果並非閉門造車； <a href="https://developer.apple.com/documentation/storekit/skadnetwork" target="_blank">SKAdNetwork</a> 目前來到 2.0 版本，蘋果持續收集開發者廣告商的需求綜合個人隱私控管，持續優化 SDK 功能。</em></p></blockquote><blockquote><p><em>這邊真心許願 Deferred Deep Link 能用 SDK 串起，因為我們是為了提升使用者體驗，沒有要侵犯個人隱私的意思。</em></p></blockquote><p>技術細節可參考「 <a href="https://developer.apple.com/videos/play/wwdc2021/10033/" target="_blank">WWDC 2021 — Meet privacy-preserving ad attribution</a> 」。</p><h3 id="cross-platform"><span class="me-2">Cross-Platform</span><a href="#cross-platform" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/9a05f632eba0/1*fWuWfmUzOZ2w2iI1FrzwRA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*fWuWfmUzOZ2w2iI1FrzwRA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjUiIGhlaWdodD0iNTgiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><blockquote><p><strong><em>iOS ≥ 13 所有支援第三方登入的 App 都需要多實作 Sign in with Apple，否則無法成功上架 App</em></strong></p></blockquote><ul><li>姓名可自行編輯<li>可隱藏真實 Email (使用蘋果產的虛擬 Email 代替)<li>使用者可要求刪除帳號 <a href="https://developer.apple.com/news/?id=mdkbobfo" target="_blank"><strong>2022/01/31 前 App 須完成實作</strong></a> 🆕</ul><p><a href="/assets/9a05f632eba0/1*AzjnZmNm6eqG72bVw8iKag.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*AzjnZmNm6eqG72bVw8iKag.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNDgiIGhlaWdodD0iNzAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><blockquote><p><strong><em>iOS &gt;= 15 iCloud+ 用戶支援 Hide My Email</em></strong></p></blockquote><ul><li>支援 Safari、App 所有信箱欄位<li>使用者可到設定中任意產生虛擬信箱</ul><p>同 Sign in with Apple 使用蘋果產的虛擬 Email 代替真實信箱，在收到信後蘋果會轉發到你的真實信箱中，藉此保護你的信箱資訊。</p><p>類似 10 分鐘信箱，但又更強大；只要不停用，那組虛擬信箱地址就是你永久持有；也沒有新增上限，可以無限新增，不確定蘋果如何防止濫用。</p><p><a href="/assets/9a05f632eba0/1*g9-kZBAG13Hx1bq196j8Qg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*g9-kZBAG13Hx1bq196j8Qg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NTQiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="/assets/9a05f632eba0/1*TD7XRAexz8SOJylrVyQUHw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*TD7XRAexz8SOJylrVyQUHw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTI1IiBoZWlnaHQ9IjI0MzYiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="/assets/9a05f632eba0/1*U2MC_Qp1ZwvJkVHuZ2zcpA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*U2MC_Qp1ZwvJkVHuZ2zcpA.webp" alt="設定 -&gt; Apple ID -&gt; 隱藏我的電子郵件" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTI1IiBoZWlnaHQ9IjI0MzYiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>設定 -&gt; Apple ID -&gt; 隱藏我的電子郵件</p><h3 id="others"><span class="me-2">Others</span><a href="#others" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="app-privacy-details-on-the-app-store"><span class="me-2"><strong>App privacy details on the App Store：</strong></span><a href="#app-privacy-details-on-the-app-store" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*oWsbWGst_MP-J0OMplxskQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*oWsbWGst_MP-J0OMplxskQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTI1IiBoZWlnaHQ9IjE3MDMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><blockquote><p><a href="https://developer.apple.com/app-store/user-privacy-and-data-use/" target="_blank"><em>App 必需在 App Store 上說明使用者哪些資料會被追蹤及如何應用</em></a> <em>。</em></p></blockquote><p>詳細說明可參考：「 <a href="https://developer.apple.com/app-store/app-privacy-details/" target="_blank">App privacy details on the App Store</a> 」。</p><h4 id="個人隱私資料細微控制"><span class="me-2"><strong>個人隱私資料細微控制：</strong></span><a href="#個人隱私資料細微控制" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*qZF5DvQx6RTIggWS7Be4Bw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*qZF5DvQx6RTIggWS7Be4Bw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MjMiIGhlaWdodD0iMjkwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>iOS ≥ 14 開始，位置及相片存取可以更細微的控制，可以只授權取用某幾張相片、只允許 App 使用中存取位置。</em></p></blockquote><p><a href="/assets/9a05f632eba0/1*Y95go0uE0DC5lqAAJ9N96Q.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*Y95go0uE0DC5lqAAJ9N96Q.webp" alt="[測試專案](https://github.com/zhgchgli0718/PrivacyTest){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjUxMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://github.com/zhgchgli0718/PrivacyTest" target="_blank">測試專案</a></p><blockquote><p><em>iOS ≥ 15，增加 <a href="https://developer.apple.com/documentation/corelocationui/cllocationbutton" target="_blank">CLLocationButton</a> 按鈕提升使用者體驗，可以在未詢問/未同意情況下透過使用者點擊取得當前位置，此按鈕無法客製化、只能透過使用者操作觸發。</em></p></blockquote><h4 id="個人隱私取用提示"><span class="me-2"><strong>個人隱私取用提示：</strong></span><a href="#個人隱私取用提示" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*XP5mELBBaaUMI8IixwUCcg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*XP5mELBBaaUMI8IixwUCcg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzODEiIGhlaWdodD0iMTMxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>iOS ≥ 15，增加個人隱私功能的取用提示，如：剪貼簿、位置、相機、麥克風</em></p></blockquote><h4 id="app-隱私取用報告"><span class="me-2"><strong>App 隱私取用報告：</strong></span><a href="#app-隱私取用報告" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>iOS ≥ 15，可以匯出近 7 天手機所有 App 的隱私相關功能取用、網路活動的紀錄報告。</em></p></blockquote><ol><li>因紀錄報告檔案是 <code class="language-plaintext highlighter-rouge">.ndjson</code> 純文字檔，直接查看不易；可以先在 App Store 下載「 <a href="https://apps.apple.com/tw/app/%E9%9A%B1%E7%A7%81%E6%B4%9E%E8%A6%8B-app-privacy-insights/id1575583991" target="_blank">隱私洞見</a> 」App 用來查看報告<li>到設定 -&gt; 隱私權 -&gt; 最下方「紀錄 App 活動」-&gt; 啟用紀錄 App 活動<li>儲存 App 活動<li>選擇「匯入到 <a href="https://apps.apple.com/tw/app/%E9%9A%B1%E7%A7%81%E6%B4%9E%E8%A6%8B-app-privacy-insights/id1575583991" target="_blank">隱私洞見</a> 」<li>匯入完成後即可檢視隱私報告</ol><p><a href="/assets/9a05f632eba0/1*7o4UN1Jv-zKjNRU9TKASiQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*7o4UN1Jv-zKjNRU9TKASiQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTI1IiBoZWlnaHQ9IjI0MzYiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="/assets/9a05f632eba0/1*rshLnUlppBj1OF5mvTZZHw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*rshLnUlppBj1OF5mvTZZHw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTI1IiBoZWlnaHQ9IjI0MzYiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="/assets/9a05f632eba0/1*ZRL7V1Hxu7r__bljiohpEw.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*ZRL7V1Hxu7r__bljiohpEw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTI1IiBoZWlnaHQ9IjI0MzYiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>可以看到同 <a href="https://technews.tw/2021/10/12/china-app-reads-iphone-user-album-data/" target="_blank">新聞</a> 所說，Wechat 的確會再啟動 App 時在背景偷偷讀取相片資訊。</p><blockquote><p><strong><em>另外我也多抓到幾個中國 App 也會偷做事，直接在設定全部禁用它們的權限了。</em></strong></p></blockquote><blockquote><p><strong><em>要不是有這個功能讓他們見光死，還不知道我們的資料會被竊取多久！</em></strong></p></blockquote><h3 id="recap"><span class="me-2">Recap</span><a href="#recap" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="apples-privacy-principles-1"><span class="me-2">Apple’s privacy principles</span><a href="#apples-privacy-principles-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*YUtG3sEQMvu8433VD5j8WA.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*YUtG3sEQMvu8433VD5j8WA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTA0IiBoZWlnaHQ9IjQ5MSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>了解完歷年對於隱私功能的調整後，我們回頭來看蘋果的隱私原則：</p><ul><li>Data Minimization：蘋果用技術手段限制取用需要的資料<li>On-Device Processing：隱私資料不上傳雲端，一切都在本地處理；如 Safari Private Click Measurement、蘋果的 <a href="/posts/zrealm-dev/ios-12-coreml-%E6%A9%9F%E5%99%A8%E5%AD%B8%E7%BF%92%E6%96%87%E5%AD%97%E5%88%86%E9%A1%9E-%E8%87%AA%E8%A8%82%E6%A8%A1%E5%9E%8B%E8%A8%93%E7%B7%B4%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8-793bf2cdda0f/">機器學習 SDK CoreML</a> 也都是在本地執行、iOS ≥ 15 的 Siri/相機原況文字功能、Apple Map、News、相片識別功能…等等<li>User Transparency and Control：新增的各種隱私存取提示、紀錄報告及隱私細微控制功能<li>Security：資料儲存傳遞的安全，不濫用 UserDefault、iOS 15 可以直接用 CryptoKit 來做點對點加解密、Private Realy 的傳輸安全</ul><h4 id="破碎資料"><span class="me-2">破碎資料</span><a href="#破碎資料" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*H0dYwwbNMT08_REzs4SUBg.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*H0dYwwbNMT08_REzs4SUBg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDczIiBoZWlnaHQ9IjU3NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>回到最一開始用技術手段拼湊出哈里的關聯圖，網站與網站或 App 之間被堵死，只剩剪貼還能用，但會有提示。</p><p>服務註冊跟第三方登入的個資，可以改用 Sign in with apple 和 hide my email 功能防堵；或是多使用 iOS 原生 App。</p><p>線下活動或許可以改 Apple Card 防止隱私外洩？</p><blockquote><p><strong><em>已沒有人有機會拼湊出哈里的活動輪廓。</em></strong></p></blockquote><h4 id="apple-以人為本"><span class="me-2">Apple 以人為本</span><a href="#apple-以人為本" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9a05f632eba0/1*5LLnXt2Glp7de_vdouufnQ.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*5LLnXt2Glp7de_vdouufnQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTEiIGhlaWdodD0iMjA1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>因此「以人為本」是我會給蘋果的理念的代名詞，要與商業市場唱反調需要很大的信念；與它相關的「以科技為本」是我會給 Google 的代名詞，因為 Google 總能造出很多 Geek 科技項目；最後「以商業為本」是我會給 Facebook 的代名詞，因為 FB 在很多層面上都只追求商業收益。</p><p><a href="/assets/9a05f632eba0/1*lpYyN-yGAS86YRVYlzh5Ig.webp" class="popup img-link blur"><img data-src="/assets/9a05f632eba0/1*lpYyN-yGAS86YRVYlzh5Ig.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTc0IiBoZWlnaHQ9IjU1OSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>除了針對隱私功能的調整，這幾年的 iOS 也不斷加強防止手機沈迷的功能，推出了「螢幕使用時間報告」、「App 使用時間限制」、「專注模式」…等等功能；幫助大家解除手機成癮。</p><h3 id="最後希望大家都能"><span class="me-2">最後希望大家都能</span><a href="#最後希望大家都能" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><strong>重視個人隱私</strong><li><strong>不被資本控制</strong><li><strong>減少虛擬成癮</strong><li><strong>防止社會沈淪</strong></ul><blockquote><p><strong><em>在現實世界活出精彩人生！</em></strong></p></blockquote><h4 id="private-relayidfapasteboardlocation-測試專案"><span class="me-2">Private Relay/IDFA/Pasteboard/Location 測試專案：</span><a href="#private-relayidfapasteboardlocation-測試專案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="https://github.com/zhgchgli0718/PrivacyTest" target="_blank" class="img-link shimmer" ><img src="https://opengraph.githubassets.com/eb3ecca5e67740485a43fc93d06fd6551fd620c8418f40dde5b35876a2de63dc/zhgchgli0718/PrivacyTest" alt="" loading="lazy"></a></p><h4 id="參考資料"><span class="me-2">參考資料</span><a href="#參考資料" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><a href="https://developer.apple.com/videos/play/wwdc2021/10085/" target="_blank">WWDC 2021 — Apple’s privacy pillars in focus</a><li><a href="https://www.apple.com/privacy/docs/A_Day_in_the_Life_of_Your_Data.pdf" target="_blank">Apple privacy white paper — A Day in the Life of Your Data</a><li><a href="https://developer.apple.com/videos/play/wwdc2021/10096/" target="_blank">WWDC 2021 — Get ready for iCloud Private Relay</a><li><a href="https://developer.apple.com/videos/play/wwdc2021/10033/" target="_blank">WWDC 2021 — Meet privacy-preserving ad attribution</a><li><a href="/posts/zrealm-dev/ios-14-%E5%89%AA%E8%B2%BC%E7%B0%BF%E9%9A%B1%E7%A7%81%E5%95%8F%E9%A1%8C-%E6%8F%AD%E9%9C%B2-app-%E8%AE%80%E5%8F%96%E5%8E%9F%E5%9B%A0%E8%88%87%E5%AE%89%E5%85%A8%E9%A2%A8%E9%9A%AA%E8%A7%A3%E6%9E%90-8a04443024e2/"><strong>iOS 14 剪貼簿竊資恐慌，隱私與便利的兩難</strong></a><li><a href="/posts/zrealm-dev/ios-deferred-deep-link-%E5%BB%B6%E9%81%B2%E6%B7%B1%E5%BA%A6%E9%80%A3%E7%B5%90%E5%AF%A6%E4%BD%9C-swift-%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B%E8%88%87%E6%8A%80%E5%B7%A7%E8%A7%A3%E6%9E%90-b08ef940c196/">iOS Deferred Deep Link 延遲深度連結實作(Swift)</a><li><a href="/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%9D%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AD%98%E5%88%A5%E8%88%87idfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/">iOS UUID 的那些事 (Swift/iOS ≥ 6)</a></ul><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>本文首次發表於 Medium (<a href="https://medium.com/p/9a05f632eba0" target="_blank"><strong>點此查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2021-10-24-9a05f632eba0.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/privacy/" class="post-tag no-text-decoration" >privacy</a> <a href="/tags/private-relay/" class="post-tag no-text-decoration" >private-relay</a> <a href="/tags/apple-privacy/" class="post-tag no-text-decoration" >apple-privacy</a> <a href="/tags/mopcon/" class="post-tag no-text-decoration" >mopcon</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%20%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90%EF%BD%9CApple%20%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-%25E9%259A%25B1%25E7%25A7%2581%25E4%25BF%259D%25E8%25AD%25B7%25E5%2585%25A8%25E8%25A7%25A3%25E6%259E%2590-apple-%25E9%259A%25B1%25E7%25A7%2581%25E5%258E%259F%25E5%2589%2587%25E8%2588%2587%25E6%25AD%25B7%25E5%25B9%25B4%25E5%258A%259F%25E8%2583%25BD%25E8%25AA%25BF%25E6%2595%25B4%25E8%25A9%25B3%25E8%25A7%25A3-9a05f632eba0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%20%E9%9A%B1%E7%A7%81%E4%BF%9D%E8%AD%B7%E5%85%A8%E8%A7%A3%E6%9E%90%EF%BD%9CApple%20%E9%9A%B1%E7%A7%81%E5%8E%9F%E5%89%87%E8%88%87%E6%AD%B7%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%AA%BF%E6%95%B4%E8%A9%B3%E8%A7%A3%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-%25E9%259A%25B1%25E7%25A7%2581%25E4%25BF%259D%25E8%25AD%25B7%25E5%2585%25A8%25E8%25A7%25A3%25E6%259E%2590-apple-%25E9%259A%25B1%25E7%25A7%2581%25E5%258E%259F%25E5%2589%2587%25E8%2588%2587%25E6%25AD%25B7%25E5%25B9%25B4%25E5%258A%259F%25E8%2583%25BD%25E8%25AA%25BF%25E6%2595%25B4%25E8%25A9%25B3%25E8%25A7%25A3-9a05f632eba0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-%25E9%259A%25B1%25E7%25A7%2581%25E4%25BF%259D%25E8%25AD%25B7%25E5%2585%25A8%25E8%25A7%25A3%25E6%259E%2590-apple-%25E9%259A%25B1%25E7%25A7%2581%25E5%258E%259F%25E5%2589%2587%25E8%2588%2587%25E6%25AD%25B7%25E5%25B9%25B4%25E5%258A%259F%25E8%2583%25BD%25E8%25AA%25BF%25E6%2595%25B4%25E8%25A9%25B3%25E8%25A7%25A3-9a05f632eba0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/en/apple-watch-stainless-steel-milanese-loop-unboxing-premium-44mm-graphite-band-review-c0f99f987d9c/">Apple Watch Stainless Steel Milanese Loop Unboxing｜Premium 44mm Graphite Band Review</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/zh-cn/apple-watch-%E7%B1%B3%E5%85%B0%E8%A1%A8%E5%B8%A6%E5%BC%80%E7%AE%B1-%E5%8E%9F%E5%8E%82%E4%B8%8D%E9%94%88%E9%92%A2%E7%9F%B3%E5%A2%A8%E8%89%B2%E4%BC%98%E7%BC%BA%E7%82%B9%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原厂不锈钢米兰表带开箱</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/apple-watch-%E7%B1%B3%E8%98%AD%E9%8C%B6%E5%B8%B6%E9%96%8B%E7%AE%B1-%E5%8E%9F%E5%BB%A0%E4%B8%8D%E9%8F%BD%E9%8B%BC%E7%9F%B3%E5%A2%A8%E8%89%B2%E5%84%AA%E7%BC%BA%E9%BB%9E%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原廠不鏽鋼米蘭錶帶開箱</a><li class="text-truncate lh-lg"> <a href="/posts/travel-journals/en/busan-travel-guide-8-day-itinerary-with-visit-busan-pass-for-seamless-exploration-8ace34a1a3d8/">Busan Travel Guide｜8-Day Itinerary with VISIT BUSAN PASS for Seamless Exploration</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/zh-cn/%E9%87%9C%E5%B1%B1%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-8%E5%A4%A97%E5%A4%9C%E5%BF%85%E5%8E%BB%E6%99%AF%E7%82%B9-%E7%BE%8E%E9%A3%9F%E4%B8%8E%E4%BA%A4%E9%80%9A%E5%85%A8%E8%A7%A3%E6%9E%90-%E9%87%9C%E5%B1%B1%E9%80%9A%E8%A1%8C%E8%AF%81%E7%9C%81%E9%92%B1%E7%A7%98%E8%AF%80-8ace34a1a3d8/">游记 2025 韩国釜山 8 天 7 夜自由行</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節 (Chapters)🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/zh-cn/ios-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%90%E7%A7%81%E5%8E%9F%E5%88%99%E4%B8%8E%E5%8E%86%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%B0%83%E6%95%B4%E8%AF%A6%E8%A7%A3-9a05f632eba0/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1635038155" data-df="ll" > Oct 24, 2021 </time><h4 class="pt-0 my-2">iOS 隐私保护全解析｜Apple 隐私原则与历年功能调整详解</h4><div class="text-muted"><p>深入剖析 Apple iOS 隐私原则与多项功能调整，解决开发者与用户对隐私泄漏的疑虑，掌握 Private Relay、IDFA 管控、剪贴簿警示等技术，提升隐私安全与使用体验。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/en/ios-privacy-evolution-apple-s-principles-and-feature-enhancements-9a05f632eba0/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1635038155" data-df="ll" > Oct 24, 2021 </time><h4 class="pt-0 my-2">iOS Privacy Evolution｜Apple's Principles and Feature Enhancements</h4><div class="text-muted"><p>Explore how iOS has advanced privacy protections while maintaining user convenience, detailing Apple&#39;s core privacy principles and key feature updates that safeguard your data effectively.</p></div></div></a></article><article class="col"> <a href="/posts/pinkoi-engineering/en/design-patterns-practical-solutions-for-socket-io-client-library-challenges-78507a8de6a5/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1649342957" data-df="ll" > Apr 7, 2022 </time><h4 class="pt-0 my-2">Design Patterns｜Practical Solutions for Socket.IO Client Library Challenges</h4><div class="text-muted"><p>Developers facing Socket.IO Client Library issues can apply proven Design Patterns to encapsulate functionality effectively, resolving integration challenges and improving code maintainability in r...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/zh-cn/ios-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%85%A8%E8%A7%A3%E6%9E%90-apple-%E9%9A%90%E7%A7%81%E5%8E%9F%E5%88%99%E4%B8%8E%E5%8E%86%E5%B9%B4%E5%8A%9F%E8%83%BD%E8%B0%83%E6%95%B4%E8%AF%A6%E8%A7%A3-9a05f632eba0/" class="btn btn-outline-primary" aria-label="Older" ><p>iOS 隐私保护全解析｜Apple 隐私原则与历年功能调整详解</p></a> <a href="/posts/zrealm-dev/en/crashlytics-google-analytics-automate-crash-free-user-rate-queries-with-google-apps-script-793cb8f89b72/" class="btn btn-outline-primary" aria-label="Newer" ><p>Crashlytics & Google Analytics｜Automate Crash-Free User Rate Queries with Google Apps Script</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">中文</a>|<a href="/tags/simplified-chinese">简中</a>|<a href="/tags/english/">English</a></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a> <br/></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

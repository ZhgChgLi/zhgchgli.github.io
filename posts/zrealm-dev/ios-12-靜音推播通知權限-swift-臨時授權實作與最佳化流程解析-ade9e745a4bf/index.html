<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="針對 iOS 12 推播通知允許率低問題，解析 Swift 實作臨時授權（provisional）靜音通知技巧，提升用戶接受度並避免過早拒絕通知，助你優化推播策略與點擊率，打造更精準有效的通知體驗。" /><meta property="og:description" content="針對 iOS 12 推播通知允許率低問題，解析 Swift 實作臨時授權（provisional）靜音通知技巧，提升用戶接受度並避免過早拒絕通知，助你優化推播策略與點擊率，打造更精準有效的通知體驗。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/ios-12-%E9%9D%9C%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%AC%8A%E9%99%90-swift-%E8%87%A8%E6%99%82%E6%8E%88%E6%AC%8A%E5%AF%A6%E4%BD%9C%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/ios-12-%E9%9D%9C%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%AC%8A%E9%99%90-swift-%E8%87%A8%E6%99%82%E6%8E%88%E6%AC%8A%E5%AF%A6%E4%BD%9C%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-11-01T23:35:02+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp" /><meta property="twitter:title" content="iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://medium.com/@zhgchgli/"},"dateModified":"2025-03-06T10:54:46+08:00","datePublished":"2018-11-01T23:35:02+08:00","description":"針對 iOS 12 推播通知允許率低問題，解析 Swift 實作臨時授權（provisional）靜音通知技巧，提升用戶接受度並避免過早拒絕通知，助你優化推播策略與點擊率，打造更精準有效的通知體驗。","headline":"iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/ios-12-%E9%9D%9C%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%AC%8A%E9%99%90-swift-%E8%87%A8%E6%99%82%E6%8E%88%E6%AC%8A%E5%AF%A6%E4%BD%9C%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/"},"url":"https://zhgchg.li/posts/zrealm-dev/ios-12-%E9%9D%9C%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%AC%8A%E9%99%90-swift-%E8%87%A8%E6%99%82%E6%8E%88%E6%AC%8A%E5%AF%A6%E4%BD%9C%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/"}</script><title>iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/ios-12-provisional-authorization-receive-silent-push-notifications-without-user-permission-ade9e745a4bf"><link rel="alternate" hreflang="zh-cn" href="/posts/zrealm-dev/zh-cn/ios-12-静音推播通知权限-swift-临时授权实作与最佳化流程解析-ade9e745a4bf"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/ios-12-靜音推播通知權限-swift-臨時授權實作與最佳化流程解析-ade9e745a4bf"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p><a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析</h1><p class="post-desc fw-light mb-4">針對 iOS 12 推播通知允許率低問題，解析 Swift 實作臨時授權（provisional）靜音通知技巧，提升用戶接受度並避免過早拒絕通知，助你優化推播策略與點擊率，打造更精準有效的通知體驗。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1541086502" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Nov 1, 2018 </time> </span> <span> Updated <time data-ts="1741229686" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 6, 2025 </time> </span><div class="mt-3 mb-3"> <a href="/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp" class="popup img-link preview-img blur"><img data-src="/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1891 words" > <em>10 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節 (Chapters)🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">iOS 12 靜音推播通知權限：Swift 臨時授權實作與最佳化流程解析</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/en/ios-12-provisional-authorization-receive-silent-push-notifications-without-user-permission-ade9e745a4bf"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/zh-cn/ios-12-静音推播通知权限-swift-临时授权实作与最佳化流程解析-ade9e745a4bf"><strong>点击这里</strong></a>查看本文章简体中文版本。</p></blockquote><blockquote class="prompt-info"><p>基於 SEO 考量，本文標題與描述經 AI 調整，原始版本請參考內文。</p></blockquote><hr /><h3 id="什麼ios-12-不需使用者授權就能傳送推播通知swift--20190206-更新"><span class="me-2">什麼？iOS 12 不需使用者授權就能傳送推播通知(Swift) — (2019–02–06 更新)</span><a href="#什麼ios-12-不需使用者授權就能傳送推播通知swift--20190206-更新" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>UserNotifications Provisional Authorization 臨時權限、iOS 12 靜音通知介紹</p><h3 id="murmur"><span class="me-2">MurMur……</span><a href="#murmur" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>前陣子在改善APP推播通知允許及點擊率過低問題，做了些優化調整；最初版的時候體驗非常差，APP 安裝完一啟動就直接跳「APP想要傳送通知」的詢問視窗；想當然而關閉率非常高，根據前一篇使用 <a href="/posts/zrealm-dev/ios-notification-service-extension-swift-實作圖片推播與顯示統計技巧-cb6eba52a342">Notification Service Extension</a> 統計通知實際顯示數，推測按允許推播的使用者只有大約10%．</p><p>目前調整新安裝引導流程、配合介面優化將詢問通知視窗的跳出時機調整如下：</p><p><a href="/assets/ade9e745a4bf/1*Yehjud9-RMPTENiVQz4Ryg.gif" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*Yehjud9-RMPTENiVQz4Ryg.gif" alt="[結婚吧APP](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&amp;mt=8){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNzYiIGhlaWdodD0iODAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329?ls=1&amp;mt=8" target="_blank">結婚吧APP</a></p><p>如果使用者還在猶豫或想使用看看再決定要不要接收通知，可按右上角「略過」，避免一開始因對APP還不熟悉而按下「不允許」造成之後也無法再詢問一去不復返的結果。</p><h3 id="進入正題"><span class="me-2">進入正題</span><a href="#進入正題" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在做上面這個優化項目時發現 UserNotifications iOS 12 中新增一項 .provisional 權限，翻成白話就是臨時的通知權限， <strong>不用跳詢問通知視窗取得允許通知權限就能對使用者發送推播通知(靜音通知)</strong> ，實際效果跟限制我們接著看下去。</p><h4 id="如何要求臨時通知權限"><span class="me-2">如何要求臨時通知權限?</span><a href="#如何要求臨時通知權限" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">12.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">center</span> <span class="o">=</span> <span class="kt">UNUserNotificationCenter</span><span class="o">.</span><span class="nf">current</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">permissiones</span><span class="p">:</span><span class="kt">UNAuthorizationOptions</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="n">badge</span><span class="p">,</span> <span class="o">.</span><span class="n">alert</span><span class="p">,</span> <span class="o">.</span><span class="n">sound</span><span class="p">,</span> <span class="o">.</span><span class="n">provisional</span><span class="p">]</span>
    <span class="c1">// 可以只要求臨時權限.provisional，或是順便先要求所有要用的權限ＸＤ</span>
    <span class="c1">// 都不會觸發顯示詢問通知視窗</span>
    
    <span class="n">center</span><span class="o">.</span><span class="nf">requestAuthorization</span><span class="p">(</span><span class="nv">options</span><span class="p">:</span> <span class="n">permissiones</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">granted</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">granted</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>我們將以上程式加入 AppDelegate didFinishLaunchingWithOptions 然後開啟APP，就會發現沒有跳出詢問通知視窗；這時我們去 <strong>設定</strong> 查看 <strong>APP通知設定</strong></p><p><a href="/assets/ade9e745a4bf/1*MvsncOUpTTh-ZTlJAUm8fA.webp" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*MvsncOUpTTh-ZTlJAUm8fA.webp" alt="(圖一) 取得靜音通知權限" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMTMzNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>(圖一) 取得靜音通知權限</p><p>我們就這樣默默地取得了靜音通知權限🏆</p><p>在程式判斷當前推播通知權限的部分新增 authorizationStatus .provisional 項目 (僅iOS 12之後)：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">10.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">UNUserNotificationCenter</span><span class="o">.</span><span class="nf">current</span><span class="p">()</span><span class="o">.</span><span class="n">getNotificationSettings</span> <span class="p">{</span> <span class="p">(</span><span class="n">settings</span><span class="p">)</span> <span class="k">in</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">authorizationStatus</span> <span class="o">==</span> <span class="o">.</span><span class="n">authorized</span> <span class="p">{</span>
            <span class="c1">//允許</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">authorizationStatus</span> <span class="o">==</span> <span class="o">.</span><span class="n">denied</span> <span class="p">{</span>
            <span class="c1">//不允許</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">authorizationStatus</span> <span class="o">==</span> <span class="o">.</span><span class="n">notDetermined</span> <span class="p">{</span>
            <span class="c1">//沒問過</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">12.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">authorizationStatus</span> <span class="o">==</span> <span class="o">.</span><span class="n">provisional</span> <span class="p">{</span>
                <span class="c1">//目前是臨時權限</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p><strong>請注意！</strong> 如果你有針對當前通知權限狀態做判斷， <code class="language-plaintext highlighter-rouge">settings.authorizationStatus == .notDetermined</code> 跟 <code class="language-plaintext highlighter-rouge">settings.authorizationStatus == .provisional</code></p></blockquote><blockquote><p>都是可以再跳出通知詢問視窗問使用者允不允許接收通知的</p></blockquote><h4 id="靜音通知能幹嘛推播如何顯示"><span class="me-2">靜音通知能幹嘛？推播如何顯示？</span><a href="#靜音通知能幹嘛推播如何顯示" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>先來張圖整理一下靜音通知會顯示的時機：</p><p><a href="/assets/ade9e745a4bf/1*BZYhskEdvVLNsFvJV-SWkw.webp" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*BZYhskEdvVLNsFvJV-SWkw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NDEiIGhlaWdodD0iMzAxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可以看到如果是靜音推播通知，APP在背景狀態下收到通知時 <strong>不會跳出橫幅、不會有聲音提示、不能標記、不會出現在鎖定畫面，只會出現在手機解鎖狀態下下拉的通知中心之中</strong> ：</p><p><a href="/assets/ade9e745a4bf/1*Nq6PQhG06BOrX_05i0Jb0g.webp" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*Nq6PQhG06BOrX_05i0Jb0g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzUiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>可以看到您的發送的推播通知，並且會自動聚合成一個分類</p><p><strong>點擊展開後使用者可選擇：</strong></p><p><a href="/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*NX0r7q5ikfoJnxWq_eGRWQ.webp" alt="此展開的詢問視窗只會出現在「臨時權限」時靜音推播之下" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NDgiIGhlaWdodD0iNTA4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>此展開的詢問視窗只會出現在「臨時權限」時靜音推播之下</p><ol><li>要「繼續」接收推播 — 「傳送重要通知」： <strong>通知權限就全開了！通知權限就全開了！通知權限就全開了！</strong> 真的很重要所以講三次，這時候前面程式碼要求權限那段一併要求所有權限的效果就相當顯著了。 或維持接收靜音通知<li>「關閉」 — 「關閉所有通知」點擊後完全關閉推播通知（含靜音通知）。</ol><h4 id="附註要怎麼手動把現有的app調成靜音通知"><span class="me-2">附註：要怎麼手動把現有的APP調成靜音通知？</span><a href="#附註要怎麼手動把現有的app調成靜音通知" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>靜音通知是iOS 12對通知優化推出的新設定與臨時權限無關，只不過是程式那端拿到臨時權限就能發靜音通知；針對APP的通知要設成靜音也很簡單，方法之一就是去「設定」-「通知」- 找到APP 將其所有權限都關閉只留「通知中心」(如圖ㄧ)即是靜音通知． 或是收到APP通知時重壓/長壓展開後，點擊右上角「…」選擇傳送靜音通知亦同：</p><p><a href="/assets/ade9e745a4bf/1*Lfx_esnpxLQ7GXVoLT710A.gif" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*Lfx_esnpxLQ7GXVoLT710A.gif" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzODAiIGhlaWdodD0iNTE4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="有了臨時權限在之後觸發跳出詢問通知視窗時"><span class="me-2">有了臨時權限在之後觸發跳出詢問通知視窗時：</span><a href="#有了臨時權限在之後觸發跳出詢問通知視窗時" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>要求通知權限的部分拿掉 .provisional 就能依然正常詢問使用者要不要允許接收通知：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">10.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">center</span> <span class="o">=</span> <span class="kt">UNUserNotificationCenter</span><span class="o">.</span><span class="nf">current</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">permissiones</span><span class="p">:</span><span class="kt">UNAuthorizationOptions</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="n">badge</span><span class="p">,</span> <span class="o">.</span><span class="n">alert</span><span class="p">,</span> <span class="o">.</span><span class="n">sound</span><span class="p">]</span>
    <span class="n">center</span><span class="o">.</span><span class="nf">requestAuthorization</span><span class="p">(</span><span class="nv">options</span><span class="p">:</span> <span class="n">permissiones</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">granted</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">granted</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="/assets/ade9e745a4bf/1*Bu6H1GZPWUoAd1oSfdYi5w.webp" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*Bu6H1GZPWUoAd1oSfdYi5w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iNjA5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>按「允許」取得所有通知權限、按「不允許」關閉所有通知權限(含本來取得的靜音通知權限)</p><h4 id="整體流程如下"><span class="me-2">整體流程如下：</span><a href="#整體流程如下" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/ade9e745a4bf/1*--o4wB9gSZ3y661GiZfEEg.webp" class="popup img-link blur"><img data-src="/assets/ade9e745a4bf/1*--o4wB9gSZ3y661GiZfEEg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4OTEiIGhlaWdodD0iNTkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="總結"><span class="me-2">總結：</span><a href="#總結" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>iOS 12的這項通知貼心優化，讓使用者跟開發者之間對通知功能更容易達搭起互動的橋樑，能盡量避免一去不復返關閉通知的狀況。</p><p>對使用者來說，往往跳詢問通知視窗時不知該按下允許還是拒絕因為我們不知道開發者會傳什麼樣的通知給我們，可能是廣告亦可能是重要消息，未知的事物是可怕的，所以大部分的人都會先保守按下拒絕。</p><p>對開發者來說，我們精心準備了許多項目包含重要消息要推送給使用者知道，但就因上述問題而被使用者屏蔽，我們花費心思設計的文案就這樣白費了！</p><p>此功能可讓開發者把握使用者剛安裝APP時的機會，設計好推播流程、內容，對使用者優先推送感興趣項目，增加使用者對此APP通知的認識度，並追蹤推播點擊率，在適當的時機再觸發詢問使用者要不要接收通知。</p><p>雖然能曝光的地方只有 <strong>通知中心</strong> 但有曝光有機會；換個角度想，我們是使用者的話，沒按允許通知，APP如果能傳一堆有橫幅+有聲音+還出現在解鎖畫面的通知給我，應該會覺得非常干擾惱人(隔壁陣營就是XD)，蘋果這個做法則是在使用者與開發者之間取得了平衡。</p><p>目前的問題大概就是….iOS 12的用戶還太少🤐</p><h4 id="延伸閱讀"><span class="me-2">延伸閱讀</span><a href="#延伸閱讀" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><a href="/posts/zrealm-dev/ios-9-到-ios-12-推播通知權限狀態處理-swift-全面支援與實戰範例-fd7f92d52baa">從 iOS 9 到 iOS 12 推播通知權限狀態處理(Swift)</a><li><a href="/posts/zrealm-dev/ios-deferred-deep-link-延遲深度連結實作-swift-完整流程與技巧解析-b08ef940c196">iOS Deferred Deep Link 延遲深度連結實作(Swift)</a><li><a href="/posts/zrealm-dev/app-https傳輸仍遭竊取-mitmproxy中間人攻擊實戰教學與防範技巧-46410aaada00">iOS+MacOS 使用mitmproxy 進行中間人嗅探</a><li><a href="https://medium.com/zrealm-ios-dev/ios-15-macos-monterey-safari-%E5%B0%87%E8%83%BD%E9%9A%B1%E8%97%8F%E7%9C%9F%E5%AF%A6-ip-755a8b6acc35" target="_blank">iOS 15 / MacOS Monterey Safari 將能隱藏真實 IP</a></ul><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>本文首次發表於 Medium (<a href="https://medium.com/p/ade9e745a4bf" target="_blank"><strong>點此查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2018-11-01-ade9e745a4bf.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/swift/" class="post-tag no-text-decoration" >swift</a> <a href="/tags/push-notification/" class="post-tag no-text-decoration" >push-notification</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/ios12/" class="post-tag no-text-decoration" >ios12</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%2012%20%E9%9D%9C%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%AC%8A%E9%99%90%EF%BC%9ASwift%20%E8%87%A8%E6%99%82%E6%8E%88%E6%AC%8A%E5%AF%A6%E4%BD%9C%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-12-%25E9%259D%259C%25E9%259F%25B3%25E6%258E%25A8%25E6%2592%25AD%25E9%2580%259A%25E7%259F%25A5%25E6%25AC%258A%25E9%2599%2590-swift-%25E8%2587%25A8%25E6%2599%2582%25E6%258E%2588%25E6%25AC%258A%25E5%25AF%25A6%25E4%25BD%259C%25E8%2588%2587%25E6%259C%2580%25E4%25BD%25B3%25E5%258C%2596%25E6%25B5%2581%25E7%25A8%258B%25E8%25A7%25A3%25E6%259E%2590-ade9e745a4bf%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%2012%20%E9%9D%9C%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%AC%8A%E9%99%90%EF%BC%9ASwift%20%E8%87%A8%E6%99%82%E6%8E%88%E6%AC%8A%E5%AF%A6%E4%BD%9C%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-12-%25E9%259D%259C%25E9%259F%25B3%25E6%258E%25A8%25E6%2592%25AD%25E9%2580%259A%25E7%259F%25A5%25E6%25AC%258A%25E9%2599%2590-swift-%25E8%2587%25A8%25E6%2599%2582%25E6%258E%2588%25E6%25AC%258A%25E5%25AF%25A6%25E4%25BD%259C%25E8%2588%2587%25E6%259C%2580%25E4%25BD%25B3%25E5%258C%2596%25E6%25B5%2581%25E7%25A8%258B%25E8%25A7%25A3%25E6%259E%2590-ade9e745a4bf%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fios-12-%25E9%259D%259C%25E9%259F%25B3%25E6%258E%25A8%25E6%2592%25AD%25E9%2580%259A%25E7%259F%25A5%25E6%25AC%258A%25E9%2599%2590-swift-%25E8%2587%25A8%25E6%2599%2582%25E6%258E%2588%25E6%25AC%258A%25E5%25AF%25A6%25E4%25BD%259C%25E8%2588%2587%25E6%259C%2580%25E4%25BD%25B3%25E5%258C%2596%25E6%25B5%2581%25E7%25A8%258B%25E8%25A7%25A3%25E6%259E%2590-ade9e745a4bf%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/en/apple-watch-stainless-steel-milanese-loop-unboxing-premium-44mm-graphite-band-review-c0f99f987d9c/">Apple Watch Stainless Steel Milanese Loop Unboxing｜Premium 44mm Graphite Band Review</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/zh-cn/apple-watch-%E7%B1%B3%E5%85%B0%E8%A1%A8%E5%B8%A6%E5%BC%80%E7%AE%B1-%E5%8E%9F%E5%8E%82%E4%B8%8D%E9%94%88%E9%92%A2%E7%9F%B3%E5%A2%A8%E8%89%B2%E4%BC%98%E7%BC%BA%E7%82%B9%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原厂不锈钢米兰表带开箱</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/apple-watch-%E7%B1%B3%E8%98%AD%E9%8C%B6%E5%B8%B6%E9%96%8B%E7%AE%B1-%E5%8E%9F%E5%BB%A0%E4%B8%8D%E9%8F%BD%E9%8B%BC%E7%9F%B3%E5%A2%A8%E8%89%B2%E5%84%AA%E7%BC%BA%E9%BB%9E%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原廠不鏽鋼米蘭錶帶開箱</a><li class="text-truncate lh-lg"> <a href="/posts/travel-journals/en/busan-travel-guide-8-day-itinerary-with-visit-busan-pass-for-seamless-exploration-8ace34a1a3d8/">Busan Travel Guide｜8-Day Itinerary with VISIT BUSAN PASS for Seamless Exploration</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/zh-cn/%E9%87%9C%E5%B1%B1%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-8%E5%A4%A97%E5%A4%9C%E5%BF%85%E5%8E%BB%E6%99%AF%E7%82%B9-%E7%BE%8E%E9%A3%9F%E4%B8%8E%E4%BA%A4%E9%80%9A%E5%85%A8%E8%A7%A3%E6%9E%90-%E9%87%9C%E5%B1%B1%E9%80%9A%E8%A1%8C%E8%AF%81%E7%9C%81%E9%92%B1%E7%A7%98%E8%AF%80-8ace34a1a3d8/">游记 2025 韩国釜山 8 天 7 夜自由行</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節 (Chapters)🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/zh-cn/ios-12-%E9%9D%99%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%9D%83%E9%99%90-swift-%E4%B8%B4%E6%97%B6%E6%8E%88%E6%9D%83%E5%AE%9E%E4%BD%9C%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1541086502" data-df="ll" > Nov 1, 2018 </time><h4 class="pt-0 my-2">iOS 12 静音推播通知权限：Swift 临时授权实作与最佳化流程解析</h4><div class="text-muted"><p>针对 iOS 12 推播通知允许率低问题，解析 Swift 实作临时授权（provisional）静音通知技巧，提升用户接受度并避免过早拒绝通知，助你优化推播策略与点击率，打造更精准有效的通知体验。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-12-%E4%BB%A5%E4%B8%8A-swift-%E5%AF%A6%E4%BD%9Capp%E9%80%9A%E7%9F%A5%E8%A8%AD%E5%AE%9A%E9%A0%81%E6%8D%B7%E5%BE%91-%E6%8F%90%E5%8D%87%E4%BD%BF%E7%94%A8%E8%80%85%E9%80%9A%E7%9F%A5%E9%AB%94%E9%A9%97-f644db1bb8bf/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1542033522" data-df="ll" > Nov 12, 2018 </time><h4 class="pt-0 my-2">iOS ≥ 12 在使用者的「設定」中增加「APP通知設定頁」捷徑 (Swift)</h4><div class="text-muted"><p>除了從系統關閉通知，讓使用者還有其他選擇 .providesAppNotificationSettings/openSettingsFor</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/zh-cn/ios-12-%E4%BB%A5%E4%B8%8A-swift-%E5%AE%9E%E4%BD%9Capp%E9%80%9A%E7%9F%A5%E8%AE%BE%E5%AE%9A%E9%A1%B5%E6%8D%B7%E5%BE%84-%E6%8F%90%E5%8D%87%E4%BD%BF%E7%94%A8%E8%80%85%E9%80%9A%E7%9F%A5%E4%BD%93%E9%AA%8C-f644db1bb8bf/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1542033522" data-df="ll" > Nov 12, 2018 </time><h4 class="pt-0 my-2">iOS ≥ 12 在使用者的「设定」中增加「APP通知设定页」捷径 (Swift)</h4><div class="text-muted"><p>除了从系统关闭通知，让使用者还有其他选择 .providesAppNotificationSettings/openSettingsFor</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/zh-cn/ios-12-%E9%9D%99%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%9D%83%E9%99%90-swift-%E4%B8%B4%E6%97%B6%E6%8E%88%E6%9D%83%E5%AE%9E%E4%BD%9C%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/" class="btn btn-outline-primary" aria-label="Older" ><p>iOS 12 静音推播通知权限：Swift 临时授权实作与最佳化流程解析</p></a> <a href="/posts/zrealm-dev/en/ios-notification-permission-handling-swift-solutions-for-ios-9-to-ios-12-fd7f92d52baa/" class="btn btn-outline-primary" aria-label="Newer" ><p>iOS Notification Permission Handling｜Swift Solutions for iOS 9 to iOS 12</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved. <a href="/">中文</a>|<a href="/tags/english/">English</a></span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a> <br/></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

<!doctype html><html lang="zh-tw" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="zh_tw" /><meta name="description" content="針對想用 Docker 自架 Plane.so 的使用者，提供詳細安裝、設定、備份與還原腳本，並示範 Nginx 反向代理整合多服務，解決多服務共用 80 Port 問題，確保系統穩定運作與資料安全。" /><meta property="og:description" content="針對想用 Docker 自架 Plane.so 的使用者，提供詳細安裝、設定、備份與還原腳本，並示範 Nginx 反向代理整合多服務，解決多服務共用 80 Port 問題，確保系統穩定運作與資料安全。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-05-25T21:12:58+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp" /><meta property="twitter:title" content="Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2025-06-26T10:48:03+08:00","datePublished":"2024-05-25T21:12:58+08:00","description":"針對想用 Docker 自架 Plane.so 的使用者，提供詳細安裝、設定、備份與還原腳本，並示範 Nginx 反向代理整合多服務，解決多服務共用 80 Port 問題，確保系統穩定運作與資料安全。","headline":"Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/"},"url":"https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/"}</script><title>Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/plane-so-docker-self-hosted-complete-guide-to-setup-backup-nginx-proxy-9903c9783a97/"><link rel="alternate" hreflang="ja" href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/plane-so-docker-%E8%87%AA%E6%9E%B6-nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A8%AD%E5%AE%9A%E3%81%A8%E3%83%90%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E6%89%8B%E9%A0%86%E3%81%BE%E3%81%A8%E3%82%81-9903c9783a97/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%A6-%E5%AE%8C%E6%95%B4%E8%AE%BE%E5%AE%9A-%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F%E4%B8%8E-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BD%9C-9903c9783a97/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/"><link rel="alternate" hreflang="x-default" href="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"如何使用 Docker 快速自架 Plane.so 並確保服務穩定運行？","acceptedAnswer":{"@type":"Answer","text":"透過官方提供的 setup.sh 腳本在本地 Docker 環境安裝 Plane.so，並調整 .env 設定檔指定服務端口與網址，啟動後透過 god-mode 設定管理帳號，確保服務正常運作，並依官方建議提升硬體規格以支援超過 50 位使用者。"}},{"@type":"Question","name":"如何有效備份與還原 Plane.so Docker 自架資料避免升級資料遺失？","acceptedAnswer":{"@type":"Answer","text":"使用自製的備份腳本定時備份 PostgreSQL、Redis 與上傳檔案，備份檔案會依設定保留指定數量，還原時透過還原腳本將資料寫回容器，並重啟服務確保資料生效，升級前後務必先備份並確認備份腳本正常運作。"}},{"@type":"Question","name":"如何用 Nginx 反向代理整合多個 Docker 自架服務並避免 Port 衝突？","acceptedAnswer":{"@type":"Answer","text":"將各服務設定不同內部端口，修改 Plane.so 的 NGINX_PORT（例如 8081），並透過統一的 Nginx Docker Compose 配置反向代理設定多個子網域，確保 Nginx 與服務在同一 Docker 網路內，最後啟動順序先服務後 Nginx，避免 Port 衝突與連線錯誤。"}},{"@type":"Question","name":"Plane.so 自架版有哪些功能限制與付費考量？","acceptedAnswer":{"@type":"Answer","text":"Plane.so 自架 Community Edition 預設包含雲端免費版功能，部分進階功能仍需付費升級，且自架版有使用者數量限制與憑證需求，收費方案複雜且變動頻繁，建議評估付費計畫與需求後再決定是否使用。"}},{"@type":"Question","name":"如何確保 Plane.so 自架服務的資安與穩定性？","acceptedAnswer":{"@type":"Answer","text":"由於 Plane.so 正處開發階段且為開源專案，建議自架服務避免直接暴露於公開網路，應加裝 VPN、憑證或 Tunnel 等安全層，定期更新並測試備份還原流程，並密切關注官方漏洞與更新，降低資安風險與服務中斷。"}}]} </script><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item" style="padding:0 15px 0 15px;"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background:#EDF4FF;color:#0A84FF;font-size:15px;transition:background-color .2s,color .2s;" onmouseover="this.style.backgroundColor='#0A84FF';this.style.color='#ffffff';" onmouseout="this.style.backgroundColor='#EDF4FF';this.style.color='#0A84FF';"> <i class="fa-brands fa-medium"></i> <span><span style="font-size: 18px; font-weight: boild;">Follow Me on Medium!</span><br/><u>1,050+</u> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首頁</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分類</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>標籤</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>歸檔</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>關於我</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>聯絡我</span> </a><li class="nav-item"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;"> <a href="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #666;background:#111;color:#fff;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%A6-%E5%AE%8C%E6%95%B4%E8%AE%BE%E5%AE%9A-%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F%E4%B8%8E-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BD%9C-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a></div><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;margin-top:5px;"> <a href="https://en.zhgchg.li/posts/zrealm-dev/plane-so-docker-self-hosted-complete-guide-to-setup-backup-nginx-proxy-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/plane-so-docker-%E8%87%AA%E6%9E%B6-nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A8%AD%E5%AE%9A%E3%81%A8%E3%83%90%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E6%89%8B%E9%A0%86%E3%81%BE%E3%81%A8%E3%82%81-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首頁</a> </span> <span>Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜尋..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作</h1><p class="post-desc fw-light mb-4">針對想用 Docker 自架 Plane.so 的使用者，提供詳細安裝、設定、備份與還原腳本，並示範 Nginx 反向代理整合多服務，解決多服務共用 80 Port 問題，確保系統穩定運作與資料安全。</p><div class="post-meta text-muted"> <span> 發佈於 <time data-ts="1716642778" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024 年 05 月 25 日 </time> </span> <span> 更新於 <time data-ts="1750906083" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025 年 06 月 26 日 </time> </span><div class="mt-3 mb-3"> <a href="/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp" class="popup img-link preview-img blur"><img data-src="/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> 作者 <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="4536 字" > <em>25 分鐘</em>閱讀</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節目錄 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Plane.so Docker 自架教學｜完整設定、備份還原與 Nginx 反向代理實作</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:flex-end;"> <a href="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #dc3545;background:#dc3545;color:#fff !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%A6-%E5%AE%8C%E6%95%B4%E8%AE%BE%E5%AE%9A-%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F%E4%B8%8E-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BD%9C-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a> <a href="https://en.zhgchg.li/posts/zrealm-dev/plane-so-docker-self-hosted-complete-guide-to-setup-backup-nginx-proxy-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/plane-so-docker-%E8%87%AA%E6%9E%B6-nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A8%AD%E5%AE%9A%E3%81%A8%E3%83%90%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E6%89%8B%E9%A0%86%E3%81%BE%E3%81%A8%E3%82%81-9903c9783a97/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div><blockquote class="prompt-info"><p>基於 SEO 考量，本文標題與描述經 AI 調整，原始版本請參考內文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目錄</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#planeso-docker-self-hosted-自架紀錄">Plane.so Docker Self-Hosted 自架紀錄</a></li><li><a href="#️️️️️️️️️️️️️2025-update️-️️️️️️️️️️️️">️⚠️️️️⚠️️️️⚠️️️️2025 Update️ ⚠️️️️⚠️️️️⚠️️️️</a></li><li class="has-children"><details><summary>前言 <a href="#前言">#</a></summary><ul><li><a href="#self-hosted-plane">Self-Hosted Plane</a></li><li><a href="#docker-安裝">Docker 安裝</a></li></ul></details></li><li><a href="#plane--docker-安裝">Plane @ Docker 安裝</a></li><li><a href="#plane--docker-啟動">Plane @ Docker 啟動</a></li><li class="has-children"><details><summary>Plane God/Admin Mode 管理後台 <a href="#plane-godadmin-mode-管理後台">#</a></summary><ul><li><a href="#general-settings">General Settings</a></li><li><a href="#email">Email</a></li><li><a href="#authentication">Authentication</a></li><li><a href="#artificial-intelligence">Artificial Intelligence</a></li><li><a href="#image-in-plane">Image in Plane</a></li></ul></details></li><li><a href="#plane--docker-升級">Plane @ Docker 升級</a></li><li class="has-children"><details><summary>Plane @ Docker 備份 <a href="#plane--docker-備份">#</a></summary><ul><li><a href="#備份腳本">備份腳本</a></li><li><a href="#還原腳本">還原腳本</a></li></ul></details></li><li><a href="#plane--docker-升級-1">Plane @ Docker 升級</a></li><li class="has-children"><details><summary>使用 Nginx + Plane 進行 Reverse Proxy 反向代理 <a href="#使用-nginx--plane-進行-reverse-proxy-反向代理">#</a></summary><ul><li><a href="#啟動">啟動</a></li><li><a href="#dns-設定">DNS 設定</a></li><li><a href="#dns-設定完成後-進入-planezhgchgli-就能開啟-plane-囉">DNS 設定完成後 進入 plane.zhgchg.li 就能開啟 Plane 囉！</a></li><li><a href="#常見問題">常見問題</a></li></ul></details></li><li><a href="#️️資安問題️️">⚠️⚠️資安問題⚠️⚠️</a></li><li><a href="#完整-self-hosted-repo-範例下載">完整 Self-Hosted Repo 範例下載</a></li><li><a href="#planeso-使用與-scurm-流程結合教學">Plane.so 使用與 Scurm 流程結合教學</a></li></ul></nav><hr /><h3 id="planeso-docker-self-hosted-自架紀錄"><span class="me-2">Plane.so Docker Self-Hosted 自架紀錄</span><a href="#planeso-docker-self-hosted-自架紀錄" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Plane Self-Hosted Docker 自架、備份、還原、Nginx Domain 反向代理設定教學</p><p><a href="/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*vC4_Sj4Q1S9k5RJyjOfu_Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjczMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><h3 id="️️️️️️️️️️️️️2025-update️-️️️️️️️️️️️️"><span class="me-2">️⚠️️️️⚠️️️️⚠️️️️2025 Update️ ⚠️️️️⚠️️️️⚠️️️️</span><a href="#️️️️️️️️️️️️️2025-update️-️️️️️️️️️️️️" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>已不推薦使用 Plane.so，原因是 Plane.so 初期依靠開源專案與支援自架崛起，但在後續的版本終將許多功能都放入付費計畫中，即使是自架也需要購買憑證才能開通功能，就算是自架也會有使用者人數限制，已不符合當初的想像；另外就是收費計劃非常混亂，有終身、Pro、Business…難保就算花錢購買，會不會又推出新的方案，新功能又只在新方案之中。</p><h3 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Plane.so 是一套免費開源且支援 Self-Hosted 自架的類似 Asana, Jira, Clickup 專案管理工具，成立於 2022 年，第一版於 2023 年釋出，目前扔在開發階段。</p><p>詳細使用操作與開發流程結合介紹，請參考上篇文章「 <a href="https://zhgchg.li/posts/zrealm-dev/plane-so-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-self-hosted-%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E9%A1%9E-asana-jira-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90-9d0f23784359/"><strong>Plane.so 免費開源且支援 Self-Hosted 的類 Asana/Jira 專案管理工具</strong></a> 」本篇僅記錄 Plane.so 使用 Docker 自架的過程。</p><h4 id="self-hosted-plane"><span class="me-2">Self-Hosted Plane</span><a href="#self-hosted-plane" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="https://docs.plane.so/self-hosting/methods/docker-compose" target="_blank" class="img-link shimmer" ><img src="https://planesoftwareinc.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DDocker%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fplanesoftwareinc%252Flogo%252Flight.svg%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fplanesoftwareinc%252Flogo%252Fdark.svg%26primaryColor%3D%25233f76ff%26lightColor%3D%2523517be0%26darkColor%3D%25233f76ff%26backgroundLight%3D%2523ffffff%26backgroundDark%3D%25230a0d0d&amp;w=1200&amp;q=100" alt="" loading="lazy"></a></p><ul><li>支援 Docker, K8s / Cloud, 私人地端 安裝<li>Self-Hosted 為 Community Edition (官方簡稱 CE) 版<li>Self-Hosted 不一定會包含所有 Cloud 版功能<li>Self-Hosted 版功能預設比照的是 Cloud 免費版， <strong>若要使用其他功能依然要升級付費版</strong> 。<li>本文為 Docker + 私人地端安裝為例<li><strong>目前官方不提供從 Cloud 匯出，匯入到 Self-Hosted 版本，只能自己透過 API 串接實現</strong><li>官方提示：超過 50 位使用者需提升機器性能 <code class="language-plaintext highlighter-rouge">We have seen performance degradation beyond 50 users on our recommended 4 GB, 2vCPU infra. Increased infra will help with more users.</code><li>使用 <a href="https://github.com/makeplane/plane#AGPL-3.0-1-ov-file" target="_blank">AGPL-3.0 license</a> 開源，第一版 2023/01 推出，目前扔持續在開發階段，尚未提供正式 Relase 版。<li>請注意開源, 支援 Self-Hosted 不等於免費。<li>文末有附上完整設定範例 Repo。</ul><h4 id="docker-安裝"><span class="me-2">Docker 安裝</span><a href="#docker-安裝" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>本文不多做介紹，請參考 <a href="https://www.docker.com/" target="_blank">官方 Docker 安裝方式</a> ，完成本地 Docker 環境安裝、設定，以下以 macOS Docker 為例。</p><h3 id="plane--docker-安裝"><span class="me-2">Plane @ Docker 安裝</span><a href="#plane--docker-安裝" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>參考 <a href="https://docs.plane.so/self-hosting/methods/docker-compose#option-2-using-docker-desktop" target="_blank">官方手冊</a> 。</p><ol><li>建立目錄＆下載安裝 Script</ol><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nb">mkdir </span>plane-selfhost

<span class="nb">cd </span>plane-selfhost

curl <span class="nt">-fsSL</span> <span class="nt">-o</span> setup.sh https://raw.githubusercontent.com/makeplane/plane/master/deploy/selfhost/install.sh

<span class="nb">chmod</span> +x setup.sh
</pre></table></code></div></div><p>2. 確保 Docker 環境安裝好＆ Docker 啟動中，執行 Script</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./setup.sh
</pre></table></code></div></div><p><a href="/assets/9903c9783a97/1*TD7LN5US1dvurUwQR-gQVg.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*TD7LN5US1dvurUwQR-gQVg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>輸入 <code class="language-plaintext highlighter-rouge">1</code> 進行安裝(下載 Images)</ul><p><a href="/assets/9903c9783a97/1*q4RXXzsSHw4564rEeCPCUg.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*q4RXXzsSHw4564rEeCPCUg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>等待 Plane 使用到的 Images Pulled 完成</ul><p><a href="/assets/9903c9783a97/1*fYopj6xrbQWEf8bheAFcvQ.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*fYopj6xrbQWEf8bheAFcvQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzciIGhlaWdodD0iMTYyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>Images Pulled 完成後，進入 <code class="language-plaintext highlighter-rouge">./plane-app</code> 資料夾打開 <code class="language-plaintext highlighter-rouge">.env</code> 設定檔案</ul><div class="language-makefile highlighter-rouge"><div class="code-header"> <span data-label-text="Makefile"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre><td class="rouge-code"><pre><span class="nv">APP_RELEASE</span><span class="o">=</span>stable

<span class="nv">WEB_REPLICAS</span><span class="o">=</span>1
<span class="nv">SPACE_REPLICAS</span><span class="o">=</span>1
<span class="nv">ADMIN_REPLICAS</span><span class="o">=</span>1
<span class="nv">API_REPLICAS</span><span class="o">=</span>1

<span class="nv">NGINX_PORT</span><span class="o">=</span>80
<span class="nv">WEB_URL</span><span class="o">=</span>http://localhost
<span class="nv">DEBUG</span><span class="o">=</span>0
<span class="nv">SENTRY_DSN</span><span class="o">=</span>
<span class="nv">SENTRY_ENVIRONMENT</span><span class="o">=</span>production
<span class="nv">CORS_ALLOWED_ORIGINS</span><span class="o">=</span>http://localhost

<span class="c">#DB SETTINGS
</span><span class="nv">PGHOST</span><span class="o">=</span>plane-db
<span class="nv">PGDATABASE</span><span class="o">=</span>plane
<span class="nv">POSTGRES_USER</span><span class="o">=</span>plane
<span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>plane
<span class="nv">POSTGRES_DB</span><span class="o">=</span>plane
<span class="nv">POSTGRES_PORT</span><span class="o">=</span>5432
<span class="nv">PGDATA</span><span class="o">=</span>/var/lib/postgresql/data
<span class="nv">DATABASE_URL</span><span class="o">=</span>

<span class="c"># REDIS SETTINGS
</span><span class="nv">REDIS_HOST</span><span class="o">=</span>plane-redis
<span class="nv">REDIS_PORT</span><span class="o">=</span>6379
<span class="nv">REDIS_URL</span><span class="o">=</span>

<span class="c"># Secret Key
</span><span class="nv">SECRET_KEY</span><span class="o">=</span>60gp0byfz2dvffa45cxl20p1scy9xbpf6d8c5y0geejgkyp1b5

<span class="c"># DATA STORE SETTINGS
</span><span class="nv">USE_MINIO</span><span class="o">=</span>1
<span class="nv">AWS_REGION</span><span class="o">=</span>
<span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span>access-key
<span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span>secret-key
<span class="nv">AWS_S3_ENDPOINT_URL</span><span class="o">=</span>http://plane-minio:9000
<span class="nv">AWS_S3_BUCKET_NAME</span><span class="o">=</span>uploads
<span class="nv">MINIO_ROOT_USER</span><span class="o">=</span>access-key
<span class="nv">MINIO_ROOT_PASSWORD</span><span class="o">=</span>secret-key
<span class="nv">BUCKET_NAME</span><span class="o">=</span>uploads
<span class="nv">FILE_SIZE_LIMIT</span><span class="o">=</span>5242880

<span class="c"># Gunicorn Workers
</span><span class="nv">GUNICORN_WORKERS</span><span class="o">=</span>1

<span class="c"># UNCOMMENT `DOCKER_PLATFORM` IF YOU ARE ON `ARM64` AND DOCKER IMAGE IS NOT AVAILABLE FOR RESPECTIVE `APP_RELEASE`
# DOCKER_PLATFORM=linux/amd64
</span></pre></table></code></div></div><ul><li>預設使用 <code class="language-plaintext highlighter-rouge">:80</code> Port 啟動 Plane 服務，如果有衝突可以修 Port<li>完成設置調整 (不建議直接更改 <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> 因為日後 Plane 更新會直接覆蓋掉此檔案)</ul><h3 id="plane--docker-啟動"><span class="me-2">Plane @ Docker 啟動</span><a href="#plane--docker-啟動" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>再次進入 ./setup.sh</ul><p><a href="/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>輸入 <code class="language-plaintext highlighter-rouge">2</code> 啟動 Plane：</ul><p><a href="/assets/9903c9783a97/1*MNys2fjcUtsQ7SbtGXsO7g.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*MNys2fjcUtsQ7SbtGXsO7g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU1OSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li><strong>完成啟動，且確認都啟動成功後，打開網址 <code class="language-plaintext highlighter-rouge">/</code></strong> <code class="language-plaintext highlighter-rouge">god-mode/</code> <strong>進行首次設定：</strong></ul><p><a href="/assets/9903c9783a97/1*SFLxN5kmIYhGUEfHYg9UAA.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*SFLxN5kmIYhGUEfHYg9UAA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OTYiIGhlaWdodD0iNzEyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>這邊設定的帳號密碼為最高管理權限(God/Admin Mode)<li>基於安全考量，密碼須包含特殊符號、超過 8 個字元、包含數字、大小寫英文，否則無法送出<li>此步驟未設定進入首頁登入會顯示 <code class="language-plaintext highlighter-rouge">Instance not configured. Please contact your administrator.</code></ul><h3 id="plane-godadmin-mode-管理後台"><span class="me-2">Plane God/Admin Mode 管理後台</span><a href="#plane-godadmin-mode-管理後台" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>可以從 Plane 網址 <code class="language-plaintext highlighter-rouge">/god-mode/</code> 進入，這邊可設定整個 Plane 服務的環境。</p><h4 id="general-settings"><span class="me-2">General Settings：</span><a href="#general-settings" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9903c9783a97/1*N4N-c6G9LAodW5-gTZRpVA.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*N4N-c6G9LAodW5-gTZRpVA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjQxIiBoZWlnaHQ9IjUyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>一般設定。</p><h4 id="email"><span class="me-2">Email：</span><a href="#email" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9903c9783a97/1*BhMM8nsSSWgZeuoHOi07LA.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*BhMM8nsSSWgZeuoHOi07LA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjM5IiBoZWlnaHQ9IjY2NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li>Email 通知 SMTP 設定</ul><p>懶得自己弄 SMTP Server 可以 <a href="https://docs.plane.so/self-hosting/govern/communication" target="_blank">直接使用 GMAIL SMTP</a> 寄信：</p><ul><li>Host: <code class="language-plaintext highlighter-rouge">smtp.gmail.com</code><li>Port: <code class="language-plaintext highlighter-rouge">465</code><li>Sender email address: 信件顯示信箱 e.g. <code class="language-plaintext highlighter-rouge">noreply@zhgchg.li</code><li>Username: 你的 Gmail 帳號<li>Password: 你的 Gmail 密碼， <a href="https://www.webdesigntooler.com/google-smtp-send-mail" target="_blank">如果有兩階段驗證要使用應用程式密碼</a> 。<li>如果設定完沒反應請檢查 Port, Email Security 對應設定 (TLS/STARTTLS: 使用端口 587、SSL: 使用端口 465)</ul><blockquote><p><em>另外有個發想，因為 Plane 暫時不支援 Slack 通知，因此其實也可以起一個 SMTP Server 殼將信件通知自己透過 Python 腳本轉換成 Slack 通知。</em></p></blockquote><p><a href="https://github.com/ont/slacker" target="_blank" class="img-link shimmer" ><img src="https://opengraph.githubassets.com/d01ac396464a75b0823d316cdcf37a4356c6f21b7bddbeacc8f844478cc4b587/ont/slacker" alt="" loading="lazy"></a></p><h4 id="authentication"><span class="me-2">Authentication</span><a href="#authentication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9903c9783a97/1*mCXH4MQ9WNvBZFOkyNTEFw.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*mCXH4MQ9WNvBZFOkyNTEFw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjEyIiBoZWlnaHQ9IjEwNTEiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Plane 服務登入使用驗證方式，如果要綁定只有 Google 組織內的信箱帳戶可使用，可以關閉「Password based login」只啟用「Google」登入功能，再從 Google 登入那邊產生僅限組織帳號內使用的登入 App 即可。</p><h4 id="artificial-intelligence"><span class="me-2">Artificial Intelligence</span><a href="#artificial-intelligence" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9903c9783a97/1*jTntKpLGWeEfwjDnZ9QRpQ.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*jTntKpLGWeEfwjDnZ9QRpQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjEyIiBoZWlnaHQ9IjEwNTEiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>AI 相關設定，目前功用不大，有埋 Key 就能在 Issue 上使用 AI 協助撰寫 Issue Description。</p><h4 id="image-in-plane"><span class="me-2">Image in Plane</span><a href="#image-in-plane" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9903c9783a97/1*dXJpZ0eiQqtfHYC2Aw85AA.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*dXJpZ0eiQqtfHYC2Aw85AA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjEwNDEiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>同樣目前功用不大，有埋 Unsplash Key 就能在專案封面圖選擇時透過 <a href="https://unsplash.com/" target="_blank">Unsplash</a> API 抓取圖片並套用。</p><blockquote><p>⚠️⚠️聲明⚠️⚠️</p></blockquote><blockquote><p><em>以上是 2024–05–25 v0.20-Dev 版的使用介紹，官方仍如火如荼開發新功能與優化使用者體驗，請以最新版的設定為主。</em></p></blockquote><blockquote><p>God/Admin Mode 設定好之後就差不多能如同使用 Cloud 版一樣使用。</p></blockquote><blockquote><p>詳細使用操作與開發流程結合介紹，請參考上篇文章「 <a href="https://zhgchg.li/posts/zrealm-dev/plane-so-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-self-hosted-%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E9%A1%9E-asana-jira-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90-9d0f23784359/"><strong>Plane.so 免費開源且支援 Self-Hosted 的類 Asana/Jira 專案管理工具</strong></a> 」</p></blockquote><h3 id="plane--docker-升級"><span class="me-2">Plane @ Docker 升級</span><a href="#plane--docker-升級" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>如同前述，Plane 仍處於開發階段，約每兩到三週會釋出新版，更動內容可能也會蠻巨大的；建議詳細閱讀 <a href="https://github.com/makeplane/plane/releases" target="_blank">Release Note</a> 改動與需要調整的設定，確定沒問題後再進行升級。</p><blockquote><p>⚠️升級前務必備份！⚠️ 升級完成務必檢查排成備份腳本是否依然正常。</p></blockquote><blockquote><p>⚠️升級前務必備份！⚠️ 升級完成務必檢查排成備份腳本是否依然正常。</p></blockquote><blockquote><p>⚠️升級前務必備份！⚠️ 升級完成務必檢查排成備份腳本是否依然正常。</p></blockquote><blockquote><p>因 Plane 處在開發階段，不穩定，不能保證升級不會造成資料遺失，因此建議操作前務必備份，備份方式下方會說明。</p></blockquote><p><strong>升級方式：</strong></p><ul><li>再次進入 ./setup.sh</ul><p><a href="/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>輸入 <code class="language-plaintext highlighter-rouge">5</code> 升級 Plane (其實也就只是拉新的 Images 下來 &amp; Restart)<li>Images Pulled 完成後可以 Restart 重啟服務<li>升級後 .env 可能有所更動，請參考 Release Note 進行調整</ul><h3 id="plane--docker-備份"><span class="me-2">Plane @ Docker 備份</span><a href="#plane--docker-備份" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>自 <code class="language-plaintext highlighter-rouge">0.20-dev</code> 開始 <code class="language-plaintext highlighter-rouge">./setup.sh</code> 新增一個 Backup Data 指令，但 <a href="https://docs.plane.so/plane-one/self-host/methods/one-command" target="_blank">翻閱官方手冊</a> ，只提到如何把 Backup Data Restore 到他們的 One 收費服務上；因此這邊還是用我自己土炮備份上傳檔案、Redis、備份 Postgresql Docker Container 的方式。</p><h4 id="備份腳本"><span class="me-2">備份腳本</span><a href="#備份腳本" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><code class="language-plaintext highlighter-rouge">./plane-backup.sh</code> :</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="c"># 備份 Plane 資料</span>
<span class="c"># Author: zhgchgli (https://zhgchg.li)</span>

<span class="c">##### 執行方式</span>
<span class="c"># ./plane-backup.sh [備份到目標資料夾路徑] [Plane 的 Docker 專案名稱] [Plane 備份檔案最大保留數量，超過刪除最舊的備份]</span>
<span class="c"># e.g. ./plane-backup.sh /backup/plane plane-app 14</span>
<span class="c">###### 設定</span>

<span class="c"># 備份到目標資料夾</span>
<span class="nv">backup_dir</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="p">.</span><span class="k">}</span>

<span class="c"># Plane 的 Docker 專案名稱</span>
<span class="nv">docker_project_name</span><span class="o">=</span><span class="k">${</span><span class="nv">2</span><span class="k">:-</span><span class="s2">"plane-app"</span><span class="k">}</span>

<span class="c"># Plane 備份檔案最大保留數量，超過刪除最舊的備份</span>
<span class="nv">keep_count</span><span class="o">=</span><span class="k">${</span><span class="nv">3</span><span class="k">:-</span><span class="nv">7</span><span class="k">}</span>

<span class="c">######</span>

<span class="c"># 檢查目錄是否存在</span>
<span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$backup_dir</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"備份失敗，目錄不存在：</span><span class="nv">$backup_dir</span><span class="s2">"</span>
  <span class="nb">exit</span><span class="p">;</span>
<span class="k">fi</span>

<span class="c"># Remove oldest</span>
<span class="nv">count</span><span class="o">=</span><span class="si">$(</span>find <span class="s2">"</span><span class="nv">$backup_dir</span><span class="s2">"</span> <span class="nt">-mindepth</span> 1 <span class="nt">-type</span> d | <span class="nb">wc</span> <span class="nt">-l</span><span class="si">)</span>

<span class="k">while</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$count</span><span class="s2">"</span> <span class="nt">-ge</span> <span class="nv">$keep_count</span> <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span><span class="nv">oldest_dir</span><span class="o">=</span><span class="si">$(</span>find <span class="s2">"</span><span class="nv">$backup_dir</span><span class="s2">"</span> <span class="nt">-mindepth</span> 1 <span class="nt">-maxdepth</span> 1 <span class="nt">-type</span> d | <span class="k">while </span><span class="nb">read dir</span><span class="p">;</span> <span class="k">do</span>
        <span class="c"># 使用 stat 命令獲取修改時間</span>
        <span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$OSTYPE</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"darwin"</span><span class="k">*</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
            <span class="c"># macOS 系統</span>
            <span class="nb">echo</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">stat</span> <span class="nt">-f</span> %m <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span><span class="si">)</span><span class="s2"> </span><span class="nv">$dir</span><span class="s2">"</span>
        <span class="k">else</span>
            <span class="c"># Linux 系統</span>
            <span class="nb">echo</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">stat</span> <span class="nt">-c</span> %Y <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span><span class="si">)</span><span class="s2"> </span><span class="nv">$dir</span><span class="s2">"</span>
        <span class="k">fi
    done</span> | <span class="nb">sort</span> <span class="nt">-n</span> | <span class="nb">head</span> <span class="nt">-n</span> 1 | <span class="nb">cut</span> <span class="nt">-d</span> <span class="s1">' '</span> <span class="nt">-f</span> 2-<span class="si">)</span>
    
    <span class="nb">echo</span> <span class="s2">"Remove oldest backup: </span><span class="nv">$oldest_dir</span><span class="s2">"</span>
    <span class="nb">rm</span> <span class="nt">-rf</span> <span class="s2">"</span><span class="nv">$oldest_dir</span><span class="s2">"</span>

    <span class="nv">count</span><span class="o">=</span><span class="si">$(</span>find <span class="s2">"</span><span class="nv">$backup_dir</span><span class="s2">"</span> <span class="nt">-mindepth</span> 1 <span class="nt">-type</span> d | <span class="nb">wc</span> <span class="nt">-l</span><span class="si">)</span>
<span class="k">done</span>
<span class="c">#</span>

<span class="c"># Backup new</span>
<span class="nv">date_dir</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> <span class="s2">"+%Y_%m_%d_%H_%M_%S"</span><span class="si">)</span>
<span class="nv">target_dir</span><span class="o">=</span><span class="s2">"</span><span class="nv">$backup_dir</span><span class="s2">/</span><span class="nv">$date_dir</span><span class="s2">"</span>

<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$target_dir</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">"Backuping to: </span><span class="nv">$target_dir</span><span class="s2">"</span>

<span class="c"># Plane's Postgresql .SQL dump</span>
docker <span class="nb">exec</span> <span class="nt">-i</span> <span class="nv">$docker_project_name</span><span class="nt">-plane-db-1</span> pg_dump <span class="nt">--dbname</span><span class="o">=</span>postgresql://plane:plane@plane-db/plane <span class="nt">-c</span> <span class="o">&gt;</span> <span class="nv">$target_dir</span>/dump.sql

<span class="c"># Plane's redis</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> <span class="nv">$docker_project_name</span><span class="nt">-redis-1</span>:/volume <span class="nt">-v</span> <span class="nv">$target_dir</span>:/backup ubuntu <span class="nb">tar </span>cvf /backup/plane-app_redis.tar /volume <span class="o">&gt;</span> /dev/null 2&gt;&amp;1

<span class="c"># Plane's uploaded files</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> <span class="k">${</span><span class="nv">docker_project_name</span><span class="k">}</span>_uploads:/volume <span class="nt">-v</span> <span class="nv">$target_dir</span>:/backup ubuntu <span class="nb">tar </span>cvf /backup/plane-app_uploads.tar /volume <span class="o">&gt;</span> /dev/null 2&gt;&amp;1

<span class="nb">echo</span> <span class="s2">"Backup up Success!"</span>
</pre></table></code></div></div><p>第一次建立 Script 檔案記得先： <code class="language-plaintext highlighter-rouge">chmod +x ./plane-backup.sh</code></p><p><strong>執行方式：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./plane-backup.sh <span class="o">[</span>備份到目標資料夾路徑] <span class="o">[</span>Plane 的 Docker 專案名稱] <span class="o">[</span>Plane 備份檔案最大保留數量，超過刪除最舊的備份]
</pre></table></code></div></div><ul><li>備份到目標資料夾路徑: e.g <code class="language-plaintext highlighter-rouge">/backup/plane/</code> or <code class="language-plaintext highlighter-rouge">./</code><li>Plane 的 Docker 專案名稱: Plane Docker Compose Project 名稱</ul><p><a href="/assets/9903c9783a97/1*kJjqWIuKwubpXZ-yzaKtpQ.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*kJjqWIuKwubpXZ-yzaKtpQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMjYwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>Plane 備份檔案最大保留數量，超過刪除最舊的備份: 預設 7 份</ul><p><strong>執行範例：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./plane-backup.sh /backup/plane plane-app 14
</pre></table></code></div></div><p><a href="/assets/9903c9783a97/1*0WHK8gVB2KVmI_zOB0g5dw.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*0WHK8gVB2KVmI_zOB0g5dw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjYiIGhlaWdodD0iMjkiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><ul><li>執行時要確保 Plane 是啟動中的狀態。</ul><p>只要將以上指令加入 Crontab 就能定時自動備份 Plane。</p><blockquote><p>如果遇到執行錯誤，找不到 Container 請確認 Plane Docker Compose Project 名稱 或檢查腳本與 Docker 的容器名稱 (可能官方改名了)。</p></blockquote><h4 id="還原腳本"><span class="me-2">還原腳本</span><a href="#還原腳本" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><code class="language-plaintext highlighter-rouge">./plane-restore.sh</code> :</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="c"># 恢復 Plane 備份資料</span>
<span class="c"># Author: zhgchgli (https://zhgchg.li)</span>

<span class="c">##### 執行方式</span>
<span class="c"># ./plane-restore.sh</span>

<span class="c"># </span>
inputBackupDir<span class="o">()</span> <span class="o">{</span>
    <span class="nb">read</span> <span class="nt">-p</span> <span class="s2">"欲恢復的 Plane 備份檔案資料夾 (e.g. /backup/plane/2024_05_25_19_14_12): "</span> backup_dir
<span class="o">}</span>
inputBackupDir

<span class="k">if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="nv">$backup_dir</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"請提供備份資料夾 (e.g. sh /backup/docker/plane/2024_04_09_17_46_39)"</span>
    <span class="nb">exit</span><span class="p">;</span>
<span class="k">fi

</span>inputDockerProjectName<span class="o">()</span> <span class="o">{</span>
    <span class="nb">read</span> <span class="nt">-p</span> <span class="s2">"Plane 的 Docker 專案名稱 (留空使用預設 plane-app): "</span> input_docker_project_name
<span class="o">}</span>
inputDockerProjectName
 
<span class="nv">docker_project_name</span><span class="o">=</span><span class="k">${</span><span class="nv">input_docker_project_name</span><span class="k">:-</span><span class="s2">"plane-app"</span><span class="k">}</span>

confirm<span class="o">()</span> <span class="o">{</span>
    <span class="nb">read</span> <span class="nt">-p</span> <span class="s2">"您確定要執行 Restore Plane.so 資料? [y/N] "</span> response
    
    <span class="c"># Check the response</span>
    <span class="k">case</span> <span class="s2">"</span><span class="nv">$response</span><span class="s2">"</span> <span class="k">in</span>
        <span class="o">[</span>yY][eE][sS]|[yY]<span class="p">)</span> 
            <span class="nb">true</span>
            <span class="p">;;</span>
        <span class="k">*</span><span class="p">)</span>
            <span class="nb">false</span>
            <span class="p">;;</span>
    <span class="k">esac</span>
<span class="o">}</span>

<span class="k">if</span> <span class="o">!</span> confirm<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Action cancelled."</span>
    <span class="nb">exit
</span><span class="k">fi</span>

<span class="c"># 恢復</span>

<span class="nb">echo</span> <span class="s2">"Restoring..."</span>

docker <span class="nb">cp</span> <span class="nv">$backup_dir</span>/dump.sql <span class="nv">$docker_project_name</span><span class="nt">-plane-db-1</span>:/dump.sql <span class="o">&amp;&amp;</span> docker <span class="nb">exec</span> <span class="nt">-i</span> <span class="nv">$docker_project_name</span><span class="nt">-plane-db-1</span> psql postgresql://plane:plane@plane-db/plane <span class="nt">-f</span> /dump.sql

<span class="c"># 恢復 Redis</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> <span class="k">${</span><span class="nv">docker_project_name</span><span class="k">}</span><span class="nt">-redis-1</span>:/volume <span class="nt">-v</span> <span class="nv">$backup_dir</span>:/backup alpine <span class="nb">tar </span>xf /backup/plane-app_redis.tar <span class="nt">--strip-component</span><span class="o">=</span>1 <span class="nt">-C</span> /volume

<span class="c"># 恢復上傳的檔案</span>
docker run <span class="nt">--rm</span> <span class="nt">-v</span> <span class="k">${</span><span class="nv">docker_project_name</span><span class="k">}</span>_uploads:/volume <span class="nt">-v</span> <span class="nv">$backup_dir</span>:/backup alpine <span class="nb">tar </span>xf /backup/plane-app_uploads.tar <span class="nt">--strip-component</span><span class="o">=</span>1 <span class="nt">-C</span> /volume

<span class="nb">echo</span> <span class="s2">"Restore Success!"</span>
</pre></table></code></div></div><p>第一次建立 Script 檔案記得先： <code class="language-plaintext highlighter-rouge">chmod +x ./plane-restore.sh</code></p><p><strong>執行方式：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre> ./plane-restore.sh
輸入：欲恢復的 Plane 備份檔案資料夾 <span class="o">(</span>e.g. /backup/plane/2024_05_25_19_14_12<span class="o">)</span>
輸入：Plane 的 Docker 專案名稱 <span class="o">(</span>留空使用預設 plane-app<span class="o">)</span>
輸入：您確定要執行 Restore Plane.so 資料? <span class="o">[</span>y/N] y
</pre></table></code></div></div><p><a href="/assets/9903c9783a97/1*RfSvyRCGpKnXk_uk0EyOUw.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*RfSvyRCGpKnXk_uk0EyOUw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iNjIiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>看到 <code class="language-plaintext highlighter-rouge">Restore Success!</code> 成功後，需要重啟 Plane 才會生效。</p><p><strong>使用 Plane <code class="language-plaintext highlighter-rouge">./setup.sh</code> 輸入 <code class="language-plaintext highlighter-rouge">4</code> Restart：</strong></p><p><a href="/assets/9903c9783a97/1*BCJ07O43BFVlqfe8IUnt_Q.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*BCJ07O43BFVlqfe8IUnt_Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMjMiIGhlaWdodD0iMjE0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>回到網站上重新整理、登入 Workspace 檢查是否恢復成功：</p><p><a href="/assets/9903c9783a97/1*fmF4Z8yemneoe4wefz6x9g.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*fmF4Z8yemneoe4wefz6x9g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU2MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><strong>完成！</strong></p><blockquote><p>⚠️建議備份、還原流程要定期測試，確保出意外時備份能派上用場。</p></blockquote><h3 id="plane--docker-升級-1"><span class="me-2">Plane @ Docker 升級</span><a href="#plane--docker-升級-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>如同前述，Plane 仍處於開發階段，約每兩到三週會釋出新版，更動內容可能也會蠻巨大的；建議詳細閱讀 <a href="https://github.com/makeplane/plane/releases" target="_blank">Release Note</a> 改動與需要調整的設定，確定沒問題後再進行升級。</p><blockquote><p>⚠️升級前務必備份！⚠️ 升級完成務必檢查排成備份腳本是否依然正常。</p></blockquote><blockquote><p>⚠️升級前務必備份！⚠️ 升級完成務必檢查排成備份腳本是否依然正常。</p></blockquote><blockquote><p>⚠️升級前務必備份！⚠️ 升級完成務必檢查排成備份腳本是否依然正常。</p></blockquote><blockquote><p>因 Plane 處在開發階段，不穩定，不能保證升級不會造成資料遺失，因此建議操作前務必備份。</p></blockquote><p><strong>升級方式：</strong></p><ul><li>再次進入 ./setup.sh</ul><p><a href="/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*RQBUIyN2Tcam4O3JeitK4A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODIiIGhlaWdodD0iNDgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>輸入 <code class="language-plaintext highlighter-rouge">5</code> 升級 Plane (其實也就只是拉新的 Images 下來 &amp; Restart)<li>Images Pulled 完成後可以 Restart 重啟服務<li>升級後 .env 可能有所更動，請參考 Release Note 進行調整<li>升級完成務必檢查排成備份腳本是否依然正常<li>如果 Container Name 有變動需更改備份、還原、下方介紹的 Nginx 反向代理腳本</ul><h3 id="使用-nginx--plane-進行-reverse-proxy-反向代理"><span class="me-2">使用 Nginx + Plane 進行 Reverse Proxy 反向代理</span><a href="#使用-nginx--plane-進行-reverse-proxy-反向代理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>因為我們同時可能會有需多 Web 服務需要提供，例如： <a href="https://github.com/danny-avila/LibreChat" target="_blank">Self-Hosted LibreChat (ChatGPT)</a> 、 <a href="https://js.wiki/" target="_blank">Self-Hosted Wiki.js</a> 、 <a href="https://bitwarden.com/help/self-host-an-organization/" target="_blank">Self-Hosted Bitwarden</a> … 每個服務預設都需要 80 Port，如果我們不想在使用時在網址指定 Port，則可需要啟動一個 Docker Nginx 當作 Web 服務的反向代理。</p><p><strong>效果如下:</strong></p><div class="language-rust highlighter-rouge"><div class="code-header"> <span data-label-text="Rust"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">chat</span><span class="py">.zhgchg.li</span> <span class="k">-&gt;</span> <span class="n">LibreChat</span> <span class="p">:</span><span class="mi">8082</span>
<span class="n">wiki</span><span class="py">.zhgchg.li</span> <span class="k">-&gt;</span> <span class="n">Wiki</span><span class="py">.js</span> <span class="p">:</span><span class="mi">8083</span>
<span class="n">pwd</span><span class="py">.zhgchg.li</span> <span class="k">-&gt;</span> <span class="n">Bitwarden</span> <span class="p">:</span><span class="mi">8084</span>

<span class="n">plane</span><span class="py">.zhgchg.li</span> <span class="k">-&gt;</span> <span class="n">Plane</span><span class="py">.so</span> <span class="p">:</span><span class="mi">8081</span>
</pre></table></code></div></div><p>要達成以上效果需要先把 <code class="language-plaintext highlighter-rouge">./plane-selfhost</code> 目錄移動到一個統一目錄下，這邊取名 <code class="language-plaintext highlighter-rouge">webServices</code> 。</p><p><strong>最終目錄結構預覽：</strong></p><p><a href="/assets/9903c9783a97/1*ERwnbdC9ePP7kRNd_LYzWQ.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*ERwnbdC9ePP7kRNd_LYzWQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjUiIGhlaWdodD0iNDkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><strong>調整 <code class="language-plaintext highlighter-rouge">webServices/plane-selfhost/plane-app/.env</code> 環境設定檔案：</strong></p><div class="language-makefile highlighter-rouge"><div class="code-header"> <span data-label-text="Makefile"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre><td class="rouge-code"><pre><span class="nv">APP_RELEASE</span><span class="o">=</span>stable

<span class="nv">WEB_REPLICAS</span><span class="o">=</span>1
<span class="nv">SPACE_REPLICAS</span><span class="o">=</span>1
<span class="nv">ADMIN_REPLICAS</span><span class="o">=</span>1
<span class="nv">API_REPLICAS</span><span class="o">=</span>1

<span class="nv">NGINX_PORT</span><span class="o">=</span>8081
<span class="nv">WEB_URL</span><span class="o">=</span>http://plane.zhgchg.li
<span class="nv">DEBUG</span><span class="o">=</span>0
<span class="nv">SENTRY_DSN</span><span class="o">=</span>
<span class="nv">SENTRY_ENVIRONMENT</span><span class="o">=</span>production
<span class="nv">CORS_ALLOWED_ORIGINS</span><span class="o">=</span>http://plane.zhgchg.li

<span class="c">#DB SETTINGS
</span><span class="nv">PGHOST</span><span class="o">=</span>plane-db
<span class="nv">PGDATABASE</span><span class="o">=</span>plane
<span class="nv">POSTGRES_USER</span><span class="o">=</span>plane
<span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>plane
<span class="nv">POSTGRES_DB</span><span class="o">=</span>plane
<span class="nv">POSTGRES_PORT</span><span class="o">=</span>5432
<span class="nv">PGDATA</span><span class="o">=</span>/var/lib/postgresql/data
<span class="nv">DATABASE_URL</span><span class="o">=</span>

<span class="c"># REDIS SETTINGS
</span><span class="nv">REDIS_HOST</span><span class="o">=</span>plane-redis
<span class="nv">REDIS_PORT</span><span class="o">=</span>6379
<span class="nv">REDIS_URL</span><span class="o">=</span>

<span class="c"># Secret Key
</span><span class="nv">SECRET_KEY</span><span class="o">=</span>60gp0byfz2dvffa45cxl20p1scy9xbpf6d8c5y0geejgkyp1b5

<span class="c"># DATA STORE SETTINGS
</span><span class="nv">USE_MINIO</span><span class="o">=</span>1
<span class="nv">AWS_REGION</span><span class="o">=</span>
<span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span>access-key
<span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span>secret-key
<span class="nv">AWS_S3_ENDPOINT_URL</span><span class="o">=</span>http://plane-minio:9000
<span class="nv">AWS_S3_BUCKET_NAME</span><span class="o">=</span>uploads
<span class="nv">MINIO_ROOT_USER</span><span class="o">=</span>access-key
<span class="nv">MINIO_ROOT_PASSWORD</span><span class="o">=</span>secret-key
<span class="nv">BUCKET_NAME</span><span class="o">=</span>uploads
<span class="nv">FILE_SIZE_LIMIT</span><span class="o">=</span>5242880

<span class="c"># Gunicorn Workers
</span><span class="nv">GUNICORN_WORKERS</span><span class="o">=</span>1

<span class="c"># UNCOMMENT `DOCKER_PLATFORM` IF YOU ARE ON `ARM64` AND DOCKER IMAGE IS NOT AVAILABLE FOR RESPECTIVE `APP_RELEASE`
# DOCKER_PLATFORM=linux/amd64
</span></pre></table></code></div></div><ul><li>將網址替換為我們想要的網址，以 <code class="language-plaintext highlighter-rouge">plane.zhgchg.li</code> 為例<li>NGINX_PORT 換成 <code class="language-plaintext highlighter-rouge">8081</code> 把原本的 <code class="language-plaintext highlighter-rouge">80</code> 讓改反向代理 Nginx</ul><p><code class="language-plaintext highlighter-rouge">webServices/</code> <strong>下建立一個 <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> 檔案用來放 Nginx：</strong></p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">webServices-nginx</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./nginx/conf.d/plane.zhgchg.li.conf:/etc/nginx/conf.d/plane.zhgchg.li.conf</span>

    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">80:80</span>
      <span class="pi">-</span> <span class="s">443:443</span>

    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">plane-app_default</span> <span class="c1">#plane 所使用的網路</span>
<span class="na">networks</span><span class="pi">:</span>
  <span class="na">plane-app_default</span><span class="pi">:</span>
    <span class="na">external</span><span class="pi">:</span> <span class="kc">true</span>
</pre></table></code></div></div><ul><li>我們需要把 Plane app 的網路加入到 Nginx</ul><p><code class="language-plaintext highlighter-rouge">webServices/</code> <strong>下建立 <code class="language-plaintext highlighter-rouge">/conf.d</code> 目錄＆ <code class="language-plaintext highlighter-rouge">plane.zhgchg.li.conf</code> 檔案：</strong></p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre><td class="rouge-code"><pre><span class="c"># For plane.zhgchg.li</span>

<span class="c"># http example:</span>
server <span class="o">{</span>
    listen 80<span class="p">;</span>
    server_name plane.zhgchg.li<span class="p">;</span>

    client_max_body_size 0<span class="p">;</span>

    location / <span class="o">{</span>
 proxy_pass http://plane-app-proxy-1<span class="p">;</span> <span class="c"># plane proxy-1 服務名稱</span>
        proxy_set_header Host <span class="nv">$host</span><span class="p">;</span>
        proxy_set_header X-Real-IP <span class="nv">$remote_addr</span><span class="p">;</span>
        proxy_set_header X-Forwarded-For <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
        proxy_set_header X-Forwarded-Proto <span class="nv">$scheme</span><span class="p">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c"># https &amp; http example:</span>
<span class="c"># server {</span>
<span class="c">#     listen 443 ssl;</span>
<span class="c">#     server_name plane.zhgchg.li;</span>

<span class="c">#     #ssl</span>
<span class="c">#     ssl_certificate             /etc/nginx/conf/ssl/zhgchgli.crt; # 替換成你域名的 crt &amp; 記得把 key 加到 docker-compose.yml volumes Mount 進 Docker</span>
<span class="c">#     ssl_certificate_key         /etc/nginx/conf/ssl/zhgchgli.key; # 替換成你域名的 key &amp; 記得把 key 加到 docker-compose.yml volumes Mount 進 Docker</span>
<span class="c">#     ssl_prefer_server_ciphers   on;</span>
<span class="c">#     ssl_protocols               TLSv1.1 TLSv1.2;</span>
<span class="c">#     ssl_ciphers                 "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4";</span>
<span class="c">#     ssl_ecdh_curve              secp384r1; # Requires nginx &gt;= 1.1.0</span>
<span class="c">#     ssl_session_timeout         10m;</span>
<span class="c">#     ssl_session_cache           shared:SSL:10m;</span>
<span class="c">#     add_header                  Strict-Transport-Security "max-age=63072000; includeSubDomains; preload";</span>

<span class="c">#     client_max_body_size 0;</span>

<span class="c">#     location / {</span>
<span class="c">#  proxy_pass http://plane-app-proxy-1; # plane proxy-1 服務名稱</span>
<span class="c">#         proxy_set_header Host $host;</span>
<span class="c">#         proxy_set_header X-Real-IP $remote_addr;</span>
<span class="c">#         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
<span class="c">#         proxy_set_header X-Forwarded-Proto $scheme;</span>
<span class="c">#     }</span>
<span class="c"># }</span>

<span class="c"># server {</span>
<span class="c">#     listen 80;</span>
<span class="c">#     server_name plane.zhgchg.li;</span>
<span class="c">#     return 301 https://plane.zhgchg.li$request_uri;</span>
<span class="c"># }</span>
</pre></table></code></div></div><ul><li>proxy_pass 輸入 Plane 網路中的 服務入口<li>這邊只以 HTTP 當範例，若要支援 HTTPS 可參考 <a href="https://calvertyang.github.io/2013/10/17/creating-a-self-signed-ssl-certificate-for-nginx/" target="_blank">自行簽名憑證</a> 的方式。</ul><p>因為有多個 docker-compose.yml 需要個別啟動，再啟動 Nginx 反向代理，因此我們可以把所有啟動腳本都放到同一個 Shell Script。</p><p><code class="language-plaintext highlighter-rouge">webServices/</code> <strong>下建立 <code class="language-plaintext highlighter-rouge">/start.sh</code> 檔案：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="c">#!/bin/sh</span>

<span class="c"># 封裝啟動 Script</span>

<span class="c"># 先啟動 Plane..等其他服務</span>
docker compose <span class="nt">-f</span> ./plane-selfhost/plane-app/docker-compose.yaml <span class="nt">--env-file</span> ./plane-selfhost/plane-app/.env up <span class="nt">-d</span>


<span class="c"># 最後才啟動 Nginx</span>
docker compose <span class="nt">-f</span> ./docker-compose.yml <span class="nt">--env-file</span> ./.env up <span class="nt">-d</span>
</pre></table></code></div></div><p>第一次建立 Script 檔案記得先： <code class="language-plaintext highlighter-rouge">chmod +x ./start.sh</code></p><p>停止服務也可以建立一個， <code class="language-plaintext highlighter-rouge">webServices/</code> <strong>下建立 <code class="language-plaintext highlighter-rouge">/stop.sh</code> 檔案：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c">#!/bin/sh</span>

<span class="c"># 封裝停止 Script</span>

docker compose <span class="nt">-f</span> ./plane-selfhost/plane-app/docker-compose.yaml <span class="nt">--env-file</span> ./plane-selfhost/plane-app/.env down

docker compose <span class="nt">-f</span> ./docker-compose.yml <span class="nt">--env-file</span> ./.env down
</pre></table></code></div></div><p>第一次建立 Script 檔案記得先： <code class="language-plaintext highlighter-rouge">chmod +x ./stop.sh</code></p><h4 id="啟動"><span class="me-2">啟動</span><a href="#啟動" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>我們封裝好 Nginx 反向代理＋Plane 服務＋其他…之後就可以直接下 <code class="language-plaintext highlighter-rouge">./start.sh</code> 啟動所有服務</ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./start.sh
</pre></table></code></div></div><p><a href="/assets/9903c9783a97/1*dNJzZpnUNdgo0Fr7l8mi-g.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*dNJzZpnUNdgo0Fr7l8mi-g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNzgiIGhlaWdodD0iMzM3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/9903c9783a97/1*BDBsaS6qcdM42VAkAoNkWg.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*BDBsaS6qcdM42VAkAoNkWg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3ODUiIGhlaWdodD0iOTkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="dns-設定"><span class="me-2">DNS 設定</span><a href="#dns-設定" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>架設在內網地端，需要請 IT 部門在內網 DNS 加上 plane.zhgchg.li -&gt; 伺服器 IP 位址的 DNS 紀錄。</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">plane</span><span class="p">.</span><span class="nx">zhgchg</span><span class="p">.</span><span class="nx">li</span> <span class="nx">伺服器</span> <span class="nx">IP</span> <span class="nx">位址</span>
</pre></table></code></div></div><p>如果你是在自己的電腦本地測試，可以在 /private/etc/hosts 檔案中加入：</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span> <span class="nx">plane</span><span class="p">.</span><span class="nx">zhgchg</span><span class="p">.</span><span class="nx">li</span>
</pre></table></code></div></div><h4 id="dns-設定完成後-進入-planezhgchgli-就能開啟-plane-囉"><span class="me-2">DNS 設定完成後 進入 plane.zhgchg.li 就能開啟 Plane 囉！</span><a href="#dns-設定完成後-進入-planezhgchgli-就能開啟-plane-囉" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/9903c9783a97/1*zRFYLw4MMiqaXahqAlZKxA.webp" class="popup img-link blur"><img data-src="/assets/9903c9783a97/1*zRFYLw4MMiqaXahqAlZKxA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTA1IiBoZWlnaHQ9Ijg3OSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><h4 id="常見問題"><span class="me-2">常見問題</span><a href="#常見問題" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>Nginx 啟動失敗，一直 Restarting，進入看 Log 顯示 nginx: [emerg] host not found in upstream 代表 Nginx 反向代理服務找不到 Plane 服務，要檢查 <code class="language-plaintext highlighter-rouge">http://plane-app-proxy-1</code> 名稱是否正確、Nginx docker-compose.yml 網路設定是否正確<li>出現 502 Bad Gateway 啟動順序有誤(確保 Nginx 反向代理是最後啟動)或 Plane 進程有重啟過，嘗試重新啟動應該就可以了。<li>出現 Nginx 默認首頁 <code class="language-plaintext highlighter-rouge">welcome to nginx!</code> ，使用反向代理你將不再能使用原本 IP:80 方式進入 Plane，要使用網址<li>網址無法解析、找不到主機，請確認 DNS 網路設定是否正常。</ol><h3 id="️️資安問題️️"><span class="me-2">⚠️⚠️資安問題⚠️⚠️</span><a href="#️️資安問題️️" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>因 Plane 專案正在開發中並且是開源專案，尚不確定有無嚴重系統漏洞，最嚴重可能會變成入侵入口；因此不建議將 Plane.so Self-Hosted 建立在公開網路上，可多加一層安全驗證(Tunnel or 憑證 or VPN)通過才能連入；架設在內網也最好隔離開來。</p><p><strong>開發中專案難免有 Bug、體驗、安全問題，請大家多給 Plane.so 團隊一點耐心；有任何問題也歡迎到下方回報：</strong></p><ul><li>問題回報： <a href="https://github.com/makeplane/plane/issues" target="_blank">https://github.com/makeplane/plane/issues</a><li>官方 Discord： <a href="https://discord.com/invite/A92xrEGCge" target="_blank">https://discord.com/invite/A92xrEGCge</a></ul><h3 id="完整-self-hosted-repo-範例下載"><span class="me-2">完整 Self-Hosted Repo 範例下載</span><a href="#完整-self-hosted-repo-範例下載" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://github.com/zhgchgli0718/plane-docker-example" target="_blank" class="img-link shimmer" ><img src="https://opengraph.githubassets.com/efb750533f6a1db19a83e907375c3d59f4d4618e1770d797d416a21b25227cdd/zhgchgli0718/plane-docker-example" alt="" loading="lazy"></a></p><h3 id="planeso-使用與-scurm-流程結合教學"><span class="me-2">Plane.so 使用與 Scurm 流程結合教學</span><a href="#planeso-使用與-scurm-流程結合教學" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><a href="https://zhgchg.li/posts/zrealm-dev/plane-so-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-self-hosted-%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E9%A1%9E-asana-jira-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90-9d0f23784359/"><strong>Plane.so 免費開源且支援 Self-Hosted 的類 Asana/Jira 專案管理工具</strong></a></ul><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/zrealm-dev/plane-so-docker-%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8-%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87-nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C-9903c9783a97/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="/contact" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-tip"><p>👉👉👉 <a href="https://medium.com/@zhgchgli" target="_blank"><strong>Follow Me On Medium!</strong> (1,050+ Followers)</a> 👈👈👈</p></blockquote><blockquote class="prompt-info"><p>本文首次發表於 Medium (<a href="https://medium.com/p/9903c9783a97" target="_blank"><strong>點此查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2024-05-25-9903c9783a97.md" target="_blank">Improve this page on Github.</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/nginx/" class="post-tag no-text-decoration" >nginx</a> <a href="/tags/project-management/" class="post-tag no-text-decoration" >project-management</a> <a href="/tags/self-hosted/" class="post-tag no-text-decoration" >self-hosted</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者以 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh-hant"> CC BY 4.0 </a> 授權。</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Plane.so%20Docker%20%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8%EF%BD%9C%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A%E3%80%81%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87%20Nginx%20%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fplane-so-docker-%25E8%2587%25AA%25E6%259E%25B6%25E6%2595%2599%25E5%25AD%25B8-%25E5%25AE%258C%25E6%2595%25B4%25E8%25A8%25AD%25E5%25AE%259A-%25E5%2582%2599%25E4%25BB%25BD%25E9%2582%2584%25E5%258E%259F%25E8%2588%2587-nginx-%25E5%258F%258D%25E5%2590%2591%25E4%25BB%25A3%25E7%2590%2586%25E5%25AF%25A6%25E4%25BD%259C-9903c9783a97%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Plane.so%20Docker%20%E8%87%AA%E6%9E%B6%E6%95%99%E5%AD%B8%EF%BD%9C%E5%AE%8C%E6%95%B4%E8%A8%AD%E5%AE%9A%E3%80%81%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%88%87%20Nginx%20%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AF%A6%E4%BD%9C%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fplane-so-docker-%25E8%2587%25AA%25E6%259E%25B6%25E6%2595%2599%25E5%25AD%25B8-%25E5%25AE%258C%25E6%2595%25B4%25E8%25A8%25AD%25E5%25AE%259A-%25E5%2582%2599%25E4%25BB%25BD%25E9%2582%2584%25E5%258E%259F%25E8%2588%2587-nginx-%25E5%258F%258D%25E5%2590%2591%25E4%25BB%25A3%25E7%2590%2586%25E5%25AF%25A6%25E4%25BD%259C-9903c9783a97%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fplane-so-docker-%25E8%2587%25AA%25E6%259E%25B6%25E6%2595%2599%25E5%25AD%25B8-%25E5%25AE%258C%25E6%2595%25B4%25E8%25A8%25AD%25E5%25AE%259A-%25E5%2582%2599%25E4%25BB%25BD%25E9%2582%2584%25E5%258E%259F%25E8%2588%2587-nginx-%25E5%258F%258D%25E5%2590%2591%25E4%25BB%25A3%25E7%2590%2586%25E5%25AF%25A6%25E4%25BD%259C-9903c9783a97%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="複製連結" data-title-succeed="連結已成功複製！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/medium-private-api-%E7%88%AC%E5%8F%96%E8%B3%87%E6%96%99%E8%88%87%E7%AA%81%E7%A0%B4-cloudflare-%E9%98%B2%E8%AD%B7-%E5%AE%8C%E6%95%B4-graphql-%E6%93%8D%E4%BD%9C%E6%95%99%E5%AD%B8-88f0fb935120/">Medium Private API 資料爬蟲與 Cloudflare 攻防的心路歷程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/">CI/CD 使用 App Store Connect API Webhook 串接自動化工作流程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/">CI/CD 實戰指南（一）：CI/CD 是什麼？如何透過 CI/CD 打造穩定高效的開發團隊？工具選擇？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%A8%82%E8%A1%A8%E5%96%AE%E6%8F%90%E5%8D%87%E9%96%8B%E7%99%BC%E6%95%88%E7%8E%87-4cb4437818f2/">使用 Google Apps Script Web App 表單串接 Github Action CI/CD 工作</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-robotic-process-automation/github-action-%E5%85%8D%E8%B2%BB%E9%83%A8%E7%BD%B2-zreviewtender-app-%E5%95%86%E5%9F%8E%E8%A9%95%E5%83%B9%E7%9B%A3%E6%8E%A7%E6%A9%9F%E5%99%A8%E4%BA%BA-%E4%B8%89%E6%AD%A5%E9%A9%9F%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-0095528cf875/">Quick Start! Github Action x ZReviewTender 免費快速部署你的 App 商城評價監控機器人</a></ul></section><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節目錄 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">延伸閱讀</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/github-actions-self-hosted-runner-%E8%A9%B3%E8%A7%A3%E8%88%87%E5%AF%A6%E6%88%B0%E6%A1%88%E4%BE%8B-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%BB%BA%E7%BD%AE-404bd5c70040/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1751458952" data-df="YYYY 年 M 月 D 日" > 2025 年 07 月 02 日 </time><h4 class="pt-0 my-2">CI/CD 實戰指南（二）：GitHub Actions 與 Self-hosted Runner 使用與建置大全</h4><div class="text-muted"><p>帶您從頭了解 GitHub Actions/Self-hosted Runner 運作方式與手把手使用教學。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/plane-so-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-self-hosted-%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E9%A1%9E-asana-jira-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90-9d0f23784359/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1716625682" data-df="YYYY 年 M 月 D 日" > 2024 年 05 月 25 日 </time><h4 class="pt-0 my-2">Plane.so｜免費開源 Self-Hosted 專案管理工具｜類 Asana/Jira 功能完整解析</h4><div class="text-muted"><p>針對尋找開源且支援自架的專案管理工具，用 Plane.so 解決 Asana/Jira 高成本與內控限制問題，透過實務操作與 Scrum 流程範例，大幅提升跨團隊協作與任務透明度，打造高效專案管理環境。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/%E7%84%A1%E7%97%9B%E8%BD%89%E7%A7%BB-medium-%E6%96%87%E7%AB%A0%E5%88%B0%E8%87%AA%E6%9E%B6-jekyll-%E9%9D%9C%E6%85%8B%E7%B6%B2%E7%AB%99-%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2%E8%88%87%E8%87%AA%E5%8B%95%E5%90%8C%E6%AD%A5%E6%95%99%E5%AD%B8-a0c08d579ab1/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1657987247" data-df="YYYY 年 M 月 D 日" > 2022 年 07 月 17 日 </time><h4 class="pt-0 my-2">無痛轉移 Medium 文章到自架 Jekyll 靜態網站｜快速部署與自動同步教學</h4><div class="text-muted"><p>解決 Medium 文章無法自主掌控的痛點，透過 Jekyll 與 Github Pages 搭建靜態網站，實現快速載入與客製化功能，並利用 Github Actions 自動同步 Medium 文章，確保內容安全與流暢閱讀體驗。</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/plane-so-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-self-hosted-%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E9%A1%9E-asana-jira-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90-9d0f23784359/" class="btn btn-outline-primary" aria-label="上一篇" ><p>Plane.so｜免費開源 Self-Hosted 專案管理工具｜類 Asana/Jira 功能完整解析</p></a> <a href="/posts/zrealm-dev/ios-nsattributedstring-%E5%88%97%E8%A1%A8%E7%B8%AE%E6%8E%92%E5%AF%A6%E4%BD%9C-nstextlist-%E8%88%87-nstexttab-%E5%B7%A2%E7%8B%80%E6%8E%92%E7%89%88%E8%A7%A3%E6%9E%90-2981dc0fcd58/" class="btn btn-outline-primary" aria-label="下一篇" ><p>iOS NSAttributedString 探究使用 NSTextList 或 NSTextTab 實現列表縮排</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2026</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有註明，本網站上的所有文章皆由作者依據 創用 CC 姓名標示 4.0 國際授權條款（CC BY 4.0）授權使用。" >版權所有。</span> <br/> 最後更新時間:2026-01-02 11:04:39 +08:00</p><p>本站使用 <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> 主題建置於 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>。<br/> Medium 文章由 <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> 轉換而成。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">發現有新的內容版本。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'zh-TW';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOHdowL84CU-q5', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">找不到符合的結果。</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

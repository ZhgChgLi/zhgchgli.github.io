<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="针对有 iOS UIKit 基础的开发者，掌握 Apple Watch App 简化 UI 排版、WatchConnectivity 双向资料传递与推播实作，解决第三方 App 功能不足痛点，快速打造辅助型手表应用，提升使用体验与即时互动效率。" /><meta property="og:description" content="针对有 iOS UIKit 基础的开发者，掌握 Apple Watch App 简化 UI 排版、WatchConnectivity 双向资料传递与推播实作，解决第三方 App 功能不足痛点，快速打造辅助型手表应用，提升使用体验与即时互动效率。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-02-06T00:23:30+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" /><meta property="twitter:title" content="Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-04-13T15:37:01+08:00","datePublished":"2019-02-06T00:23:30+08:00","description":"针对有 iOS UIKit 基础的开发者，掌握 Apple Watch App 简化 UI 排版、WatchConnectivity 双向资料传递与推播实作，解决第三方 App 功能不足痛点，快速打造辅助型手表应用，提升使用体验与即时互动效率。","headline":"Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/"},"url":"https://zhgchg.li/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/"}</script><title>Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/apple-watch-app-development-step-by-step-watchos-5-guide-for-beginners-e85d77b05061/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-dev/apple-watch-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AD%B8-%E5%BE%9E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B3%87%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/"><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/"><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background: #EDF4FF; color: #0A84FF;"> <i class="fa-brands fa-medium"></i> <span>Follow Me!<br/><strong>1,050+</strong> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略</h1><p class="post-desc fw-light mb-4">针对有 iOS UIKit 基础的开发者，掌握 Apple Watch App 简化 UI 排版、WatchConnectivity 双向资料传递与推播实作，解决第三方 App 功能不足痛点，快速打造辅助型手表应用，提升使用体验与即时互动效率。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1549383810" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 6, 2019 </time> </span> <span> Updated <time data-ts="1712993821" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" class="popup img-link preview-img blur"><img data-src="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="5045 words" > <em>28 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Chapters 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Apple Watch App 开发教学｜从 UI 排版到 WatchConnectivity 资料同步完整攻略</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/en/apple-watch-app-development-step-by-step-watchos-5-guide-for-beginners-e85d77b05061/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/apple-watch-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AD%B8-%E5%BE%9E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B3%87%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/"><strong>點擊這裡</strong></a>查看本文章正體中文版本。</p></blockquote><blockquote class="prompt-info"><p>基于 SEO 考量，本文标题与描述经 AI 调整，原始版本请参考内文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目录</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li class="has-children"><details><summary>动手做一支 Apple Watch App 吧！(Swift) <a href="#动手做一支-apple-watch-app-吧swift">#</a></summary><ul><li><a href="#最新-apple-watch-series-6-开箱使用两年体验心得-点我前往">[最新] Apple Watch Series 6 开箱＆使用两年体验心得 >>>点我前往</a></li></ul></details></li><li><a href="#前言">前言</a></li><li><a href="#第三方app支援度依然很差">第三方App支援度依然很差</a></li><li><a href="#首先了解apple-watch-app的定位化繁为简">首先，了解Apple Watch App的定位，化繁为简</a></li><li class="has-children"><details><summary>让我们开始吧！ <a href="#让我们开始吧">#</a></summary><ul><li><a href="#为ios专案新建-watchos-target">为iOS专案新建 watchOS Target</a></li><li><a href="#视图控制器">视图控制器</a></li><li><a href="#元件库">元件库</a></li><li><a href="#ui-排版">UI 排版</a></li><li><a href="#字型字体大小设置">字型/字体大小设置</a></li><li><a href="#做中学以line排版为例">做中学：以Line排版为例</a></li><li><a href="#为row命名同uikit-uitableview为cell设定identifier">为Row命名(同UIKit UITableView为Cell设定identifier)</a></li><li><a href="#row的呈现样式不只一种呢">Row的呈现样式不只一种呢？</a></li><li><a href="#排版相关资讯">排版相关资讯</a></li><li><a href="#程式控制部分">程式控制部分</a></li><li><a href="#如何跳页">如何跳页？</a></li><li><a href="#跳页参数">跳页参数？</a></li><li><a href="#程式控制元件部分">程式控制元件部分</a></li><li><a href="#与iphone之间同步资料传递">与iPhone之间同步/资料传递</a></li><li><a href="#watchconnectivity-资料传递方式">WatchConnectivity 资料传递方式</a></li><li><a href="#watchos推播处理">watchOS推播处理</a></li><li><a href="#选单功能">选单功能？</a></li><li><a href="#内容输入">内容输入？</a></li></ul></details></li><li class="has-children"><details><summary>总结 <a href="#总结">#</a></summary><ul><li><a href="#murmur">MurMur</a></li></ul></details></li></ul></nav><hr /><h3 id="动手做一支-apple-watch-app-吧swift"><span class="me-2">动手做一支 Apple Watch App 吧！(Swift)</span><a href="#动手做一支-apple-watch-app-吧swift" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>watchOS 5 手把手开发Apple Watch App 从无到有</p><h4 id="最新-apple-watch-series-6-开箱使用两年体验心得-点我前往"><span class="me-2"><a href="/posts/zrealm-life/zh-cn/apple-watch-series-6-%E5%BC%80%E7%AE%B1-%E4%B8%A4%E5%B9%B4%E6%B7%B1%E5%BA%A6%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97%E4%B8%8E%E9%80%89%E8%B4%AD%E5%85%A8%E6%94%BB%E7%95%A5-eab0e984043/">[最新] Apple Watch Series 6 开箱＆使用两年体验心得 &gt;&gt;&gt;点我前往</a></span><a href="#最新-apple-watch-series-6-开箱使用两年体验心得-点我前往" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h3 id="前言"><span class="me-2">前言:</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>暨上一篇 <a href="/posts/zrealm-life/zh-cn/apple-watch-series-4-%E5%85%A8%E9%9D%A2%E5%BC%80%E7%AE%B1-%E9%80%89%E8%B4%AD%E6%94%BB%E7%95%A5-%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%AE%9E%E7%94%A8app%E6%8E%A8%E8%8D%90-a2920e33e73e/">Apple Watch 入手开箱文</a> 后已经过了快三个月，最近终于找到机会研究开发Apple Watch App啦。</p><p><a href="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" alt="[结婚吧 — 最大婚礼筹备App](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329#?platform=appleWatch){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYzOSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329#?platform=appleWatch" target="_blank">结婚吧 — 最大婚礼筹备App</a></p><p>补一下使用三个月后的心得：</p><ol><li>e-sim(LTE)依然还想不到什么时候会用到，所以也还没申请没用过 2.常用功能：靠近解锁Mac电脑、举手查看通知、Apple Pay 3.健康提醒：过了三个月已开始懒了，通知提醒都看看，没达成圆圈也无感 4.第三方App支援度依然很差 5.表面可依照心情任意更换增加新鲜感 6.更详细的运动纪录：例如走远一点路去买晚餐，手表会自动侦测询问是否要记录运动</ol><p>使用三个月后整体来说，还是如原开箱文所写就像是多个生活小助手，帮你解决琐碎的事．</p><h3 id="第三方app支援度依然很差"><span class="me-2">第三方App支援度依然很差</span><a href="#第三方app支援度依然很差" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在我实际开发过Apple Watch App之前还很纳闷，为何Apple Watch上的App都很阳春甚至就只是「堪用」罢了，包括LINE(讯息不同步而且从未更新)、Messenger(就是堪用)；直到我实际开发过Apple Watch App之后才知道这些开发者的苦衷….</p><h3 id="首先了解apple-watch-app的定位化繁为简"><span class="me-2">首先，了解Apple Watch App的定位，化繁为简</span><a href="#首先了解apple-watch-app的定位化繁为简" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Apple Watch的定位 <strong>「不是取代iPhone，而是辅助」</strong> 不论是官方介绍、官方App、watchOS API都是这个走向；所以才会觉得第三方APP很阳春、功能很少(抱歉，我太贪心了Orz)</p><p>以 <a href="https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E6%9C%80%E5%A4%A7%E5%A9%9A%E7%A6%AE%E7%B1%8C%E5%82%99app/id1356057329?mt=8" target="_blank">我们的A</a> pp为例，有搜寻商家、查看专栏、讨论区、线上询问…等等功能；线上询问就是有价值搬上Apple Watch的项目，因为他需要即时性而且更快速的回复代表更有机会获得订单；搜寻商家、查看专栏、讨论区这些功能相对复杂，在手表上就算做的到也意义不大(萤幕能呈现的资讯太少、也不需要即时性)</p><p>核心概念还是「以辅助为主」，所以并不是什么功能都需要搬上Apple Watch；毕竟使用者很少很少时间会是只有戴手表没带手机，而遇到这种情况时，使用者的需求也只有重要的功能(像查看专栏文章这种没有重要到一定要立刻马上用手表看)</p><h3 id="让我们开始吧"><span class="me-2">让我们开始吧！</span><a href="#让我们开始吧" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><strong><em>这也是我第一次开发Apple Watch App，文章内容可能不够深入，敬请大家指教！！</em></strong></p></blockquote><blockquote><p><strong><em>本篇只适合有开发过iOS App/UIKit基础的读者阅读</em></strong></p></blockquote><blockquote><p><strong><em>本篇使用：iOS ≥ 9、watchOS ≥ 5</em></strong></p></blockquote><h4 id="为ios专案新建-watchos-target"><span class="me-2">为iOS专案新建 watchOS Target:</span><a href="#为ios专案新建-watchos-target" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*yxwki7mCbfJbEfsTDM683A.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*yxwki7mCbfJbEfsTDM683A.webp" alt="File -&gt; New -&gt; Target -&gt; watchOS -&gt; WatchKit App" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEwMTIiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>File -&gt; New -&gt; Target -&gt; watchOS -&gt; WatchKit App</p><p><em>*Apple Watch App无法独立安装，一定要依附在 iOS App 之下</em></p><p>新建好之后目录会长这样：</p><p><a href="/assets/e85d77b05061/1*WIjSrYl5Hch0mGIjlNbyFQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*WIjSrYl5Hch0mGIjlNbyFQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OTYiIGhlaWdodD0iNDM4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>你会发现有两个Target项目，缺一不可：</p><ol><li><p>WatchKit App: 负责存放资源、UI显示 /Interface.storyboard：同 iOS，里面有系统预设建立的视图控制器 /Assets.xcassets：同 iOS，存放用到的资源项目 /info.plist：同 iOS，WatchKit App 相关设定</p><li><p>WatchKit Extension: 负责程式呼叫、逻辑处理( * .swift) /InterfaceController.swift：预设的视图控制器程式 /ExtensionDelegate.swift：类似Swift的AppDelegate，Apple Watch App 启动入口 /NotificationController.swift：用于处理Apple Watch App上的推播显示 /Assets.xcassets：这里不使用，我统一放在WatchKit App的Assets.xcassets下 /info.plist：同 iOS，WatchKit Extension 相关设定 /PushNotificationPayload.apns：推播资料，可用在模拟器上测试推播功能</p></ol><p>细节会在后面做介绍，先大概了解一下目录及文件内容功能即可。</p><h4 id="视图控制器"><span class="me-2">视图控制器：</span><a href="#视图控制器" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>在AppleWatch中视图控制器不叫ViewController而是InterfaceController</strong> ，你可以在WatchKit App/Interface.storyboard中找到Interface Controller Scence，控制它的程式就放在WatchKit Extension/InterfaceController.swift中(同iOS概念)</p><p><a href="/assets/e85d77b05061/1*2ibd9b4yaRGxwSpgKMdyUw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*2ibd9b4yaRGxwSpgKMdyUw.webp" alt="Scene预设会和Notification Controller Scene挤在一起 (我会把它拉上面一点分开)" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjYwOSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Scene预设会和Notification Controller Scene挤在一起 (我会把它拉上面一点分开)</p><p>可在右方设定InterfaceController的标题显示文字．</p><p>标题颜色部分吃的是Interface Builder Document/Global hint设定，整个App的风格颜色会是统一的．</p><p><a href="/assets/e85d77b05061/1*ZcS9q4gNSBo6MZLp1eITeA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*ZcS9q4gNSBo6MZLp1eITeA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NzkiIGhlaWdodD0iNzIxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="元件库"><span class="me-2">元件库：</span><a href="#元件库" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*Armv40CxLqJ1wlbMI_o1oQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*Armv40CxLqJ1wlbMI_o1oQ.webp" alt="没有太多复杂的元件，元件功能也都简单明了" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDQiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>没有太多复杂的元件，元件功能也都简单明了</p><h4 id="ui-排版"><span class="me-2">UI 排版：</span><a href="#ui-排版" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>万丈高楼从View起，排版的部分没有 UIKit(iOS) 中的Auto Layout、约束、图层，全都使用参数进行排版设置，更简单有力(排起来有点像 UIKit 中的 UIStackView)</p><blockquote><p><strong>一切排版由Group组成，类似UIKit中的 UIStackView 但能设置更多排版参数</strong></p></blockquote><p><a href="/assets/e85d77b05061/1*aoHxAFjEGgH3ZLQx9GhH_Q.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*aoHxAFjEGgH3ZLQx9GhH_Q.webp" alt="Group的参数设置" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzQiIGhlaWdodD0iMTExOCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Group的参数设置</p><ol><li><p>Layout：设置被包在里面的子View排版方式（水平、垂直、图层堆叠）</p><li><p>Insets：设置Group的上下左右间距</p><li><p>Spacing：设置被包在里面的子View之间的间距</p><li><p>Radius：设置Group的圆角，没错！WatchKit自带圆角设置参数</p><li><p>Alignment/Horizontal：设置水平对齐方式（左、中、右）与邻居、外层包覆的View设置会有所连动</p><li><p>Alignment/Vertical：设置垂直对齐方式（上、中、下）与邻居、外层包覆的View设置会有所连动</p><li><p>Size/Width：设置Group的大小，有三种模式可选「Fixed：指定宽度」、「Size To Fit Content：依照内容子View大小决定宽度」、「Relative to Container：参照外层包覆的View大小为宽度(可设%/+ -修正值)」</p><li><p>Size/Height：同Size/Width，此项是设置高度</p></ol><h4 id="字型字体大小设置"><span class="me-2">字型/字体大小设置：</span><a href="#字型字体大小设置" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*8NfJeD4FsUw-SpAx_VFDCQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*8NfJeD4FsUw-SpAx_VFDCQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjQiIGhlaWdodD0iNjI4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可直接套用系统的Text Styles，或使用Custom（但这边我测试使用Custom无法设定字体大小）；所以 <strong>我是使用System</strong> 自订各显示Label的字体大小</p><h4 id="做中学以line排版为例"><span class="me-2"><strong>做中学：以Line排版为例</strong></span><a href="#做中学以line排版为例" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*oY9kLcnASy9j1WXxV4FGPA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*oY9kLcnASy9j1WXxV4FGPA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>排版部分不像 iOS 那么复杂，所以我直接透过范例示范给大家看，就能直接上手；以 Line 的主页排版为例子：</p><p><em>在WatchKit App/Interface.storyboard中找到Interface Controller Scence:</em></p><p>1.整个页面，相当于 iOS App 开发中会使用到的 UITableView，在Apple Watch App 中简化了操作，名字也改叫做「WKInterfaceTable」 首先就先拉一个Table到Interface Controller Scence中</p><p><a href="/assets/e85d77b05061/1*bui2UXp9QwBYSYC-mwyK6g.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*bui2UXp9QwBYSYC-mwyK6g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDc2IiBoZWlnaHQ9IjY3OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>同UIKit UITableView，有Table本体、有Cell(Apple Watch中叫做Row)；使用起来简化许多， <strong>你可以直接在此介面上进行Cell的设计排版！</strong></p><ol><li>分析排版架构，设计Row显示样式：</ol><p><a href="/assets/e85d77b05061/1*2bsyQ9Szfptugtg_KKxcgg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*2bsyQ9Szfptugtg_KKxcgg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MzQiIGhlaWdodD0iMjEyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>要排出一个左边有圆角满版的Image且堆叠一个Label，右边平均分配上下两个区块，上方放Label，下方也放Label的区块</p><p>2–1: 拉出左右两区块的架构</p><p><a href="/assets/e85d77b05061/1*ez1NpEq3fgAMEqNjwTvWdw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*ez1NpEq3fgAMEqNjwTvWdw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjQ2MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>拉两个Group到Group中，并对Size参数分别设定：</p><p>左边绿色部分：</p><p><a href="/assets/e85d77b05061/1*axrBV1EHrPtOHvTnLtB79w.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*axrBV1EHrPtOHvTnLtB79w.webp" alt="Layout设定Overlap，里面子View要做未读讯息Label的图层堆叠显示" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjQiIGhlaWdodD0iODgiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Layout设定Overlap，里面子View要做未读讯息Label的图层堆叠显示</p><p><a href="/assets/e85d77b05061/1*Ti346bLg8AM2FInO6PNwLw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*Ti346bLg8AM2FInO6PNwLw.webp" alt="设固定长宽40的正方形" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NTQiIGhlaWdodD0iMjM2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>设固定长宽40的正方形</p><p>右边红色部分：</p><p><a href="/assets/e85d77b05061/1*5aq_TTFEp3kq6RusiTkYcw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*5aq_TTFEp3kq6RusiTkYcw.webp" alt="Layout设定Vertical，里面子View要做上下两个显示" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjYiIGhlaWdodD0iODQiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Layout设定Vertical，里面子View要做上下两个显示</p><p><a href="/assets/e85d77b05061/1*aXH2d1kDRLNl4XsizV9P_g.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*aXH2d1kDRLNl4XsizV9P_g.webp" alt="宽度设定参照外层，比例100%，扣掉左边绿色部分40" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjIiIGhlaWdodD0iMjM2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>宽度设定参照外层，比例100%，扣掉左边绿色部分40</p><p>左右容器内排版：</p><p><a href="/assets/e85d77b05061/1*NR2vAZ3mqPMjCLqBCJ6ZxQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*NR2vAZ3mqPMjCLqBCJ6ZxQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjQ3MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>左边部分：拉入一个Image，再拉入一个包覆Lable的Group对齐设右下(Group设底色再设间距及圆角)</p><p>右边部分：拉入两个Label，一个对齐设左上，一个对齐设左下即可</p><h4 id="为row命名同uikit-uitableview为cell设定identifier"><span class="me-2">为Row命名(同UIKit UITableView为Cell设定identifier)：</span><a href="#为row命名同uikit-uitableview为cell设定identifier" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*VTCVIJRAG-sGdBLjC26TKg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*VTCVIJRAG-sGdBLjC26TKg.webp" alt="选定Row-&gt;Identifier-&gt;输入自订名称" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjUzMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>选定Row-&gt;Identifier-&gt;输入自订名称</p><h4 id="row的呈现样式不只一种呢"><span class="me-2">Row的呈现样式不只一种呢？</span><a href="#row的呈现样式不只一种呢" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>非常简单，只要在拉一个Row放在Table里(实际要显示哪个样式的ROW由程式控制)并输入Identifier命名即可</p><p><a href="/assets/e85d77b05061/1*kQOKjxqmtI7M8BwYQ0yY0A.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*kQOKjxqmtI7M8BwYQ0yY0A.webp" alt="这边我再拉一个Row用于呈现无资料时的提示" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjU0MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>这边我再拉一个Row用于呈现无资料时的提示</p><h4 id="排版相关资讯"><span class="me-2">排版相关资讯</span><a href="#排版相关资讯" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>watchKit的hidden不会占位，可拿来做交互应用（有登入才显示Table；没登入显示提示Label）</p><p><a href="/assets/e85d77b05061/1*RiCY7mH4_MyocNPN1GDuvA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*RiCY7mH4_MyocNPN1GDuvA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU5MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>排版到此告一段落，可依照个人设计做修改；上手容易，多排个几次、玩玩对齐参数，就能熟悉！</p><h4 id="程式控制部分"><span class="me-2">程式控制部分：</span><a href="#程式控制部分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>接续Row，我们需要建立一个Class对Row进行参照操作：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">ContactRow</span><span class="p">:</span><span class="kt">NSObject</span> <span class="p">{</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="/assets/e85d77b05061/1*-AnyG0_PLubAX7f-579BMw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*-AnyG0_PLubAX7f-579BMw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjI3MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">ContactRow</span><span class="p">:</span><span class="kt">NSObject</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">id</span><span class="p">:</span><span class="kt">String</span><span class="p">?</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">unReadGroup</span><span class="p">:</span> <span class="kt">WKInterfaceGroup</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">unReadLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">imageView</span><span class="p">:</span> <span class="kt">WKInterfaceImage</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">nameLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">timeLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
<span class="p">}</span>
</pre></table></code></div></div><p>拉outlet、储存变数</p><p>Table部分ㄧ样拉Outlet到Controller中：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">InterfaceController</span><span class="p">:</span> <span class="kt">WKInterfaceController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">Table</span><span class="p">:</span> <span class="kt">WKInterfaceTable</span><span class="o">!</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">awake</span><span class="p">(</span><span class="n">withContext</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">Any</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">awake</span><span class="p">(</span><span class="nv">withContext</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
        
        <span class="c1">// Configure interface objects here.</span>
    <span class="p">}</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">willActivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is about to be visible to user</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">willActivate</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">struct</span> <span class="kt">ContactStruct</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">name</span><span class="p">:</span><span class="kt">String</span>
        <span class="k">var</span> <span class="nv">image</span><span class="p">:</span><span class="kt">String</span>
        <span class="k">var</span> <span class="nv">time</span><span class="p">:</span><span class="kt">String</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">loadData</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//Get API Call Back...</span>
        <span class="c1">//postData {</span>
        <span class="k">let</span> <span class="nv">data</span><span class="p">:[</span><span class="kt">ContactStruct</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">//api returned data...</span>
        
        <span class="k">self</span><span class="o">.</span><span class="kt">Table</span><span class="o">.</span><span class="nf">setNumberOfRows</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="nv">withRowType</span><span class="p">:</span> <span class="s">"ContactRow"</span><span class="p">)</span>
        <span class="c1">//如果你有多种ROW需要呈现则用：</span>
            <span class="c1">//self.Table.setRowTypes(["ContactRow","ContactRow2","ContactRow3"])</span>
        <span class="c1">//</span>
        <span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">data</span><span class="o">.</span><span class="nf">enumerated</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">row</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="kt">Table</span><span class="o">.</span><span class="nf">rowController</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">offset</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">ContactRow</span> <span class="p">{</span>
                <span class="n">row</span><span class="o">.</span><span class="n">nameLabel</span><span class="o">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="c1">//assign value to lable/image......</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="c1">//}</span>
    <span class="p">}</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didDeactivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is no longer visible</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">didDeactivate</span><span class="p">()</span>
        <span class="nf">loadData</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="c1">//处理Row点选时:</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">table</span><span class="p">(</span><span class="n">_</span> <span class="nv">table</span><span class="p">:</span> <span class="kt">WKInterfaceTable</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="nv">rowIndex</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">row</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="nf">rowController</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">rowIndex</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">ContactRow</span><span class="p">,</span><span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">id</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">pushController</span><span class="p">(</span><span class="nv">withName</span><span class="p">:</span> <span class="s">"showDetail"</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="n">id</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Table的操作简化许多没有delegate/datasource，设定资料方式只要呼叫setNumberOfRows/setRowTypes指定Row数量和形态，再使用rowController(at:) 设定每列的资料内容即可！</p><p>Table的Row选择事件也只需 override func table( _ table: WKInterfaceTable, didSelectRowAt rowIndex: Int) 即可操作！(Table也只有这个事件)</p><h4 id="如何跳页"><span class="me-2">如何跳页？</span><a href="#如何跳页" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*1KovG3qshPRsCgUXkbDYFw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*1KovG3qshPRsCgUXkbDYFw.webp" alt="首先为Interface Controller设定Identifier" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjYyNyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>首先为Interface Controller设定Identifier</p><p>watchKit有两种跳页模式：</p><p>1.类似iOS UIKit push self.pushController(withName: <strong>Interface Controller Identifier</strong> , context: <strong>Any?</strong> )</p><p><a href="/assets/e85d77b05061/1*snXj8xFP0MtF3_sVWK1xUw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*snXj8xFP0MtF3_sVWK1xUw.webp" alt="push方式可左上返回" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>push方式可左上返回</p><p>返回上一页同iOS UIKit：self.pop( )</p><p>返回根页面：self.popToRootController( )</p><p>开新页面：self.presentController( )</p><ol><li><a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/WatchKitProgrammingGuide/InterfaceStyles.html" target="_blank">页签显示方式</a> WKInterfaceController.reloadRootControllers(withNames: [ <strong>Interface Controller Identifier</strong> ], contexts: [ <strong>Any?</strong> ] )</ol><p>亦或是在Storyboard上，在第一页的Interface Controller上按Control+Click拖曳到第二页选择「next page」也可</p><p><a href="/assets/e85d77b05061/1*teUOM4Wql2hexR51g7v1lQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*teUOM4Wql2hexR51g7v1lQ.webp" alt="页签显示方式可以左右切换页面" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>页签显示方式可以左右切换页面</p><p>两种跳页方式不能混用．</p><h4 id="跳页参数"><span class="me-2">跳页参数？</span><a href="#跳页参数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>不像iOS需要使用自订delegate或segue方式传递参数，watchKit跳页带参数方式就是将参数放入上方方法中的 <strong>contexts</strong> 中即可．</p><p>接收参数在 <strong>InterfaceController</strong> 的 awake(withContext context: Any?)</p><p>例如我在A页面要跳到B页面并带入id:Int时：</p><p>A 页面:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">self</span><span class="o">.</span><span class="nf">pushController</span><span class="p">(</span><span class="nv">withName</span><span class="p">:</span> <span class="s">"showDetail"</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
</pre></table></code></div></div><p>B 页面:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">override</span> <span class="kd">func</span> <span class="nf">awake</span><span class="p">(</span><span class="n">withContext</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">Any</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">awake</span><span class="p">(</span><span class="nv">withContext</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="n">context</span> <span class="k">as?</span> <span class="kt">Int</span> <span class="k">else</span> <span class="p">{</span>
           <span class="nf">print</span><span class="p">(</span><span class="s">"参数错误！"</span><span class="p">)</span>
           <span class="k">self</span><span class="o">.</span><span class="nf">popToRootController</span><span class="p">()</span>
           <span class="k">return</span>
        <span class="p">}</span>
        <span class="c1">// Configure interface objects here.</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="程式控制元件部分"><span class="me-2">程式控制元件部分</span><a href="#程式控制元件部分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>相比iOS UIKit一样简化许多，有开发过iOS的应该上手很快！ 例如label变成setText( ) p.s. 而且居然没有getText的方法，只能extension变数或放在外部变数储存</p><h4 id="与iphone之间同步资料传递"><span class="me-2">与iPhone之间同步/资料传递</span><a href="#与iphone之间同步资料传递" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>如果有开发过iOS 相关 Extension 的话；下意识一定是用App Groups共享UserDefaults的方式，当初我也兴冲冲的这样做，然后卡了好久发现资料一直过不去，直到上网一查才发现，watchOS&gt;2之后就不再支援此方法了….</p><p>要使用新的WatchConnectivity方式让手机跟手表之间进行通讯(类似socket概念)，iOS手机及手表watchOS两端都需要实做，我们写成singleton模式如下：</p><p><strong>手机端：</strong></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchConnectivity</span>

<span class="kd">class</span> <span class="kt">WatchSessionManager</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WCSessionDelegate</span> <span class="p">{</span>
    <span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">9.3</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">activationDidCompleteWith</span> <span class="nv">activationState</span><span class="p">:</span> <span class="kt">WCSessionActivationState</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
        <span class="c1">//手机端session启用完成</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didReceiveUserInfo</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="p">{</span>
        <span class="c1">//手机端接受到手表传回的UserInfo</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didReceiveMessage</span> <span class="nv">message</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="nv">replyHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//手机端接受到手表回传的Message</span>
    <span class="p">}</span>
    
    <span class="c1">//另外还有didReceiveMessageData,didReceiveFile同样都是处理收到手表回传的资料</span>
    <span class="c1">//看你的资料传递接收需求决定要用哪个</span>
    
    <span class="kd">func</span> <span class="nf">sendUserInfo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">validSession</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">validSession</span><span class="p">,</span><span class="n">validSession</span><span class="o">.</span><span class="n">isReachable</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">userDefaultsTransfer</span><span class="p">?</span><span class="o">.</span><span class="n">isTransferring</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">{</span>
            <span class="n">userDefaultsTransfer</span><span class="p">?</span><span class="o">.</span><span class="nf">cancel</span><span class="p">()</span>
        <span class="p">}</span>
        
        <span class="k">var</span> <span class="nv">list</span><span class="p">:[</span><span class="kt">String</span><span class="p">:</span><span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:]</span>
        <span class="c1">//将UserDefaults放入list....</span>
        
        <span class="k">self</span><span class="o">.</span><span class="n">userDefaultsTransfer</span> <span class="o">=</span> <span class="n">validSession</span><span class="o">.</span><span class="nf">transferUserInfo</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionReachabilityDidChange</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//与手表APP连接状态改变时(手表开启APP时/手表关闭APP时)</span>
        <span class="nf">sendUserInfo</span><span class="p">()</span>
        <span class="c1">//我是当状态改变，如为手表开启APP时就同步一次UserDefaults</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didFinish</span> <span class="nv">userInfoTransfer</span><span class="p">:</span> <span class="kt">WCSessionUserInfoTransfer</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
        <span class="c1">//完成同步UserDefaults(transferUserInfo)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionDidBecomeInactive</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionDidDeactivate</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">sharedManager</span> <span class="o">=</span> <span class="kt">WatchSessionManager</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">?</span> <span class="o">=</span> <span class="kt">WCSession</span><span class="o">.</span><span class="nf">isSupported</span><span class="p">()</span> <span class="p">?</span> <span class="kt">WCSession</span><span class="o">.</span><span class="k">default</span> <span class="p">:</span> <span class="kc">nil</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">validSession</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="n">session</span><span class="p">,</span> <span class="n">session</span><span class="o">.</span><span class="n">isPaired</span> <span class="o">&amp;&amp;</span> <span class="n">session</span><span class="o">.</span><span class="n">isWatchAppInstalled</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">session</span>
        <span class="p">}</span>
        <span class="c1">//回传有效且连接中且手表APP开启中的session</span>
        <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">startSession</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">activate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>WatchConnectivity 手机端的 Code</p><p>并在iOS/AppDelegate.swift的application( _ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?)中加入WatchSessionManager.sharedManager.startSession( ) 以在启动手机APP后连接上session</p><p><strong>手表端：</strong></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchConnectivity</span>

<span class="kd">class</span> <span class="kt">WatchSessionManager</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WCSessionDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">activationDidCompleteWith</span> <span class="nv">activationState</span><span class="p">:</span> <span class="kt">WCSessionActivationState</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionReachabilityDidChange</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="n">session</span><span class="o">.</span><span class="n">isReachable</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didFinish</span> <span class="nv">userInfoTransfer</span><span class="p">:</span> <span class="kt">WCSessionUserInfoTransfer</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didReceiveUserInfo</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="p">{</span>
        <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
            <span class="c1">//UserDefaults:</span>
            <span class="c1">//print(userInfo)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">sharedManager</span> <span class="o">=</span> <span class="kt">WatchSessionManager</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">?</span> <span class="o">=</span> <span class="kt">WCSession</span><span class="o">.</span><span class="nf">isSupported</span><span class="p">()</span> <span class="p">?</span> <span class="kt">WCSession</span><span class="o">.</span><span class="k">default</span> <span class="p">:</span> <span class="kc">nil</span>
    
    <span class="kd">func</span> <span class="nf">startSession</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">activate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></table></code></div></div><p>WatchConnectivity 手表端的 Code</p><p>并在WatchOS Extension/ExtensionDelegate.swift中的applicationDidFinishLaunching( ) 加入 WatchSessionManager.sharedManager.startSession( ) 以在启动手表APP后连接上session</p><h4 id="watchconnectivity-资料传递方式"><span class="me-2">WatchConnectivity 资料传递方式</span><a href="#watchconnectivity-资料传递方式" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>传资料用：sendMessage,sendMessageData,transferUserInfo,transferFile 收资料用：didReceiveMessageData,didReceive,didReceiveMessage 两端传接收方法都ㄧ样</p><p><a href="/assets/e85d77b05061/1*eVT-62WCBy1ZZC90abJPqA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*eVT-62WCBy1ZZC90abJPqA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NzYiIGhlaWdodD0iMTkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可以看到手表传资料到手机都通，但手机传资料到手表仅限手表APP开启中</p><h4 id="watchos推播处理"><span class="me-2">watchOS推播处理</span><a href="#watchos推播处理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>专案目录底下的PushNotificationPayload.apns这时就派上用场了，这是用来在模拟器上测试推播之用，在模拟器上部署Watch App target，安装完启动App就会收到一则以这个档案内容的推播，让开发者更容易测试推播功能．</p><p><a href="/assets/e85d77b05061/1*1nlJOqwVqpMP6WtwdRcLPA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*1nlJOqwVqpMP6WtwdRcLPA.webp" alt="如要修改/启用/停用 PushNotificationPayload.apns，请选择Target后Edit Scheme" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjY3MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>如要修改/启用/停用 PushNotificationPayload.apns，请选择Target后Edit Scheme</p><p><strong>watchOS 推播处理：</strong></p><p>同iOS我们实做UNUserNotificationCenterDelegate，在watchOS中我们也实作一样的方法，在watchOS Extension/ExtensionDelegate.swift中</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchKit</span>
<span class="kd">import</span> <span class="kt">UserNotifications</span>
<span class="kd">import</span> <span class="kt">WatchConnectivity</span>

<span class="kd">class</span> <span class="kt">ExtensionDelegate</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WKExtensionDelegate</span><span class="p">,</span> <span class="kt">UNUserNotificationCenterDelegate</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">applicationDidFinishLaunching</span><span class="p">()</span> <span class="p">{</span>
        
        <span class="kt">WatchSessionManager</span><span class="o">.</span><span class="n">sharedManager</span><span class="o">.</span><span class="nf">startSession</span><span class="p">()</span> <span class="c1">//前面提到的WatchConnectivity连线</span>
      
        <span class="kt">UNUserNotificationCenter</span><span class="o">.</span><span class="nf">current</span><span class="p">()</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span> <span class="c1">//设定UNUserNotificationCenter delegate</span>
        <span class="c1">// Perform any final initialization of your application.</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">userNotificationCenter</span><span class="p">(</span><span class="n">_</span> <span class="nv">center</span><span class="p">:</span> <span class="kt">UNUserNotificationCenter</span><span class="p">,</span> <span class="n">willPresent</span> <span class="nv">notification</span><span class="p">:</span> <span class="kt">UNNotification</span><span class="p">,</span> <span class="n">withCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">UNNotificationPresentationOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">completionHandler</span><span class="p">([</span><span class="o">.</span><span class="n">sound</span><span class="p">,</span> <span class="o">.</span><span class="n">alert</span><span class="p">])</span>
        <span class="c1">//同iOS，此做法可让推播在APP前景时依然会显示</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">userNotificationCenter</span><span class="p">(</span><span class="n">_</span> <span class="nv">center</span><span class="p">:</span> <span class="kt">UNUserNotificationCenter</span><span class="p">,</span> <span class="n">didReceive</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">UNNotificationResponse</span><span class="p">,</span> <span class="n">withCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//点击推播时</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">info</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">notification</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">userInfo</span><span class="p">[</span><span class="s">"aps"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">NSDictionary</span><span class="p">,</span><span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s">"alert"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span><span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s">"data"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="kt">String</span><span class="o">&gt;</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">completionHandler</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="c1">//response.actionIdentifier可得点击事件Identifier</span>
        <span class="c1">//预设点击事件：UNNotificationDefaultActionIdentifier</span>
        
        <span class="k">if</span> <span class="n">alert</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"new_ask"</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">WKExtension</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="n">rootInterfaceController</span><span class="p">?</span><span class="o">.</span><span class="nf">pushController</span><span class="p">(</span><span class="nv">withName</span><span class="p">:</span> <span class="s">"showDetail"</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
            <span class="c1">//取得目前root interface controller 并 push</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
           <span class="c1">//其他处理....</span>
           <span class="c1">//WKExtension.shared().rootInterfaceController?.presentController(withName: "", context: nil)</span>
            
        <span class="p">}</span>
        
        <span class="nf">completionHandler</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>ExtensionDelegate.swift</p><p><strong>watchOS 推播显示，分成三种：</strong></p><ol><li>static： 预设推播显示方式</ol><p><a href="/assets/e85d77b05061/1*uQN8Km08rio4tylAw48LyQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*uQN8Km08rio4tylAw48LyQ.webp" alt="会同手机推播，这边手机端iOS有实做UNUserNotificationCenter.setNotificationCategories在通知下方增加按钮；Apple Watch预设亦然会出现" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NDgiIGhlaWdodD0iNDcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>会同手机推播，这边手机端iOS有实做UNUserNotificationCenter.setNotificationCategories在通知下方增加按钮；Apple Watch预设亦然会出现</p><ol><li><p>dynamic：动态处理推播显示样式（重组内容、显示图片）</p><li><p>interactive：watchOS ≥ 5 后支援，在dynamic的基础下再增加支援按钮</p></ol><p><a href="/assets/e85d77b05061/1*PlYKw5M3XBVDtjOa2tklgg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*PlYKw5M3XBVDtjOa2tklgg.webp" alt="可在Interface.storyboard中的Static Notification Interface Controller Scene设定推播处理方式" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9Ijg1NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>可在Interface.storyboard中的Static Notification Interface Controller Scene设定推播处理方式</p><p>static没什么好说的，就是走预设的显示方式，这边先介绍dynamic，勾选「Has Dynamic Interface」后会出现「Dynamic Interface」可在此视图设计你自订的推播呈现方式（不能使用Button）：</p><p><a href="/assets/e85d77b05061/1*RYSdWHxgmZX6Ht6m11Qpig.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*RYSdWHxgmZX6Ht6m11Qpig.webp" alt="我的自订推播呈现设计" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5ODgiIGhlaWdodD0iNzQ0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>我的自订推播呈现设计</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchKit</span>
<span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">UserNotifications</span>

<span class="kd">class</span> <span class="kt">NotificationController</span><span class="p">:</span> <span class="kt">WKUserNotificationInterfaceController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">imageView</span><span class="p">:</span> <span class="kt">WKInterfaceImage</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">titleLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">contentLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    
    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Initialize variables here.</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">"结婚吧"</span><span class="p">)</span> <span class="c1">//设定右上方标题</span>
        <span class="c1">// Configure interface objects here.</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">willActivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is about to be visible to user</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">willActivate</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didDeactivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is no longer visible</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">didDeactivate</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didReceive</span><span class="p">(</span><span class="n">_</span> <span class="nv">notification</span><span class="p">:</span> <span class="kt">UNNotification</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">watchOSApplicationExtension</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">notificationActions</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1">//清除iOS实做的UNUserNotificationCenter.setNotificationCategories在通知下方增加的按钮</span>
        <span class="p">}</span>
        
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">info</span> <span class="o">=</span> <span class="n">notification</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">userInfo</span><span class="p">[</span><span class="s">"aps"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">NSDictionary</span><span class="p">,</span><span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s">"alert"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="kt">String</span><span class="o">&gt;</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="c1">//推播资讯</span>
        
        <span class="k">self</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">alert</span><span class="p">[</span><span class="s">"title"</span><span class="p">])</span>
        <span class="k">self</span><span class="o">.</span><span class="n">contentLabel</span><span class="o">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">alert</span><span class="p">[</span><span class="s">"body"</span><span class="p">])</span>
        
        <span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">watchOSApplicationExtension</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">alert</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"new_msg"</span> <span class="p">{</span>
              <span class="c1">//如果是新讯息推播则在通知下方增加回复按钮</span>
              <span class="k">self</span><span class="o">.</span><span class="n">notificationActions</span> <span class="o">=</span> <span class="p">[</span><span class="kt">UNNotificationAction</span><span class="p">(</span><span class="nv">identifier</span><span class="p">:</span> <span class="s">"replyAction"</span><span class="p">,</span><span class="nv">title</span><span class="p">:</span> <span class="s">"回复"</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">foreground</span><span class="p">])]</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
              <span class="c1">//其他则增加查看按钮</span>
              <span class="k">self</span><span class="o">.</span><span class="n">notificationActions</span> <span class="o">=</span> <span class="p">[</span><span class="kt">UNNotificationAction</span><span class="p">(</span><span class="nv">identifier</span><span class="p">:</span> <span class="s">"openAction"</span><span class="p">,</span><span class="nv">title</span><span class="p">:</span> <span class="s">"查看"</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">foreground</span><span class="p">])]</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        
        <span class="c1">// This method is called when a notification needs to be presented.</span>
        <span class="c1">// Implement it if you use a dynamic notification interface.</span>
        <span class="c1">// Populate your dynamic notification interface as quickly as possible.</span>
        
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>程式部分，ㄧ样拉outlet到controller并实做功能</p><p>再来讲到interactive，同dynamic，只是能多加Button，能跟dynamic设同个Class控制程式；interactive我没有使用，因为我的按钮是用程式self.notificationActions加上去的，差异如下：</p><p><a href="/assets/e85d77b05061/1*_1Crgx61kE6F509Jd2qxPQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*_1Crgx61kE6F509Jd2qxPQ.webp" alt="左使用interactive，右使用self.notificationActions" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NTMiIGhlaWdodD0iNDcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>左使用interactive，右使用self.notificationActions</p><p>两个做法都需watchOS ≥ 5 支援．</p><p>使用self.notificationActions增加按钮则按钮事件处理由ExtensionDelegate中的 <code class="language-plaintext highlighter-rouge">userNotificationCenter(_ center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping () -&gt; Void)</code> 处理，并以identifier识别动作</p><h4 id="选单功能"><span class="me-2">选单功能？</span><a href="#选单功能" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*qHUly8lLEa5L7FSPJCrbcw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*qHUly8lLEa5L7FSPJCrbcw.webp" alt="在元件库中拉入Menu，再拉入选单项目Menu Item，再拉IBAction到程式控制" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjQ3NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>在元件库中拉入Menu，再拉入选单项目Menu Item，再拉IBAction到程式控制</p><p>在页面重压就会出现：</p><p><a href="/assets/e85d77b05061/1*9aj7kUPsv9d8XUvgCpqfOg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*9aj7kUPsv9d8XUvgCpqfOg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="内容输入"><span class="me-2">内容输入？</span><a href="#内容输入" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>使用内建的presentTextInputController方法即可！</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">replyBtnClick</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">target</span> <span class="o">=</span> <span class="n">target</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span>
    <span class="p">}</span>
    
    <span class="k">self</span><span class="o">.</span><span class="nf">presentTextInputController</span><span class="p">(</span><span class="nv">withSuggestions</span><span class="p">:</span> <span class="p">[</span><span class="s">"稍后回复您"</span><span class="p">,</span><span class="s">"谢谢"</span><span class="p">,</span><span class="s">"欢迎与我联络"</span><span class="p">,</span><span class="s">"好的"</span><span class="p">,</span><span class="s">"OK!"</span><span class="p">],</span> <span class="nv">allowedInputMode</span><span class="p">:</span> <span class="kt">WKTextInputMode</span><span class="o">.</span><span class="n">plain</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="k">in</span>
        
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">results</span> <span class="o">=</span> <span class="n">results</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="c1">//有输入值时</span>
        
        <span class="k">let</span> <span class="nv">txts</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="nf">filter</span><span class="p">({</span> <span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="k">in</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">txt</span> <span class="o">=</span> <span class="n">txt</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">,</span><span class="n">txt</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
                <span class="k">return</span> <span class="kc">true</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">})</span><span class="o">.</span><span class="nf">map</span><span class="p">({</span> <span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="k">in</span>
            <span class="k">return</span> <span class="n">txt</span> <span class="k">as?</span> <span class="kt">String</span> <span class="p">??</span> <span class="s">""</span>
        <span class="p">})</span>
        <span class="c1">//预处理输入</span>
        
        
        <span class="n">txts</span><span class="o">.</span><span class="nf">forEach</span><span class="p">({</span> <span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="/assets/e85d77b05061/1*CWr9RIb55Sn-FoMrTmc7sQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*CWr9RIb55Sn-FoMrTmc7sQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h3 id="总结"><span class="me-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><strong><em>谢谢你看到这！辛苦了！</em></strong></p></blockquote><p>到这里文章已告一段落，大略提了一下UI排版、程式、推播、介面应用部分，有开发过iOS的上手真的很快，几乎差不多而且许多方法都做了简化使用起来更简洁，但能做的事确实也变少了(像是目前还不知道怎么针对Table做载入更多)；目前能做的事确实很少，希望官方在未来能开放更多API给开发者使用❤️❤️❤️</p><h4 id="murmur"><span class="me-2">MurMur:</span><a href="#murmur" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*-J9qZ846ZysJEhMTSZeE3w.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*-J9qZ846ZysJEhMTSZeE3w.webp" alt="Apple Watch App Target 部署到手表真的有够慢 — [Narcos](https://www.netflix.com/tw/title/80025172){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NjAiIGhlaWdodD0iOTQ1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Apple Watch App Target 部署到手表真的有够慢 — <a href="https://www.netflix.com/tw/title/80025172" target="_blank">Narcos</a></p><p>有任何问题及指教欢迎 <a href="https://www.zhgchg.li/contact" target="_blank">与我联络</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/zrealm-dev/zh-cn/apple-watch-app-%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6-%E4%BB%8E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-info"><p>本文首次发表于 Medium (<a href="https://medium.com/p/e85d77b05061" target="_blank"><strong>点击查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自动转换与同步技术。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-cn/zmediumtomarkdown/2019-02-05-e85d77b05061.md" target="_blank">Improve this page on Github.</a></p></blockquote><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1,050+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/simplified-chinese/" class="post-tag no-text-decoration" >simplified-chinese</a> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/watchos/" class="post-tag no-text-decoration" >watchos</a> <a href="/tags/apple-watch-apps/" class="post-tag no-text-decoration" >apple-watch-apps</a> <a href="/tags/watchkit/" class="post-tag no-text-decoration" >watchkit</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Apple%20Watch%20App%20%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6%EF%BD%9C%E4%BB%8E%20UI%20%E6%8E%92%E7%89%88%E5%88%B0%20WatchConnectivity%20%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fapple-watch-app-%25E5%25BC%2580%25E5%258F%2591%25E6%2595%2599%25E5%25AD%25A6-%25E4%25BB%258E-ui-%25E6%258E%2592%25E7%2589%2588%25E5%2588%25B0-watchconnectivity-%25E8%25B5%2584%25E6%2596%2599%25E5%2590%258C%25E6%25AD%25A5%25E5%25AE%258C%25E6%2595%25B4%25E6%2594%25BB%25E7%2595%25A5-e85d77b05061%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Apple%20Watch%20App%20%E5%BC%80%E5%8F%91%E6%95%99%E5%AD%A6%EF%BD%9C%E4%BB%8E%20UI%20%E6%8E%92%E7%89%88%E5%88%B0%20WatchConnectivity%20%E8%B5%84%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fapple-watch-app-%25E5%25BC%2580%25E5%258F%2591%25E6%2595%2599%25E5%25AD%25A6-%25E4%25BB%258E-ui-%25E6%258E%2592%25E7%2589%2588%25E5%2588%25B0-watchconnectivity-%25E8%25B5%2584%25E6%2596%2599%25E5%2590%258C%25E6%25AD%25A5%25E5%25AE%258C%25E6%2595%25B4%25E6%2594%25BB%25E7%2595%25A5-e85d77b05061%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fapple-watch-app-%25E5%25BC%2580%25E5%258F%2591%25E6%2595%2599%25E5%25AD%25A6-%25E4%25BB%258E-ui-%25E6%258E%2592%25E7%2589%2588%25E5%2588%25B0-watchconnectivity-%25E8%25B5%2584%25E6%2596%2599%25E5%2590%258C%25E6%25AD%25A5%25E5%25AE%258C%25E6%2595%25B4%25E6%2594%25BB%25E7%2595%25A5-e85d77b05061%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/ci-cd-explained-boost-ios-app-development-stability-and-efficiency-tool-selection-guide-c008a9e8ceca/">CI/CD Explained: Boost iOS App Development Stability and Efficiency｜Tool Selection Guide</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A8%B3%E5%AE%9A%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E7%9A%84%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9-c008a9e8ceca/">CI/CD 实战指南（一）：CI/CD 是什么？如何透过 CI/CD 打造稳定高效的开发团队？工具选择？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/">CI/CD 實戰指南（一）：CI/CD 是什麼？如何透過 CI/CD 打造穩定高效的開發團隊？工具選擇？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/google-apps-script-web-app-integrate-forms-with-github-actions-ci-cd-for-streamlined-workflows-4cb4437818f2/">Google Apps Script Web App｜Integrate Forms with GitHub Actions CI/CD for Streamlined Workflows</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%AE%A2%E8%A1%A8%E5%8D%95%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87-4cb4437818f2/">使用 Google Apps Script Web App 表单串接 Github Action CI/CD 工作</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Chapters 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/apple-watch-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AD%B8-%E5%BE%9E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B3%87%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1549383810" data-df="ll" > Feb 6, 2019 </time><h4 class="pt-0 my-2">動手做一支 Apple Watch App 吧！</h4><div class="text-muted"><p>watchOS 5 手把手開發Apple Watch App 從無到有</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/en/apple-watch-app-development-step-by-step-watchos-5-guide-for-beginners-e85d77b05061/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1549383810" data-df="ll" > Feb 6, 2019 </time><h4 class="pt-0 my-2">Apple Watch App Development｜Step-by-Step watchOS 5 Guide for Beginners</h4><div class="text-muted"><p>Discover how to build an Apple Watch app from scratch with this hands-on watchOS 5 tutorial, designed for developers seeking clear, practical steps to launch functional apps efficiently.</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-robotic-process-automation/zh-cn/ios-%E6%8D%B7%E5%BE%84%E8%87%AA%E5%8A%A8%E5%8C%96-3-%E6%8B%9B%E8%87%AA%E5%8A%A8%E8%BD%AC%E5%8F%91%E7%AE%80%E8%AE%AF%E4%B8%8E%E5%BB%BA%E7%AB%8B%E6%8F%90%E9%86%92%E5%BE%85%E5%8A%9E%E4%BA%8B%E9%A1%B9%E6%95%99%E5%AD%A6-309d0302877b/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1724083008" data-df="ll" > Aug 19, 2024 </time><h4 class="pt-0 my-2">iOS 捷径自动化应用场景 — 自动转发简讯与自动建立提醒待办事项</h4><div class="text-muted"><p>iOS 使用 捷径 Shortcut 简单几个步骤自动转发特定简讯给家长和自动创建包裹到货领取与信用卡缴费提醒代办事项</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/en/apple-watch-app-development-step-by-step-watchos-5-guide-for-beginners-e85d77b05061/" class="btn btn-outline-primary" aria-label="Older" ><p>Apple Watch App Development｜Step-by-Step watchOS 5 Guide for Beginners</p></a> <a href="/posts/zrealm-dev/apple-watch-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AD%B8-%E5%BE%9E-ui-%E6%8E%92%E7%89%88%E5%88%B0-watchconnectivity-%E8%B3%87%E6%96%99%E5%90%8C%E6%AD%A5%E5%AE%8C%E6%95%B4%E6%94%BB%E7%95%A5-e85d77b05061/" class="btn btn-outline-primary" aria-label="Newer" ><p>動手做一支 Apple Watch App 吧！</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">正體中文</a> | <a href="/tags/simplified-chinese">简体中文</a> | <a href="/tags/english/">English</a> <br/> Last updated: 2025-12-24 10:58:33 +08:00</p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

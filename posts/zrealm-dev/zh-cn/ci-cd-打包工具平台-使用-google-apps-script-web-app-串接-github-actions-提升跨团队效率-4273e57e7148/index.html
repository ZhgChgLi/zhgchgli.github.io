<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="打造免费且易用的打包工具平台，解决非工程人员操作 GitHub Actions 的复杂性与权限控管问题，透过 Google Apps Script Web App 整合 GitHub、Slack、Firebase 等 API，实现跨团队任务单打包与即时进度通知，提升开发与验证效率。" /><meta property="og:description" content="打造免费且易用的打包工具平台，解决非工程人员操作 GitHub Actions 的复杂性与权限控管问题，透过 Google Apps Script Web App 整合 GitHub、Slack、Firebase 等 API，实现跨团队任务单打包与即时进度通知，提升开发与验证效率。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-07-10T20:30:51+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp" /><meta property="twitter:title" content="CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2025-11-19T23:59:42+08:00","datePublished":"2025-07-10T20:30:51+08:00","description":"打造免费且易用的打包工具平台，解决非工程人员操作 GitHub Actions 的复杂性与权限控管问题，透过 Google Apps Script Web App 整合 GitHub、Slack、Firebase 等 API，实现跨团队任务单打包与即时进度通知，提升开发与验证效率。","headline":"CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/"},"url":"https://zhgchg.li/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/"}</script><title>CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/ci-cd-guide-integrate-google-apps-script-web-app-with-github-actions-for-free-packaging-platform-4273e57e7148/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-dev/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9C%98%E9%9A%8A%E6%95%88%E7%8E%87-4273e57e7148/"><link rel="alternate" hreflang="zh-Hans" href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/"><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background: #EDF4FF; color: #0A84FF;"> <i class="fa-brands fa-medium"></i> <span>Follow Me!<br/><strong>1,050+</strong> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率</h1><p class="post-desc fw-light mb-4">打造免费且易用的打包工具平台，解决非工程人员操作 GitHub Actions 的复杂性与权限控管问题，透过 Google Apps Script Web App 整合 GitHub、Slack、Firebase 等 API，实现跨团队任务单打包与即时进度通知，提升开发与验证效率。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1752150651" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 10, 2025 </time> </span> <span> Updated <time data-ts="1763567982" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Nov 19, 2025 </time> </span><div class="mt-3 mb-3"> <a href="/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp" class="popup img-link preview-img blur"><img data-src="/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="7171 words" > <em>39 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Chapters 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨团队效率</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/en/ci-cd-guide-integrate-google-apps-script-web-app-with-github-actions-for-free-packaging-platform-4273e57e7148/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9C%98%E9%9A%8A%E6%95%88%E7%8E%87-4273e57e7148/"><strong>點擊這裡</strong></a>查看本文章正體中文版本。</p></blockquote><blockquote class="prompt-info"><p>基于 SEO 考量，本文标题与描述经 AI 调整，原始版本请参考内文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目录</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#cicd-实战指南四使用-google-apps-script-web-app-串接-github-actions-建置免费易用的打包工具平台">CI/CD 实战指南（四）：使用 Google Apps Script Web App 串接 GitHub Actions 建置免费易用的打包工具平台</a></li><li class="has-children"><details><summary>前言 <a href="#前言">#</a></summary><ul><li><a href="#google-apps-script--web-app-打包工具平台-成果图">Google Apps Script — Web App 打包工具平台 成果图</a></li><li><a href="#online-demo-web-app">Online Demo Web App</a></li></ul></details></li><li class="has-children"><details><summary>技术选择 <a href="#技术选择">#</a></summary><ul><li><a href="#整合进-slack">整合进 Slack</a></li><li><a href="#整合进内部系统">整合进内部系统</a></li><li><a href="#google-apps-script--web-app">Google Apps Script — Web App</a></li><li><a href="#ui-framework">UI Framework</a></li></ul></details></li><li class="has-children"><details><summary>动手做 <a href="#动手做">#</a></summary><ul><li><a href="#开源范例专案">开源范例专案</a></li><li><a href="#档案架构">档案架构</a></li><li><a href="#建立自己的打包平台">建立自己的打包平台</a></li><li><a href="#使用者首次使用需要同意授权">使用者首次使用需要同意授权</a></li><li><a href="#更新部署">更新部署</a></li><li><a href="#新增测试部署方便开发">新增测试部署方便开发</a></li></ul></details></li><li class="has-children"><details><summary>修改 Demo 范例专案串接真实资料 <a href="#修改-demo-范例专案串接真实资料">#</a></summary><ul><li><a href="#️修改前请注意">⚠️修改前请注意</a></li><li><a href="#github-串接">GitHub 串接</a></li><li><a href="#slack-串接">Slack 串接</a></li><li><a href="#github-串接--打包表单">GitHub 串接 — 打包表单</a></li></ul></details></li><li class="has-children"><details><summary>Firebase App Distribution — 取得下载连结串接 <a href="#firebase-app-distribution--取得下载连结串接">#</a></summary><ul><li><a href="#串接原理">串接原理</a></li><li><a href="#串接专案设定">串接专案设定</a></li><li><a href="#串接专案">串接专案</a></li></ul></details></li><li><a href="#成果">成果</a></li><li class="has-children"><details><summary>串接延伸 <a href="#串接延伸">#</a></summary><ul><li><a href="#更多-google-apps-script-案例">更多 Google Apps Script 案例</a></li></ul></details></li><li class="has-children"><details><summary>总结 <a href="#总结">#</a></summary><ul><li><a href="#-buy-me-a-beer-on-paypal">🍺 Buy me a beer on PayPal</a></li><li><a href="#系列文章">系列文章</a></li></ul></details></li></ul></nav><hr /><h3 id="cicd-实战指南四使用-google-apps-script-web-app-串接-github-actions-建置免费易用的打包工具平台"><span class="me-2">CI/CD 实战指南（四）：使用 Google Apps Script Web App 串接 GitHub Actions 建置免费易用的打包工具平台</span><a href="#cicd-实战指南四使用-google-apps-script-web-app-串接-github-actions-建置免费易用的打包工具平台" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>GAS Web App 串接 GitHub, Slack, Firebase 或 Asana/Jira API，建置中继站，提供跨团队共用的打包工具平台</p><p><a href="/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*kJhD4PCaIphZ9G1BG_dtNw.webp" alt="Photo by [Lee Campbell](https://unsplash.com/@leecampbell?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjgwMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Photo by <a href="https://unsplash.com/@leecampbell?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target="_blank">Lee Campbell</a></p><h3 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>前篇「 <a href="/posts/zrealm-dev/zh-cn/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AE%9E%E4%BD%9C%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%A6-4b001d2e8440/"><strong>CI/CD 实战指南（三）：使用 GitHub Actions 实作 App iOS CI 与 CD 工作流程</strong></a> 」我们已经完成了 App iOS 专案的 CI/CD 底层功能建设，现在已经可以 CI 自动测试验证跟 CD 打包部署；然而在实务产品开发流程上， <strong>打包部署工作多半是为了后续交付给其他职能伙伴</strong> 进 行 QA(Quality Assurance) 功能验证，这时候 CD 场景就不在只局限在工程端了，可能跨足 QA、PM、设计(Design QA) 甚至是老板想先玩看看。</p><p>GitHub Actions <code class="language-plaintext highlighter-rouge">workflow_dispatch</code> 手动表单触发事件，虽然能提供简易的表单让使用者操作打包，但如果操作的对象是非工程人员就相对很不友善，他们不懂：什么是分支？栏位要不要填？怎么知道打包好了？好了怎么下载？…etc 另外还有权限控管问题，如果要让其他职能伙伴直接使用 GitHub Actions 打包，就需要把他的帐号加到 Repo 当中， <strong>资安控管上很不安全也不合理</strong> ，只是要操作打包表单却要开整个 Source Code 给他。</p><p>不同于 Jenkins 有独立的 Web 工具平台，GitHub Actions 就只有这个功能。</p><p><a href="/assets/4273e57e7148/1*qDD8HAAHxDxPEU3vJPEhjA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*qDD8HAAHxDxPEU3vJPEhjA.webp" alt="`workflow_dispatch 的表单样式`" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNDIiIGhlaWdodD0iNDQ1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><code class="language-plaintext highlighter-rouge">workflow_dispatch 的表单样式</code></p><p>因此 <strong>我们需要一个中继站打包平台，用来服务其他职能使用者</strong> ，整合 Asana/Jira 的任务单，让使用的人可以直接用任务单打包 App，并且直接在上面查看进度、下载打包结果。</p><p><a href="/assets/4273e57e7148/1*bHYawmSnhqwB4TzIJVfGow.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*bHYawmSnhqwB4TzIJVfGow.webp" alt="GAS Web App 中继站" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEwMzciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>GAS Web App 中继站</p><p><a href="/posts/zrealm-dev/zh-cn/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AE%9E%E4%BD%9C%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%A6-4b001d2e8440/">上一篇</a> 关注的是右边核心 GitHub Actions CI/CD 工作流程开发；本文关注的是左半部 to End-User 打包工具平台、增加使用者体验的部分。</p><h4 id="google-apps-script--web-app-打包工具平台-成果图"><span class="me-2">Google Apps Script — Web App 打包工具平台 成果图</span><a href="#google-apps-script--web-app-打包工具平台-成果图" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/4273e57e7148/1*yXMeaOELhqdvMCxIJ5ElBw.gif" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*yXMeaOELhqdvMCxIJ5ElBw.gif" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDQ4IiBoZWlnaHQ9IjgyMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="/assets/4273e57e7148/1*EM0goWpuDeHGVkZoybLm8g.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*EM0goWpuDeHGVkZoybLm8g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5ODAiIGhlaWdodD0iODk5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*haoGMvAUroz7rUMDEez9gA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*haoGMvAUroz7rUMDEez9gA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5ODQiIGhlaWdodD0iODI2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*afCwKITlerG1g6swB_2wZA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*afCwKITlerG1g6swB_2wZA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTUiIGhlaWdodD0iNzU4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*mvwpHBdrC73_PjL8H32nkw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*mvwpHBdrC73_PjL8H32nkw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTc5IiBoZWlnaHQ9IjI1NTYiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="/assets/4273e57e7148/1*BbbEd_thhUOdbAQqsCt-Tw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*BbbEd_thhUOdbAQqsCt-Tw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDQ2IiBoZWlnaHQ9IjU4NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="/assets/4273e57e7148/1*HXjfMpUPssaw3sJgH6KKJQ.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*HXjfMpUPssaw3sJgH6KKJQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMTIiIGhlaWdodD0iMjkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><p><strong>打包表单：</strong> 整合专案管理工具捞取单号、整合 GitHub 捞取开启中的 Pull Request</p><li><p><strong>把包纪录：</strong> 显示打包历史纪录、正在打包的任务进度状态、点击取得下载连结捞取 Firebase App Distribution 下载连结、资讯</p><li><p><strong>Runner 状态：</strong> 显示 Self-hosted Runner 状态。</p><li><p><strong>Slack 打包进度通知。</strong></p><li><p>支援手机版</p><li><p>支援限制组织团队内帐号使用</p></ul><p><strong>主要职责</strong></p><p>0 状态、0 资料库， <strong>单纯为中继交换站</strong> ，整合显示各个 API 资料 (e.g. Asana/Jira/GitHub)、转发表单请求到 GitHub Actions。</p><p><strong>操作要求：</strong> 支援手机与电脑。</p><p><strong>权限要求：</strong> 能限制只有团队组织成员能存取。</p><h4 id="online-demo-web-app"><span class="me-2"><a href="https://script.google.com/macros/s/AKfycbwNW6N5ozKbIz_E1HK6yFEUtA8KQrUciS-jcPsQptvIKlARmKgLxbQzNu8ksVeg-BmEfg/exec" target="_blank">Online Demo Web App</a></span><a href="#online-demo-web-app" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>初次使用请参考下图授权(Only For Demo App)：</ul><p><a href="/assets/4273e57e7148/0*7pJ876yQbcakQvdO.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/0*7pJ876yQbcakQvdO.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDAiIGhlaWdodD0iNjA3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>专案原始码： <a href="https://script.google.com/home/projects/1CBB39OMedqP9Ro1WSlvgDnMBin4-ksyhgly2h_KrbOuFiPHTalNgwHOp/edit" target="_blank">https://script.google.com/home/projects/1CBB39OMedqP9Ro1WSlvgDnMBin4-ksyhgly2h_KrbOuFiPHTalNgwHOp/edit</a></p><h3 id="技术选择"><span class="me-2">技术选择</span><a href="#技术选择" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A8%B3%E5%AE%9A%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E7%9A%84%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9-c008a9e8ceca/">第一篇文章</a> 有提到过，这边再详细整理一次。</p><h4 id="整合进-slack"><span class="me-2">整合进 Slack</span><a href="#整合进-slack" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>我们尝试过让 Slack 担任打包平台，自行开发后端服务并架设在 GCP 上，与 Slack API、Asana API 进行串接整合，再将 Slack 送来的表单转手发送给 GitHub API 触发后续 GitHub Actions；体验上非常爽而且统一在团队的协作工具上，可以无痛使用； <strong>缺点是开发及后续维护成本很高</strong> ，因为是自己用 Ktor 开发的后端服务，需要 App 工程师同时兼做后端、处理 Google 服务 OAuth 整合问题、部分功能可能在这做掉(例如：送审)…功能复杂；如果后来的新人没衔接好这整块几乎没办法维护下去了，另外每个月还要花 $15 USD GCP 伺服器费用。</p><p>初期也尝试过用 FaaS 服务串接 Slack API，例如 Cloud Funtions，但是 Slack API 要求串接的服务要能在 3 秒内回应请求，否则视为失败；FaaS 会有 <a href="https://www.cloudflare.com/zh-tw/learning/serverless/what-is-serverless/" target="_blank">冷启动问题</a> ，当服务一段时间没呼叫就会进入休眠，再次呼叫时会需要较长时间才能响应 (≥ 5秒)，会造成 Slack 打包表单很不稳定，时常出现 Timeout Error。</p><h4 id="整合进内部系统"><span class="me-2">整合进内部系统</span><a href="#整合进内部系统" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>这当然是最优解，如果团队有 Web、后端人力，直接与现有系统整合是最好也最安全的。</p><blockquote><p><em>本文的前提是：没有，App 自立自强。</em></p></blockquote><h4 id="google-apps-script--web-app"><span class="me-2">Google Apps Script — Web App</span><a href="#google-apps-script--web-app" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Google Apps Script 是我们的老伙伴，之前做过很多 RPA 专案都是用他去做排程触发执行任务，例如：「 <a href="/posts/zrealm-dev/zh-cn/crashlytics%E4%B8%8Egoogle-analytics%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2app-crash-free-users-rate-google-apps-script%E6%95%B4%E5%90%88%E5%AE%9E%E4%BD%9C-793cb8f89b72/">Crashlytics + Google Analytics 自动查询 App Crash-Free Users Rate</a> 」、「 <a href="/posts/zrealm-robotic-process-automation/zh-cn/google-apps-script-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E6%95%B0%E6%8D%AE%E6%8A%A5%E8%A1%A8%E8%87%AA%E5%8A%A8%E5%8C%96-rpa-%E5%BF%AB%E9%80%9F%E4%B8%B2%E6%8E%A5-google-analytics-%E4%B8%8E-google-sheet-f6713ba3fee3/">使用 Google Apps Script 实现每日数据报表 RPA 自动化</a> 」，这时候我又想起了它；GAS 有一个功能是部署成 Web (App) 直接当网页服务。</p><p><strong>Google Apps Script 优点：</strong></p><ul><li><p>✅ 免费、 <a href="https://developers.google.com/apps-script/guides/services/quotas?hl=zh-tw" target="_blank">正常使用下几乎摸不到上限</a></p><li><p>✅ Functions as a Service 方法即服务，不需自行架设维护伺服器</p><li><p>✅ 权限控管同 Google Workspace，可设定仅限组织内 Google 帐号使用</p><li><p>✅ 无痛整合 Google 生态系相关服务(e.g. Firebase, GA…etc)与资料 (不用自己做 OAuth)</p><li><p>✅ 程式语言使用 JavaScript 易上手 (V8 Runtime 支援 ES6+ )</p><li><p>✅ 快速撰写、快速上线、快速使用</p><li><p>✅ 服务稳定、长久 (已推出超过 16 年)</p><li><p><strong>✅ AI Can Help! 实测使用 ChatGPT 辅助开发，准确率可达 95%</strong></p></ul><p><strong>Google Apps Script 缺点：</strong></p><ul><li><p>❌ 内建的版本管控一言难尽</p><li><p>❌ 内建不支援档案、资料储存、金钥/凭证管理</p><li><p>❌ Web App 无法做到 100% 体验的 RWD</p><li><p>❌ 专案只能绑在个人帐号而不是组织</p><li><p>❌ 虽然 Google 有持续在开发维护，但整体功能更新缓慢</p><li><p>❌ 网路请求 <code class="language-plaintext highlighter-rouge">UrlFetchApp</code> 不支援设定 User-Agent</p><li><p>❌ Web App <code class="language-plaintext highlighter-rouge">doGet</code> / <code class="language-plaintext highlighter-rouge">doPost</code> 不支援取得 Headers 资讯</p><li><p>❌ FaaS <a href="https://www.cloudflare.com/zh-tw/learning/serverless/what-is-serverless/" target="_blank">冷启动问题</a></p><li><p>❌ <strong>不支援多人同时开发</strong> 但在 Web App 影响不大，顶多要多等几秒才进入网页。</p></ul><p>以上是 GAS 本身服务的优缺点，对做打包工具 Web 影响不大；选择使用此方案对比 Slack 方案，更快速、轻量跟容易交接上手， <strong>缺点是团队需要多知道这个工具的网址在哪跟怎么用、还有因 GAS 程式库功能有限</strong> (e.g. 无内建加密演算法库) 基本上只能做纯中继平台，例如送审，那也只能转发送审请求请 GitHub Actions 做。</p><blockquote><p><strong><em>另外也仅适用是 Google Workspace 工作环境的团队；</em></strong> <em>权衡了资源与需求，因此采用 Google Apps Script — Web App 来实现打包工具平台。</em></p></blockquote><h4 id="ui-framework"><span class="me-2">UI Framework</span><a href="#ui-framework" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="https://getbootstrap.com/" target="_blank" class="img-link shimmer" ><img src="https://getbootstrap.com/docs/5.3/assets/brand/bootstrap-social.png" alt="" loading="lazy"></a></p><p>我们直接使用 Bootstrap CDN，不然要自己弄 CSS 样式太麻烦了，Bootstrap 问 AI 怎么组合使用也更准确方便。</p><h3 id="动手做"><span class="me-2">动手做</span><a href="#动手做" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>这边已经把整个平台架构开源了，大家可以依照自己团队的需求基于这个版本再客制化即可。</p><h4 id="开源范例专案"><span class="me-2">开源范例专案</span><a href="#开源范例专案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>在 GAS 上直接检视专案：</p><p><a href="https://script.google.com/home/projects/1CBB39OMedqP9Ro1WSlvgDnMBin4-ksyhgly2h_KrbOuFiPHTalNgwHOp/edit" target="_blank" class="img-link shimmer" ><img src="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/developers/images/opengraph/white.png" alt="" loading="lazy"></a></p><p><a href="/assets/4273e57e7148/1*Xzh2eBpVR92uZq-8POPegw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*Xzh2eBpVR92uZq-8POPegw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjAiIGhlaWdodD0iODYwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>GitHub Repo 备份：</p><p><a href="https://github.com/ZhgChgLi/google-apps-script-cd-web-app-demo" target="_blank" class="img-link shimmer" ><img src="https://opengraph.githubassets.com/3d7c517cd747bc49656701ef275357816667a72ebe2b7744c22e8a34c82b4a26/ZhgChgLi/google-apps-script-cd-web-app-demo" alt="" loading="lazy"></a></p><h4 id="档案架构"><span class="me-2">档案架构</span><a href="#档案架构" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/4273e57e7148/1*ohVakhlaflRXCI_3j2-cOA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*ohVakhlaflRXCI_3j2-cOA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjciIGhlaWdodD0iNzE2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*AyIEF0wqEFdMDBuRzQXDEQ.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*AyIEF0wqEFdMDBuRzQXDEQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTc3IiBoZWlnaHQ9Ijk5MSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>写了一个很阳春的 类-MVC 架构，如要调整或不知道功能问 AI 都能得到准确答案。</p><p><strong>系统</strong></p><ul><li><p>appsscript.json: GAS 系统的 Metadata 设定档案 <strong>重点是「oauthScopes」变数，宣告这个 Script 会用到的外部权限。</strong></p><li><p>Entrypoint.gs: 定义 doGet( ) 进入点</p></ul><p><strong>Controller</strong></p><ul><li>Controller_iOS.gs: iOS 打包工具页面 Controller，负责捞数据给 View 显示</ul><p><strong>View</strong></p><ul><li><p>View_index.html: 整个打包工具骨架、首页</p><li><p>View_iOS.html: iOS 打包工具页面骨架</p><li><p>View_iOS_Runs.html: iOS 打包工具 — 打包纪录内容页面</p><li><p>View_iOS_Form.html: iOS 打包工具 —打包表单页面</p><li><p>View_iOS_Runners.html: iOS 打包工具 — Self-hosted Runner 状态页面</p></ul><p><strong>Model(Lib)</strong></p><ul><li><p>Credentials.gs: 定义金钥内容 (⚠️️️请注意️，GAS 如果要走 GCP IAM 会蛮复杂的因此我们直接定义金钥在此， <strong>所以这个 GAS 专案会包含机密资讯，请不要随意共享专案检视编辑权限</strong> )</p><li><p>StubData.gs: Online Demo 用的 Stub 方法、资料。</p><li><p>Settings.gs: 一些常用设定，跟 lib init。</p><li><p>GitHub.gs: GitHub API 操作封装。</p><li><p>Slack.gs: Slack API 操作封装。</p><li><p>Firebase.gs: Firebase — App Distribution API 操作封装。</p></ul><h4 id="建立自己的打包平台"><span class="me-2">建立自己的打包平台</span><a href="#建立自己的打包平台" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>1.建立一个 <a href="https://script.google.com/home" target="_blank">Google Apps Script 专案</a> 、命名</p><p><a href="/assets/4273e57e7148/1*_uVqy6cDNvFSEL0feOS-pw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*_uVqy6cDNvFSEL0feOS-pw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MTkiIGhlaWdodD0iMzY5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>到专案设定 → 勾选「在编辑器中显示「appsscript.json」资讯清单档案」才会出现「appsscript.json」Metadata 档案。</p><p><a href="/assets/4273e57e7148/1*tvXsQufQs5-5UzV0bg5WLA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*tvXsQufQs5-5UzV0bg5WLA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MzYiIGhlaWdodD0iNDY2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>2.参考我的 <a href="https://script.google.com/home/projects/1CBB39OMedqP9Ro1WSlvgDnMBin4-ksyhgly2h_KrbOuFiPHTalNgwHOp/edit" target="_blank">开源专案档案</a> ，把所有档案按照范例建立好跟把内容无脑复制过来</p><p><a href="/assets/4273e57e7148/1*PxZvHNeW6PFaaqmZqifFfg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*PxZvHNeW6PFaaqmZqifFfg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzIiIGhlaWdodD0iMjcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><strong><em>很蠢，但没办法。</em></strong></p></blockquote><blockquote><p><em>StubData.gs 先一起复制过来，第一次部署测试可以使用。</em></p></blockquote><blockquote><p><em>另一个方法是用 <a href="https://developers.google.com/apps-script/guides/clasp?hl=zh-tw" target="_blank">clasp (Google Apps Script CLI)</a> git clone demo project 后把 Code 推上去。</em></p></blockquote><p><a href="/assets/4273e57e7148/1*FLM2SGIhAI7Z7OWIJpeT9A.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*FLM2SGIhAI7Z7OWIJpeT9A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTUwIiBoZWlnaHQ9Ijg1MiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>复制完长得会跟范例专案一模一样。</p><ol><li>首次部署「网页应用程式」查看结果</ol><p><a href="/assets/4273e57e7148/1*KbWpaEinVZh6M8o8bCCl6A.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*KbWpaEinVZh6M8o8bCCl6A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MzMiIGhlaWdodD0iMjM5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*2RrwNxZVidodX6Kq037Yvw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*2RrwNxZVidodX6Kq037Yvw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjEiIGhlaWdodD0iNjAxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*CZSIfASW4hmQeXwTS3x7Fg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*CZSIfASW4hmQeXwTS3x7Fg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjEiIGhlaWdodD0iNjAyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>专案右上角「部署」 → 「新增部署作业」 → 类型「网页应用程式」:</p><p><strong>执行身份：</strong></p><ul><li><p>我 <code class="language-plaintext highlighter-rouge">统一都用你的帐号身分执行脚本。</code></p><li><p>存取网页程式的使用者 <code class="language-plaintext highlighter-rouge">会以当前登入的 Google 帐号使用者身份执行脚本。</code></p></ul><p><strong>谁可以存取：</strong></p><ul><li><p>只有我自己</p><li><p><strong>XXX 同个组织中的所有使用者</strong> <code class="language-plaintext highlighter-rouge">只有同组织＋已登入的 Google 帐号使用者可以存取。</code></p><li><p>所有已登入 Google 帐号的使用者 <code class="language-plaintext highlighter-rouge">已登入的 Google 帐号使用者都可以存取。</code></p><li><p>所有人 <code class="language-plaintext highlighter-rouge">不需要登入 Google 帐号、所有人都可以公开存取。</code></p></ul><blockquote><p><em>如果是内部工具：可以选择「 <strong>谁可以存取：XXX 同个组织中的所有使用者」+「执行身份：存取网页程式的使用者」进行安全控管。</strong></em></p></blockquote><p>完成部署后的「网页应用程式」网址，就是你的 Web App 打包工具网址，可以分享给团队成员使用。(网址很丑，可以自己用短网址服务包装一下、 <strong>更新部署内容不会异动网址</strong> )</p><h4 id="使用者首次使用需要同意授权"><span class="me-2">使用者首次使用需要同意授权</span><a href="#使用者首次使用需要同意授权" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>首次点击 Web App 网址，需要先同意授权。</p><p><a href="/assets/4273e57e7148/1*lckRkGtc7EVqz9aTZaBIOw.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*lckRkGtc7EVqz9aTZaBIOw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTkiIGhlaWdodD0iNDkxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*l1t290T_4xs1ly-RjjZXtg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*l1t290T_4xs1ly-RjjZXtg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjYiIGhlaWdodD0iNjc0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*O9ItCSBNoBcuqepd-6ygCA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*O9ItCSBNoBcuqepd-6ygCA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MjIiIGhlaWdodD0iNjMwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><p>Review Permission → 选择要使用此 Web App 的帐户身份</p><li><p>未验证警告视窗，点击「进阶」展开 → 点击 前往「XXX」(不安全)</p></ul><p><a href="/assets/4273e57e7148/1*cYloLsBROLbZDPIciYUm5g.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*cYloLsBROLbZDPIciYUm5g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDU0IiBoZWlnaHQ9Ijg3NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li>点击「允许」</ul><blockquote><p><em>尔后如果脚本权限没更动不用重新授权。</em></p></blockquote><p><strong>完成授权同意后就会进入打包工具首页：</strong></p><p><a href="/assets/4273e57e7148/1*vG5SsVFHPPDukc4ej0hqLA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*vG5SsVFHPPDukc4ej0hqLA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQ5IiBoZWlnaHQ9IjExMTMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><blockquote><p>Demo 打包工具部署成功 🎉🎉🎉</p></blockquote><p>注:「这个应用程式是由 Google Apps Script 的使用者建立」这个提示无法自动隐欌。</p><h4 id="更新部署"><span class="me-2">更新部署</span><a href="#更新部署" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p>⚠️所有程式码的变动都需要更新部署才会生效。</p></blockquote><blockquote><p>️️⚠️所有程式码的变动都需要更新部署才会生效。</p></blockquote><blockquote><p>⚠️所有程式码的变动都需要更新部署才会生效。</p></blockquote><p>这边要注意程式码变动储存完不会直接变动到 Web App 上，所以发现重整没效果就是这个原因； <strong>需要到「部署」 → 「管理部署作业」→「编辑」→ 版本「建立新版本」 → 点击「部署」 → 「完成」</strong> 。</p><p><a href="/assets/4273e57e7148/1*VsfCEfwnPlx9RbQ8DtXpnA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*VsfCEfwnPlx9RbQ8DtXpnA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOTgiIGhlaWdodD0iMjI5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*n62MVd6o8W3hUtQpfn9Q0w.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*n62MVd6o8W3hUtQpfn9Q0w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjEiIGhlaWdodD0iNjAzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>更新部署完再重整网页就能看到改动生效。</em></p></blockquote><h4 id="新增测试部署方便开发"><span class="me-2">新增测试部署方便开发</span><a href="#新增测试部署方便开发" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/4273e57e7148/1*4fLoW6jf8z1AIXvULW-AOA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*4fLoW6jf8z1AIXvULW-AOA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MTMiIGhlaWdodD0iMjM1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*yvTxeaImQ4Mr7FwESsuf5A.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*yvTxeaImQ4Mr7FwESsuf5A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjEiIGhlaWdodD0iNTk5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>如同前述，所有改动要生效都要更新部署；这在开发阶段非常麻烦，因此在开发阶段我们可以用「测试部署」来快速验证改动是否正确。</p><p><strong>到「部署」 → 「测试部署作业」 → 取得测试用「网页应用程式」网址。</strong></p><p><a href="/assets/4273e57e7148/1*Rt0XEw9uAev58isLEnsoPA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*Rt0XEw9uAev58isLEnsoPA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjIiIGhlaWdodD0iNjAzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>在开发阶段我们直接使用此网址就能储存，档案更改储存完，回到这个开发用网址重整网页就能看到成果！</p><blockquote><p><strong><em>都开发好之后再照前文说的更新部署，释出给使用者使用。</em></strong></p></blockquote><h3 id="修改-demo-范例专案串接真实资料"><span class="me-2">修改 Demo 范例专案串接真实资料</span><a href="#修改-demo-范例专案串接真实资料" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>再来才是重点，串接真实资料，GitHub Actions Workflow 参考的是 <a href="/posts/zrealm-dev/zh-cn/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AE%9E%E4%BD%9C%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%A6-4b001d2e8440/"><strong>上一篇文章中建立好的 CI/CD 流程</strong></a> ，你也可依照实际的 Actions Workflow 调整参数。</p><h4 id="️修改前请注意"><span class="me-2">⚠️修改前请注意</span><a href="#️修改前请注意" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Google Apps Script 平台并不能很好的支援多人或甚至多开视窗开发，我自己踩过的雷是不小心开了两个编辑视窗，在 A 编辑完，后来在 B 编辑，所以修改都被 B 的旧版覆盖掉了；因此 <strong>建议同时间只有一个人一个视窗在编辑 Script</strong> 。</p><h4 id="github-串接"><span class="me-2">GitHub 串接</span><a href="#github-串接" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>带入 GitHub API Token:</strong></p><p>GitHub -&gt; 帐号 -&gt; Settings -&gt; Developer Settings -&gt; Fine-grained personal access tokens or Personal access tokens (classic)。</p><p>建议使用 Fine-grained personal access tokens 比较安全(但有期限)。</p><p><strong>Fine-grained personal access tokens 需要的权限如下：</strong></p><p><a href="/assets/4273e57e7148/1*lCNQHwC4EMU4gNXYC-zs2A.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*lCNQHwC4EMU4gNXYC-zs2A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MjEiIGhlaWdodD0iNTc5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><p>Repo: 记得选要操作的 Repo</p><li><p>Permissions: <code class="language-plaintext highlighter-rouge">Actions (read/write)</code> 、 <code class="language-plaintext highlighter-rouge">Administration (read only)</code></p></ul><blockquote><p><em>如果不想依赖在某人的帐号上建议建立一支干净的团队 GitHub 帐号，使用它的 Token。</em></p></blockquote><p>到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Credentials.gs</code> → 将 Token 带入到 <code class="language-plaintext highlighter-rouge">githubToken</code> 变数中。</p><p><strong>替换 GithubStub 成 GitHub:</strong></p><p>到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Settings.gs</code> → 将：</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">iOSGitHub</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GitHubStub</span><span class="p">(</span><span class="nx">githubToken</span><span class="p">,</span> <span class="nx">iOSRepoPath</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>改成</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">iOSGitHub</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GitHub</span><span class="p">(</span><span class="nx">githubToken</span><span class="p">,</span> <span class="nx">iOSRepoPath</span><span class="p">);</span>
</pre></table></code></div></div><p>储存档案。</p><p><strong>重新整理测试用「网页应用程式」网址查看改动是否正确:</strong></p><p><a href="/assets/4273e57e7148/1*30k1iDALT9WdupmuBiG2uQ.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*30k1iDALT9WdupmuBiG2uQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTgiIGhlaWdodD0iODU5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>能正确显示资料代表： <strong>GitHub 改串真实资料成功</strong> 🎉🎉🎉</em></p></blockquote><p>也能顺手切到「Runner 状态」查看 Self-hosted Runner 状态捞取正不正常：</p><p><a href="/assets/4273e57e7148/1*K3yzISn5J7o1e1F5zhIQpg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*K3yzISn5J7o1e1F5zhIQpg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NzIiIGhlaWdodD0iMzk0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>注：我 Runner 没开…所以是离线中。</p><h4 id="slack-串接"><span class="me-2">Slack 串接</span><a href="#slack-串接" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>为了串接 Slack 通知，我们首先要回到 Repo → GitHub Actions 新增一个包裹打包 Action Workflow 的通知容器 Action。</p><p><strong>CD-Deploy-Form.yml:</strong></p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
</pre><td class="rouge-code"><pre><span class="c1"># Workflow(Action) 名称</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">CD-Deploy-Form</span>

<span class="c1"># Actions Log 的标题名称</span>
<span class="na">run-name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[CD-Deploy-Form]</span><span class="nv"> </span><span class="s">${{</span><span class="nv"> </span><span class="s">github.ref</span><span class="nv"> </span><span class="s">}}"</span>

<span class="c1"># 同个 Concurrency Group 如果有新的 Job 会取消正在跑的</span>
<span class="c1"># 例如 重复触发相同分支的打包任务，会取消前一个任务</span>
<span class="na">concurrency</span><span class="pi">:</span>
  <span class="na">group</span><span class="pi">:</span> <span class="s">${{ github.workflow }}-${{ github.ref }}</span>
  <span class="na">cancel-in-progress</span><span class="pi">:</span> <span class="kc">true</span>

<span class="c1"># 触发事件</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="c1"># 手动表单触发</span>
  <span class="na">workflow_dispatch</span><span class="pi">:</span>
    <span class="c1"># 表单 Inputs 栏位</span>
    <span class="na">inputs</span><span class="pi">:</span>
      <span class="c1"># App 版本号</span>
      <span class="na">VERSION_NUMBER</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Version</span><span class="nv"> </span><span class="s">Number</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">app</span><span class="nv"> </span><span class="s">(e.g.,</span><span class="nv"> </span><span class="s">1.0.0).</span><span class="nv"> </span><span class="s">Auto-detect</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">Xcode</span><span class="nv"> </span><span class="s">project</span><span class="nv"> </span><span class="s">if</span><span class="nv"> </span><span class="s">left</span><span class="nv"> </span><span class="s">blank.'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="kc">false</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="c1"># App Build Number</span>
      <span class="na">BUILD_NUMBER</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Build</span><span class="nv"> </span><span class="s">number</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">app</span><span class="nv"> </span><span class="s">(e.g.,</span><span class="nv"> </span><span class="s">1).</span><span class="nv"> </span><span class="s">Will</span><span class="nv"> </span><span class="s">use</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">timestamp</span><span class="nv"> </span><span class="s">if</span><span class="nv"> </span><span class="s">left</span><span class="nv"> </span><span class="s">blank.'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="kc">false</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="c1"># App Release Note</span>
      <span class="na">RELEASE_NOTE</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Release</span><span class="nv"> </span><span class="s">notes</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">deployment.'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="kc">false</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="c1"># 触发者的 Slack User ID</span>
      <span class="na">SLACK_USER_ID</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Slack</span><span class="nv"> </span><span class="s">user</span><span class="nv"> </span><span class="s">id.'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="c1"># 触发者的 Email</span>
      <span class="na">AUTHOR</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Trigger</span><span class="nv"> </span><span class="s">author</span><span class="nv"> </span><span class="s">email.'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
        
<span class="c1"># Job 工作项目</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="c1"># 开始打包时传送 Slack 讯息</span>
  <span class="c1"># Job ID</span>
  <span class="na">start-message</span><span class="pi">:</span>
    <span class="c1"># 小工作直接用 GitHub Hosted Runner 跑，用量不大</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    
    <span class="c1"># 设定最长 Timeout 时间，防止异常情况发生时无止尽的等待</span>
    <span class="c1"># 正常情况不可能跑超过 5 分钟</span>
    <span class="na">timeout-minutes</span><span class="pi">:</span> <span class="m">5</span>

    <span class="c1"># 工作步骤</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Post a Start Slack Message</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">slack</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@v2.0.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">method</span><span class="pi">:</span> <span class="s">chat.postMessage</span>
          <span class="na">token</span><span class="pi">:</span> <span class="s">${{ secrets.SLACK_BOT_TOKEN }}</span>
          <span class="na">payload</span><span class="pi">:</span> <span class="s">\\|</span>
            <span class="s">channel</span><span class="err">:</span> <span class="s">${{ inputs.SLACK_USER_ID }}</span>
            <span class="s">text</span><span class="err">:</span> <span class="s2">"</span><span class="s">已收到打包请求。</span><span class="se">\n</span><span class="s">ID:</span><span class="nv"> </span><span class="s">&lt;${{</span><span class="nv"> </span><span class="s">github.server_url</span><span class="nv"> </span><span class="s">}}/${{</span><span class="nv"> </span><span class="s">github.repository</span><span class="nv"> </span><span class="s">}}/actions/runs/${{</span><span class="nv"> </span><span class="s">github.run_id</span><span class="nv"> </span><span class="s">}}</span><span class="se">\\</span><span class="s">|${{</span><span class="nv"> </span><span class="s">github.run_id</span><span class="nv"> </span><span class="s">}}&gt;</span><span class="se">\n</span><span class="s">Branch:</span><span class="nv"> </span><span class="s">${{</span><span class="nv"> </span><span class="s">github.ref_name</span><span class="nv"> </span><span class="s">}}</span><span class="se">\n</span><span class="s">cc'ed</span><span class="nv"> </span><span class="s">&lt;@${{</span><span class="nv"> </span><span class="s">inputs.SLACK_USER_ID</span><span class="nv"> </span><span class="s">}}&gt;"</span>
    <span class="c1"># Job Output 给后续 Job 使用</span>
    <span class="c1"># ts = Slack 讯息 ID，后续通知才可以 Reply 在同个 Threads</span>
    <span class="na">outputs</span><span class="pi">:</span>
      <span class="na">ts</span><span class="pi">:</span> <span class="s">${{ steps.slack.outputs.ts }}</span>

  <span class="na">deploy</span><span class="pi">:</span>
    <span class="c1"># Job 预设是并发执行，用 needs 限制需等待 start-message 完成才执行</span>
    <span class="c1"># 执行打包部署任务</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">start-message</span>
    <span class="na">uses</span><span class="pi">:</span> <span class="s">./.github/workflows/CD-Deploy.yml</span>
    <span class="na">secrets</span><span class="pi">:</span> <span class="s">inherit</span>
    <span class="na">with</span><span class="pi">:</span>
      <span class="na">VERSION_NUMBER</span><span class="pi">:</span> <span class="s">${{ inputs.VERSION_NUMBER }}</span>
      <span class="na">BUILD_NUMBER</span><span class="pi">:</span> <span class="s">${{ inputs.BUILD_NUMBER }}</span>
      <span class="na">RELEASE_NOTE</span><span class="pi">:</span> <span class="s">${{ inputs.RELEASE_NOTE }}</span>
      <span class="na">AUTHOR</span><span class="pi">:</span> <span class="s">${{ inputs.AUTHOR }}</span>

  <span class="c1"># 打包部署任务成功讯息</span>
  <span class="na">end-message-success</span><span class="pi">:</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">start-message</span><span class="pi">,</span> <span class="nv">deploy</span><span class="pi">]</span>
    <span class="na">if</span><span class="pi">:</span> <span class="s">${{ needs.deploy.result == 'success' }}</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">timeout-minutes</span><span class="pi">:</span> <span class="m">5</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Post a Success Slack Message</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@v2.0.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">method</span><span class="pi">:</span> <span class="s">chat.postMessage</span>
          <span class="na">token</span><span class="pi">:</span> <span class="s">${{ secrets.SLACK_BOT_TOKEN }}</span>
          <span class="na">payload</span><span class="pi">:</span> <span class="s">\\|</span>
            <span class="s">channel</span><span class="err">:</span> <span class="s">${{ inputs.SLACK_USER_ID }}</span>
            <span class="s">thread_ts</span><span class="err">:</span> <span class="s2">"</span><span class="s">${{</span><span class="nv"> </span><span class="s">needs.start-message.outputs.ts</span><span class="nv"> </span><span class="s">}}"</span>
            <span class="na">text</span><span class="pi">:</span> <span class="s2">"</span><span class="s">✅</span><span class="nv"> </span><span class="s">打包部署成功。</span><span class="se">\n\n</span><span class="s">cc'ed</span><span class="nv"> </span><span class="s">&lt;@${{</span><span class="nv"> </span><span class="s">inputs.SLACK_USER_ID</span><span class="nv"> </span><span class="s">}}&gt;"</span>
  
  <span class="c1"># 打包部署任务失败讯息</span>
  <span class="na">end-message-failure</span><span class="pi">:</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">deploy</span><span class="pi">,</span> <span class="nv">start-message</span><span class="pi">]</span>
    <span class="na">if</span><span class="pi">:</span> <span class="s">${{ needs.deploy.result == 'failure' }}</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">timeout-minutes</span><span class="pi">:</span> <span class="m">5</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Post a Failure Slack Message</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@v2.0.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">method</span><span class="pi">:</span> <span class="s">chat.postMessage</span>
          <span class="na">token</span><span class="pi">:</span> <span class="s">${{ secrets.SLACK_BOT_TOKEN }}</span>
          <span class="na">payload</span><span class="pi">:</span> <span class="s">\\|</span>
            <span class="s">channel</span><span class="err">:</span> <span class="s">${{ inputs.SLACK_USER_ID }}</span>
            <span class="s">thread_ts</span><span class="err">:</span> <span class="s2">"</span><span class="s">${{</span><span class="nv"> </span><span class="s">needs.start-message.outputs.ts</span><span class="nv"> </span><span class="s">}}"</span>
            <span class="na">text</span><span class="pi">:</span> <span class="s2">"</span><span class="s">❌</span><span class="nv"> </span><span class="s">打包部署失败，请检查执行状况结果或稍后再试。</span><span class="se">\n\n</span><span class="s">cc'ed</span><span class="nv"> </span><span class="s">&lt;@${{</span><span class="nv"> </span><span class="s">inputs.SLACK_USER_ID</span><span class="nv"> </span><span class="s">}}&gt;"</span>

  <span class="c1"># 打包部署任务取消讯息</span>
  <span class="na">end-message-cancelled</span><span class="pi">:</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">deploy</span><span class="pi">,</span> <span class="nv">start-message</span><span class="pi">]</span>
    <span class="na">if</span><span class="pi">:</span> <span class="s">${{ needs.deploy.result == 'cancelled' }}</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">timeout-minutes</span><span class="pi">:</span> <span class="m">5</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Post a Cancelled Slack Message</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@v2.0.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">method</span><span class="pi">:</span> <span class="s">chat.postMessage</span>
          <span class="na">token</span><span class="pi">:</span> <span class="s">${{ secrets.SLACK_BOT_TOKEN }}</span>
          <span class="na">payload</span><span class="pi">:</span> <span class="s">\\|</span>
            <span class="s">channel</span><span class="err">:</span> <span class="s">${{ inputs.SLACK_USER_ID }}</span>
            <span class="s">thread_ts</span><span class="err">:</span> <span class="s2">"</span><span class="s">${{</span><span class="nv"> </span><span class="s">needs.start-message.outputs.ts</span><span class="nv"> </span><span class="s">}}"</span>
            <span class="na">text</span><span class="pi">:</span> <span class="s2">"</span><span class="s">:black_square_for_stop:</span><span class="nv"> </span><span class="s">打包部署已取消。</span><span class="se">\n\n</span><span class="s">cc'ed</span><span class="nv"> </span><span class="s">&lt;@${{</span><span class="nv"> </span><span class="s">inputs.SLACK_USER_ID</span><span class="nv"> </span><span class="s">}}&gt;"</span>
</pre></table></code></div></div><p><strong>完整程式码：</strong> <a href="https://github.com/ZhgChgLi/github-actions-ci-cd-demo/blob/main/.github/workflows/CD-Deploy-Form.yml" target="_blank">CD-Deploy-Form.yml</a></p><p><a href="/assets/4273e57e7148/1*NatyC_Oid4BrKYk4nehuKA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*NatyC_Oid4BrKYk4nehuKA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTIiIGhlaWdodD0iMjg3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>这个 Action 只是个容器，串接 Slack 通知，实际是复用 <a href="/posts/zrealm-dev/zh-cn/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AE%9E%E4%BD%9C%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%A6-4b001d2e8440/">上一篇文章</a> 中写好的 <a href="https://github.com/ZhgChgLi/github-actions-ci-cd-demo/blob/main/.github/workflows/CD-Deploy.yml" target="_blank">CD-Deploy.yml</a> Action。</p><ul><li><p>Slack Bot App 建立、发讯息权限设定可参考我 <a href="/posts/zrealm-dev/zh-cn/slack-app-%E6%95%B4%E5%90%88-chatgpt-%E5%88%A9%E7%94%A8-openai-api-%E4%B8%8E-google-cloud-functions-%E8%87%AA%E5%BB%BA%E6%99%BA%E8%83%BD%E5%8A%A9%E7%90%86-bd94cc88f9c9/">之前的文章</a></p><li><p>记得到 Repo → Secrets 新增对应的 <code class="language-plaintext highlighter-rouge">SLACK_BOT_TOKEN</code> 跟带入 Slack Bot App Token 值</p></ul><p>回到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Credentials.gs</code> → 将 Token 带入到 <code class="language-plaintext highlighter-rouge">slackBotToken</code> 变数中。</p><p>再到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Settings.gs</code> → 将：</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">slack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SlackStub</span><span class="p">(</span><span class="nx">slackBotToken</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>改成</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">slack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Slack</span><span class="p">(</span><span class="nx">slackBotToken</span><span class="p">);</span>
</pre></table></code></div></div><p>储存档案。</p><blockquote><p><em>如果你没有现成的 Slack Bot App 可发通知也懒得建立，可以忽略这里的所有步骤，并删除 GAS 专案中有关 slack 的使用。</em></p></blockquote><h4 id="github-串接--打包表单"><span class="me-2">GitHub 串接 — 打包表单</span><a href="#github-串接--打包表单" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Controller_iOS.gs</code> → 调整 <code class="language-plaintext highlighter-rouge">View_iOS_Form.html</code> 内容: 移除假 Asana Tasks 串接方法：</p><pre><code class="language-php-template">      &lt;? tasks.forEach(function(task) { ?&gt;
      &lt;option value="&lt;?=task.githubBranch?&gt;"&gt;[&lt;?=task.id?&gt;] &lt;?=task.title?&gt;&lt;/option&gt;
      &lt;? }) ?&gt;
</code></pre><p>也可以在这边自己调整预设分支(这边是 <code class="language-plaintext highlighter-rouge">main</code> )。</p><p>—</p><p>到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Controller_iOS.gs</code> → 调整 <code class="language-plaintext highlighter-rouge">iOSLoadForm()</code> 内容:</p><ul><li><p>移除 <code class="language-plaintext highlighter-rouge">template.tasks = Stubable.fetchStubAsanaTasks();</code> 这行假串接 Asana 的方法。 如果要串 Asana/Jira 可以直接问 ChatGPT 请他帮忙产串接方法。</p><li><p><code class="language-plaintext highlighter-rouge">template.prs = iOSGitHub.fetchOpenPRs();</code> 是真的串 GitHub API 拿 Opened PR List，可依需求保留。</p></ul><p><strong>送出后的处理</strong> 在 <code class="language-plaintext highlighter-rouge">iOSSubmitForm()</code> 内容:</p><p>可依照实际 GitHub Actions Workflow 档案名称、 <code class="language-plaintext highlighter-rouge">workflow_dispatch</code> inputs 栏位参数进行调整：</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>  <span class="nx">iOSGitHub</span><span class="p">.</span><span class="nf">dispatchWorkflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">CD-Deploy-Form.yml</span><span class="dl">"</span><span class="p">,</span> <span class="nx">branch</span><span class="p">,</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">BUILD_NUMBER</span><span class="dl">"</span><span class="p">:</span> <span class="nx">buildNumber</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">VERSION_NUMBER</span><span class="dl">"</span><span class="p">:</span> <span class="nx">versionNumber</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">VERSION_NUMBER</span><span class="dl">"</span><span class="p">:</span> <span class="nx">versionNumber</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">RELEASE_NOTE</span><span class="dl">"</span><span class="p">:</span> <span class="nx">releaseNote</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">AUTHOR</span><span class="dl">"</span><span class="p">:</span> <span class="nx">email</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">SLACK_USER_ID</span><span class="dl">"</span><span class="p">:</span> <span class="nx">slack</span><span class="p">.</span><span class="nf">fetchUserID</span><span class="p">(</span><span class="nx">email</span><span class="p">)</span>
  <span class="p">});</span>
</pre></table></code></div></div><p>也可以加入自己的必填条件验证，这边只验证一定要填分支，不然会跳错误讯息。</p><p>如果认为这样不够安全可以自己再加入密码验证或只有特殊帐号可以使用。</p><blockquote><p><em>最后一行 <strong>Slack 通知功能需要设定好 Slack</strong> ，如果没有 Slack Bot App 或懒得串接 Slack，在 <a href="https://github.com/ZhgChgLi/github-actions-ci-cd-demo/actions" target="_blank">Demo Actions Repo</a> 中可以直接改用 <code class="language-plaintext highlighter-rouge">iOSGitHub.dispatchWorkflow("CD-Deploy.yml")</code> 然后移除掉 <code class="language-plaintext highlighter-rouge">SLACK_USER_ID</code> 参数即可。</em></p></blockquote><p><strong>重新整理测试用「网页应用程式」网址查看改动是否正确：</strong></p><p><a href="/assets/4273e57e7148/1*OkJJrssZBcJPss_cMW-Qew.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*OkJJrssZBcJPss_cMW-Qew.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTQiIGhlaWdodD0iNzExIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可以看到打包表单就只剩 Opened PR List 了。</p><p><strong>填好资料按「送出请求」测试看看打包表单：</strong></p><p><a href="/assets/4273e57e7148/1*dl-g3j6GH0AnYL8dqvSyYA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*dl-g3j6GH0AnYL8dqvSyYA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjMiIGhlaWdodD0iMjUyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><strong>提示送出成功代表没问题，回到打包纪录也能看到任务开始执行了 <em>🎉</em></strong> ：</p><p><a href="/assets/4273e57e7148/1*cByPF6T8WdXKionifRj1Ew.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*cByPF6T8WdXKionifRj1Ew.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTkiIGhlaWdodD0iMzgzIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>重复点打包纪录能更新进度。</em></p></blockquote><p><strong>常见送出错误：</strong></p><blockquote><p><code class="language-plaintext highlighter-rouge">Required input ‘SLACK_USER_ID’ not provided</code> <em>: GitHub Actions 这个SLACK_USER_ID 栏位为必填，但没有带，可能是 Slack 设定失败、当前 User Email 找不到对应的 Slack UID。</em></p></blockquote><blockquote><p><em><code class="language-plaintext highlighter-rouge">Workflow does not have ‘workflow_dispatch’ trigger</code> 、 <code class="language-plaintext highlighter-rouge">分支过旧，请更新 xxx 分支</code> : 选择的分支找不到对应的 Action Workflow 档案(iOSGitHub.dispatchWorkflow 指定的档案)。</em></p></blockquote><blockquote><p><em><code class="language-plaintext highlighter-rouge">No ref found for</code> 、 <code class="language-plaintext highlighter-rouge">找不到分支</code> : 找不到此分支。</em></p></blockquote><h3 id="firebase-app-distribution--取得下载连结串接"><span class="me-2">Firebase App Distribution — 取得下载连结串接</span><a href="#firebase-app-distribution--取得下载连结串接" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>最后一个小功能是串接 Firebase App Distribution 直接取得下载资讯跟连结，方便在手机上开启打包平台工具点击直接下载安装。</p><blockquote><p><em>之前介绍过「 <a href="/posts/zrealm-robotic-process-automation/zh-cn/google-apps-script-%E5%BF%AB%E9%80%9F%E4%B8%B2%E6%8E%A5-firebase-app-distribution-api-%E6%95%99%E5%AD%A6%E4%B8%8E%E8%BF%9B%E9%98%B6%E8%AE%BE%E5%AE%9A-71400d408dc8/">Google Apps Script x Google APIs 快速串接整合方式</a> 」GAS 能快速无痛整合 Firebase。</em></p></blockquote><h4 id="串接原理"><span class="me-2"><strong>串接原理</strong></span><a href="#串接原理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><strong><em>在串接之前先讲一下这个「Tricky」的串接原理。</em></strong></p></blockquote><p>我们的打包平台是没有资料库的，纯做 API 中继站；所以实际上是我们在 <a href="https://github.com/ZhgChgLi/github-actions-ci-cd-demo/actions/workflows/CD-Deploy.yml" target="_blank"><strong>GitHub Acitons CD-Deploy.yml</strong></a> 打包作业时，把 Job Run ID 带入到 Release Note (当然也可以带到 Build Number)：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="nv">ID</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">{ github.run_id </span><span class="k">}</span><span class="s2">}"</span> // Job Run ID
<span class="nv">COMMIT_SHA</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">{ github.sha </span><span class="k">}</span><span class="s2">}"</span>
<span class="nv">BRANCH_NAME</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">{ github.ref_name </span><span class="k">}</span><span class="s2">}"</span>
<span class="nv">AUTHOR</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">{ env.AUTHOR </span><span class="k">}</span><span class="s2">}"</span>

<span class="c"># 组合 Release Note</span>
<span class="nv">RELEASE_NOTE</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="p">{ env.RELEASE_NOTE </span><span class="k">}</span><span class="s2">}
ID: </span><span class="k">${</span><span class="nv">ID</span><span class="k">}</span><span class="s2">
Commit SHA: </span><span class="k">${</span><span class="nv">COMMIT_SHA</span><span class="k">}</span><span class="s2">
Branch: </span><span class="k">${</span><span class="nv">BRANCH_NAME</span><span class="k">}</span><span class="s2">
Author: </span><span class="k">${</span><span class="nv">AUTHOR</span><span class="k">}</span><span class="s2">
"</span>

<span class="c"># 执行 Fastlane 打包＆部署 Lane</span>
bundle <span class="nb">exec </span>fastlane beta release_notes:<span class="s2">"</span><span class="k">${</span><span class="nv">RELEASE_NOTE</span><span class="k">}</span><span class="s2">"</span> version_number:<span class="s2">"</span><span class="k">${</span><span class="nv">VERSION_NUMBER</span><span class="k">}</span><span class="s2">"</span> build_number:<span class="s2">"</span><span class="k">${</span><span class="nv">BUILD_NUMBER</span><span class="k">}</span><span class="s2">"</span>
</pre></table></code></div></div><p>这样 Firebase App Distribution Release Notes 就会有 Job Run ID。</p><p>GAS Web App 打包工具平台会串 GitHub API 取得 GitHub Actions 执行纪录我们直接用 API 给的 Job Run ID 带到 Firebase App Distribution API 查询 Release Notes 中有包含 <code class="language-plaintext highlighter-rouge">*ID: XXX*</code> 的版本，就能找到对应的打包纪录了。</p><p><strong>不用任何资料库也能做到两个工具平台的对应。</strong></p><p><a href="/assets/4273e57e7148/1*AJRMWv_rqu64H0ZrY4q6QA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*AJRMWv_rqu64H0ZrY4q6QA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NTkiIGhlaWdodD0iMzQ3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*Sdzt1MDXh7TNnMDkpc5uJg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*Sdzt1MDXh7TNnMDkpc5uJg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDU1IiBoZWlnaHQ9IjcwMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><h4 id="串接专案设定"><span class="me-2">串接专案设定</span><a href="#串接专案设定" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>到 GAS → 专案设定 → Google Cloud Platform (GCP) 专案 → 变更专案：</p><p><a href="/assets/4273e57e7148/1*klclBbiBQXNBzbzzj1jH0Q.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*klclBbiBQXNBzbzzj1jH0Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQwIiBoZWlnaHQ9IjExMTUiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p><a href="/assets/4273e57e7148/1*gv8m_v5O_yyUrq8uQoverQ.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*gv8m_v5O_yyUrq8uQoverQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDg2IiBoZWlnaHQ9IjYzMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>输入想串接的 Firebase 专案编号。</p><p><a href="/assets/4273e57e7148/1*OEaxA6SZWYbiVstOK60hQg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*OEaxA6SZWYbiVstOK60hQg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjAiIGhlaWdodD0iNDQ0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><strong><em>初次设定可能会跳错误</em></strong> <em>「如要变更专案，请设定 OAuth 同意画面。设定 OAuth 同意画面详细资料。」没有的话可跳过以下步骤。</em></p></blockquote><p><strong>点击「OAuth 同意画面详细资料」连结 → 点击「设定同意画面」：</strong></p><p><a href="/assets/4273e57e7148/1*oiZeO5mEqH-D3tHrJsnE1A.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*oiZeO5mEqH-D3tHrJsnE1A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQ5IiBoZWlnaHQ9IjY3NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><strong>点击「开始」:</strong></p><p><a href="/assets/4273e57e7148/1*NK9RG0kaXoxJB5X-B8vhww.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*NK9RG0kaXoxJB5X-B8vhww.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjIiIGhlaWdodD0iNTUwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><strong>应用程式资讯:</strong></p><ul><li><p>应用程式名称: <code class="language-plaintext highlighter-rouge">输入你的工具名称</code></p><li><p>使用者支援电子邮件: <code class="language-plaintext highlighter-rouge">选择电子邮件</code></p></ul><p><strong>目标对象:</strong></p><ul><li><p>内部：仅限组织内部伙伴使用</p><li><p>外部：所有 Google 帐户使用者都能同意授权后使用</p></ul><p><strong>联络资讯:</strong></p><ul><li>输入接收通知用电子邮件</ul><p><strong>勾选同意《 <a href="https://developers.google.com/terms/api-services-user-data-policy?hl=zh_TW" target="_blank">Google API 服务：使用者资料政策</a> 》。</strong></p><p>最后点击「 <strong>建立</strong> 」。</p><p>—</p><p>回到 GAS → 专案设定 → Google Cloud Platform (GCP) 专案 → 变更专案：</p><p>再次输入 Firebase 专案编号点击「变更专案」。</p><p><a href="/assets/4273e57e7148/1*g-Lo04WjhaDjtXeXthNtDg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*g-Lo04WjhaDjtXeXthNtDg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NzkiIGhlaWdodD0iMjcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><strong>没出现错误就是完成绑定了。</strong></p><p>—</p><p><strong>如果选择的是「外部」可能还需要完成以下设定：</strong></p><p>点击「专案编号」 → 展开左侧栏 → 「API 和服务」→ 「OAuth 同意画面」</p><p><a href="/assets/4273e57e7148/1*RJNQv8v3KZoTcVwUbsXSHQ.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*RJNQv8v3KZoTcVwUbsXSHQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDgiIGhlaWdodD0iNzE5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>选择「目标对象」 → 测试 点击「发布应用程式」→ 完成。</p><p><a href="/assets/4273e57e7148/1*8vqrxhchsILPy4eSdvXfNg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*8vqrxhchsILPy4eSdvXfNg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MjYiIGhlaWdodD0iNDQ1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>使用者就能照前文的「 <strong>使用者首次使用需要同意授权</strong> 」步骤完成授权就能使用了！</em></p></blockquote><p><strong>如果上述步骤没设定，使用者会遇到以下错误：</strong></p><p><a href="/assets/4273e57e7148/1*2omUPFoubsrXVLHBPFkPbg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*2omUPFoubsrXVLHBPFkPbg.webp" alt="已封锁存取权「XXX」未完成 Google 验证程序" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjYiIGhlaWdodD0iNjczIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>已封锁存取权「XXX」未完成 Google 验证程序</p><p>— — —</p><h4 id="串接专案"><span class="me-2">串接专案</span><a href="#串接专案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>回到串接上，Firebase 是直接用 <code class="language-plaintext highlighter-rouge">ScriptApp.getOAuthToken()</code> 依照执行身份动态取得 Token 使用，因此不需要设定 Token。</p><p>只需要到 GAS 专案 → <code class="language-plaintext highlighter-rouge">Settings.gs</code> → 将：</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">iOSFirebase</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FirebaseStub</span><span class="p">(</span><span class="nx">iOSFirebaseProject</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>改成</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">iOSFirebase</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Firebase</span><span class="p">(</span><span class="nx">iOSFirebaseProject</span><span class="p">);</span>
</pre></table></code></div></div><p>即可。</p><p><strong>重新整理测试用「网页应用程式」网址到打包纪录 → 找一笔纪录点击「取得下载连结」：</strong></p><p><a href="/assets/4273e57e7148/1*9z-KsIAL5jyEzQvJv3YLgg.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*9z-KsIAL5jyEzQvJv3YLgg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MTMiIGhlaWdodD0iNDUyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/4273e57e7148/1*q0HUYN2W3UonQLzwxZKXdQ.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*q0HUYN2W3UonQLzwxZKXdQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NTQiIGhlaWdodD0iMTIwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>如果有在 Firebase App Distribution Release Notes 找到对应的 Job Run Id 打包，就会直接显示下载资讯跟点下载能直接导到下载页。</p><blockquote><p>完成！🎉🎉🎉</p></blockquote><h3 id="成果"><span class="me-2">成果</span><a href="#成果" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/4273e57e7148/1*znvPmqsaivk3KhsE26sFwA.webp" class="popup img-link blur"><img data-src="/assets/4273e57e7148/1*znvPmqsaivk3KhsE26sFwA.webp" alt="[Demo Web App](https://script.google.com/macros/s/AKfycbwNW6N5ozKbIz_E1HK6yFEUtA8KQrUciS-jcPsQptvIKlARmKgLxbQzNu8ksVeg-BmEfg/exec){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDEwIiBoZWlnaHQ9Ijc2NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://script.google.com/macros/s/AKfycbwNW6N5ozKbIz_E1HK6yFEUtA8KQrUciS-jcPsQptvIKlARmKgLxbQzNu8ksVeg-BmEfg/exec" target="_blank">Demo Web App</a></p><p>至此你已经把范例都改成您的实际可用的打包工具，剩下的客制化功能、更多第三方 API 串接、更多表单可以自行延伸 (跟 ChatGPT 讨论)。</p><blockquote><p><em>最后不要忘记都开发好测试完毕要上线，需要照前文步骤 — <strong>更新部署作业才会生效喔！</strong></em></p></blockquote><h3 id="串接延伸"><span class="me-2">串接延伸</span><a href="#串接延伸" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>延续我们「中继站」角色的精神，这边提供几个快速串接的 CheatSheet：</p><p><a href="https://developers.asana.com/reference/gettasksforproject" target="_blank"><strong>Asana API — 取得 Tasks:</strong></a></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>
<span class="kd">function</span> <span class="nf">asanaAPI</span><span class="p">(</span><span class="nx">endPoint</span><span class="p">,</span> <span class="nx">method</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span> <span class="p">:</span> <span class="nx">method</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">headers</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">Authorization</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">Bearer </span><span class="dl">"</span><span class="o">+</span><span class="nx">asanaToken</span>
      <span class="p">},</span>
      <span class="dl">"</span><span class="s2">payload</span><span class="dl">"</span> <span class="p">:</span> <span class="nx">data</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://app.asana.com/api/1.0</span><span class="dl">"</span><span class="o">+</span><span class="nx">endPoint</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">UrlFetchApp</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nf">getContentText</span><span class="p">());</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">asanaAPI</span><span class="p">(</span><span class="dl">"</span><span class="s2">/projects/{project_gid}/tasks</span><span class="dl">"</span><span class="p">)</span>
</pre></table></code></div></div><p><a href="https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#about" target="_blank"><strong>Jira API — 取得 Tickets (JQL):</strong></a></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre><td class="rouge-code"><pre><span class="c1">// jql = 筛选条件</span>
<span class="kd">function</span> <span class="nf">jiraTickets</span><span class="p">(</span><span class="nx">jql</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://xxx.atlassian.net/rest/api/3/search`</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">maxResults</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

  <span class="kd">let</span> <span class="nx">allIssues</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">let</span> <span class="nx">startAt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">do</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">queryParams</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">jql</span><span class="p">:</span> <span class="nx">jql</span><span class="p">,</span>
      <span class="na">startAt</span><span class="p">:</span> <span class="nx">startAt</span><span class="p">,</span>
      <span class="na">maxResults</span><span class="p">:</span> <span class="nx">maxResults</span><span class="p">,</span>
      <span class="na">fields</span><span class="p">:</span> <span class="dl">"</span><span class="s2">assignee,summary,status</span><span class="dl">"</span>
    <span class="p">};</span>

    <span class="kd">const</span> <span class="nx">queryString</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">keys</span><span class="p">(</span><span class="nx">queryParams</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">key</span> <span class="o">=&gt;</span> <span class="s2">`</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">key</span><span class="p">)}</span><span class="s2">=</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">queryParams</span><span class="p">[</span><span class="nx">key</span><span class="p">])}</span><span class="s2">`</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Authorization</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Basic </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">jiraToken</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">muteHttpExceptions</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">UrlFetchApp</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">url</span><span class="p">}</span><span class="s2">?</span><span class="p">${</span><span class="nx">queryString</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nf">getContentText</span><span class="p">());</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nf">getResponseCode</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nc">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Failed to fetch Jira issues.</span><span class="dl">"</span><span class="p">);</span> 
    <span class="p">}</span>

    <span class="k">if </span><span class="p">(</span><span class="nx">json</span><span class="p">.</span><span class="nx">issues</span> <span class="o">&amp;&amp;</span> <span class="nx">json</span><span class="p">.</span><span class="nx">issues</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">allIssues</span> <span class="o">=</span> <span class="nx">allIssues</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="nx">json</span><span class="p">.</span><span class="nx">issues</span><span class="p">);</span>
      <span class="nx">total</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span>
      <span class="nx">startAt</span> <span class="o">+=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">issues</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">while </span><span class="p">(</span><span class="nx">startAt</span> <span class="o">&lt;</span> <span class="nx">total</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">groupIssues</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">allIssues</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">allIssues</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">groupIssues</span><span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">status</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">groupIssues</span><span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">status</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>
    <span class="nx">groupIssues</span><span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">status</span><span class="p">.</span><span class="nx">name</span><span class="p">].</span><span class="nf">push</span><span class="p">(</span><span class="nx">issue</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">groupIssues</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">jiraTickets</span><span class="p">(</span><span class="s2">`project IN(App)`</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>如果真的需要资料库，可以使用 Google Sheet 代替：</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Saveable</span> <span class="p">{</span>
  <span class="nf">constructor</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// https://docs.google.com/spreadsheets/d/Sheet-ID/edit</span>
    <span class="kd">const</span> <span class="nx">spreadsheet</span> <span class="o">=</span> <span class="nx">SpreadsheetApp</span><span class="p">.</span><span class="nf">openById</span><span class="p">(</span><span class="dl">"</span><span class="s2">Sheet-ID</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sheet</span> <span class="o">=</span> <span class="nx">spreadsheet</span><span class="p">.</span><span class="nf">getSheetByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">Data</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// Sheet Name</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nf">write</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nf">appendRow</span><span class="p">([</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
      <span class="nx">key</span><span class="p">,</span>
      <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">]);</span>
  <span class="p">}</span>

  <span class="nf">read</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nf">getDataRange</span><span class="p">().</span><span class="nf">getValues</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">row</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="nx">r</span> <span class="o">=&gt;</span> <span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">&amp;&amp;</span> <span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">===</span> <span class="nx">key</span><span class="p">);</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">row</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">saveable</span> <span class="o">=</span> <span class="nc">Saveable</span><span class="p">(</span><span class="dl">"</span><span class="s2">user</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// Write</span>
<span class="nx">saveable</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="dl">"</span><span class="s2">birthday_zhgchgli</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">0718</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// Read</span>
<span class="nx">saveable</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="dl">"</span><span class="s2">birthday_zhgchgli</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// -&gt; 0718</span>
</pre></table></code></div></div><p><a href="https://api.slack.com/methods/chat.postMessage" target="_blank"><strong>Slack API &amp; 发送讯息方法：</strong></a></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">slackSendMessage</span><span class="p">(</span><span class="nx">channel</span><span class="p">,</span> <span class="nx">text</span> <span class="o">=</span> <span class="dl">""</span><span class="p">,</span> <span class="nx">blocks</span> <span class="o">=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">content</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">channel</span><span class="p">:</span> <span class="nx">channel</span><span class="p">,</span>
    <span class="na">unfurl_links</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">unfurl_media</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">text</span><span class="p">:</span> <span class="nx">text</span><span class="p">,</span>
    <span class="na">blocks</span><span class="p">:</span> <span class="nx">blocks</span>
  <span class="p">};</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nf">slackRequest</span><span class="p">(</span><span class="dl">"</span><span class="s2">chat.postMessage</span><span class="dl">"</span><span class="p">,</span> <span class="nx">content</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nc">Error</span><span class="p">(</span><span class="s2">`Failed to send Slack message: </span><span class="p">${</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">slackRequest</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">content</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">contentType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">slackBotToken</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
      <span class="dl">'</span><span class="s1">X-Slack-No-Retry</span><span class="dl">'</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="na">payload</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
  <span class="p">};</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">UrlFetchApp</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://slack.com/api/</span><span class="dl">"</span><span class="o">+</span><span class="nx">path</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">responseData</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nf">getContentText</span><span class="p">());</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">responseData</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">responseData</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nc">Error</span><span class="p">(</span><span class="s2">`Slack: </span><span class="p">${</span><span class="nx">responseData</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="更多-google-apps-script-案例"><span class="me-2">更多 Google Apps Script 案例：</span><a href="#更多-google-apps-script-案例" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><p><a href="/posts/zrealm-robotic-process-automation/zh-cn/google-apps-script-%E5%BF%AB%E9%80%9F%E4%B8%B2%E6%8E%A5-firebase-app-distribution-api-%E6%95%99%E5%AD%A6%E4%B8%8E%E8%BF%9B%E9%98%B6%E8%AE%BE%E5%AE%9A-71400d408dc8/">Google Apps Script x Google APIs 快速串接整合方式</a></p><li><p><a href="/posts/zrealm-robotic-process-automation/zh-cn/ga4-%E8%87%AA%E5%8A%A8%E6%95%B0%E6%8D%AE%E9%80%9A%E7%9F%A5%E6%9C%BA%E5%99%A8%E4%BA%BA-3-%E6%AD%A5%E9%AA%A4%E7%94%A8-google-apps-script-%E4%B8%B2%E6%8E%A5-telegram-bot-1e85b8df2348/">简单 3 步骤 — 打造免费 GA4 自动数据通知机器人</a></p><li><p><a href="/posts/zrealm-robotic-process-automation/zh-cn/google-apps-script-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E6%95%B0%E6%8D%AE%E6%8A%A5%E8%A1%A8%E8%87%AA%E5%8A%A8%E5%8C%96-rpa-%E5%BF%AB%E9%80%9F%E4%B8%B2%E6%8E%A5-google-analytics-%E4%B8%8E-google-sheet-f6713ba3fee3/">使用 Google Apps Script 实现每日数据报表 RPA 自动化</a></p><li><p><a href="/posts/zrealm-dev/zh-cn/slack-app-%E6%95%B4%E5%90%88-chatgpt-%E5%88%A9%E7%94%A8-openai-api-%E4%B8%8E-google-cloud-functions-%E8%87%AA%E5%BB%BA%E6%99%BA%E8%83%BD%E5%8A%A9%E7%90%86-bd94cc88f9c9/">Slack &amp; ChatGPT Integration</a></p><li><p><a href="/posts/zrealm-dev/zh-cn/google-apps-script-%E4%B8%89%E6%AD%A5%E9%AA%A4%E6%89%93%E9%80%A0%E5%85%8D%E8%B4%B9-github-repo-star-%E9%80%9A%E7%9F%A5%E5%99%A8-%E5%AE%9E%E6%97%B6%E8%8E%B7%E5%8F%96-star-%E5%8A%A8%E6%80%81-382218e15697/">使用 Google Apps Script 三步骤免费建立 Github Repo Star Notifier</a></p><li><p><a href="/posts/zrealm-dev/zh-cn/crashlytics%E4%B8%8Egoogle-analytics%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2app-crash-free-users-rate-google-apps-script%E6%95%B4%E5%90%88%E5%AE%9E%E4%BD%9C-793cb8f89b72/">Crashlytics + Google Analytics 自动查询 App Crash-Free Users Rate</a></p><li><p><a href="/posts/zrealm-dev/zh-cn/crashlytics-big-query-%E4%B8%B2%E6%8E%A5%E6%95%99%E5%AD%A6-%E8%87%AA%E5%8A%A8%E6%9F%A5%E8%AF%A2%E5%B9%B6%E8%BD%AC%E5%8F%91-ios-app-%E9%97%AA%E9%80%80%E6%8A%A5%E5%91%8A%E5%88%B0-slack-e77b80cc6f89/">Crashlytics + Big Query 打造更即时便利的 Crash 追踪工具</a></p></ul><h3 id="总结"><span class="me-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>感谢您的耐心阅读与参与，CI/CD 从 0 到 1 系列文章到此告一段落；希望能实际帮助到您与您的团队建置完善的 CI/CD 工作流程，提升效率与产品稳定性；有任何实作问题欢迎留言讨论，这四篇文章大约花了 14+ 天撰写， <strong>如果您觉得不错欢迎 Follow 我的 Medium 和与朋友同事分享</strong> 。</p><blockquote><p>谢谢。</p></blockquote><h4 id="-buy-me-a-beer-on-paypal"><span class="me-2"><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank">🍺 Buy me a beer on PayPal</a></span><a href="#-buy-me-a-beer-on-paypal" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank"><strong><em>本系列文章花费了大量的时间精力撰写，如果内容对您有帮助、对您的团队有实质提升工作效率与产品品质；欢迎请我喝杯咖啡，感谢支持！</em></strong></a></p></blockquote><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;" lqip="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDAiIGhlaWdodD0iNzAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+">🍺 Buy me a beer on PayPal</a></p><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank">🍺 Buy me a beer on PayPal</a></p><h4 id="系列文章"><span class="me-2">系列文章：</span><a href="#系列文章" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><p><a href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A8%B3%E5%AE%9A%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E7%9A%84%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9-c008a9e8ceca/"><strong>CI/CD 实战指南（一）：CI/CD 是什么？如何透过 CI/CD 打造稳定高效的开发团队？工具选择？</strong></a></p><li><p><a href="/posts/zrealm-dev/zh-cn/github-actions-self-hosted-runner-%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B-ci-cd-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%BB%BA%E7%BD%AE-404bd5c70040/"><strong>CI/CD 实战指南（二）：GitHub Actions 与 self-hosted Runner 使用与建置大全</strong></a></p><li><p><a href="/posts/zrealm-dev/zh-cn/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AE%9E%E4%BD%9C%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%A6-4b001d2e8440/"><strong>CI/CD 实战指南（三）：使用 GitHub Actions 实作 App 专案的 CI 与 CD 工作流程</strong></a></p><li><p><a href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/"><strong>CI/CD 实战指南（四）：使用 Google Apps Script Web App 串接 GitHub Actions 建置免费易用的打包工具平台</strong></a></p></ul><p>有任何问题及指教欢迎 <a href="https://www.zhgchg.li/contact" target="_blank">与我联络</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/zrealm-dev/zh-cn/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87-4273e57e7148/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-info"><p>本文首次发表于 Medium (<a href="https://medium.com/p/4273e57e7148" target="_blank"><strong>点击查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自动转换与同步技术。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-cn/zmediumtomarkdown/2025-07-10-4273e57e7148.md" target="_blank">Improve this page on Github.</a></p></blockquote><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1,050+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/cicd/" class="post-tag no-text-decoration" >cicd</a> <a href="/tags/google-apps-script/" class="post-tag no-text-decoration" >google-apps-script</a> <a href="/tags/web-development/" class="post-tag no-text-decoration" >web-development</a> <a href="/tags/tools/" class="post-tag no-text-decoration" >tools</a> <a href="/tags/simplified-chinese/" class="post-tag no-text-decoration" >simplified-chinese</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=CI/CD%20%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0%EF%BD%9C%E4%BD%BF%E7%94%A8%20Google%20Apps%20Script%20Web%20App%20%E4%B8%B2%E6%8E%A5%20GitHub%20Actions%20%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fci-cd-%25E6%2589%2593%25E5%258C%2585%25E5%25B7%25A5%25E5%2585%25B7%25E5%25B9%25B3%25E5%258F%25B0-%25E4%25BD%25BF%25E7%2594%25A8-google-apps-script-web-app-%25E4%25B8%25B2%25E6%258E%25A5-github-actions-%25E6%258F%2590%25E5%258D%2587%25E8%25B7%25A8%25E5%259B%25A2%25E9%2598%259F%25E6%2595%2588%25E7%258E%2587-4273e57e7148%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=CI/CD%20%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0%EF%BD%9C%E4%BD%BF%E7%94%A8%20Google%20Apps%20Script%20Web%20App%20%E4%B8%B2%E6%8E%A5%20GitHub%20Actions%20%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9B%A2%E9%98%9F%E6%95%88%E7%8E%87%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fci-cd-%25E6%2589%2593%25E5%258C%2585%25E5%25B7%25A5%25E5%2585%25B7%25E5%25B9%25B3%25E5%258F%25B0-%25E4%25BD%25BF%25E7%2594%25A8-google-apps-script-web-app-%25E4%25B8%25B2%25E6%258E%25A5-github-actions-%25E6%258F%2590%25E5%258D%2587%25E8%25B7%25A8%25E5%259B%25A2%25E9%2598%259F%25E6%2595%2588%25E7%258E%2587-4273e57e7148%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fci-cd-%25E6%2589%2593%25E5%258C%2585%25E5%25B7%25A5%25E5%2585%25B7%25E5%25B9%25B3%25E5%258F%25B0-%25E4%25BD%25BF%25E7%2594%25A8-google-apps-script-web-app-%25E4%25B8%25B2%25E6%258E%25A5-github-actions-%25E6%258F%2590%25E5%258D%2587%25E8%25B7%25A8%25E5%259B%25A2%25E9%2598%259F%25E6%2595%2588%25E7%258E%2587-4273e57e7148%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/ci-cd-explained-boost-ios-app-development-stability-and-efficiency-tool-selection-guide-c008a9e8ceca/">CI/CD Explained: Boost iOS App Development Stability and Efficiency｜Tool Selection Guide</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/ci-cd-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A8%B3%E5%AE%9A%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E7%9A%84%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9-c008a9e8ceca/">CI/CD 实战指南（一）：CI/CD 是什么？如何透过 CI/CD 打造稳定高效的开发团队？工具选择？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/">CI/CD 實戰指南（一）：CI/CD 是什麼？如何透過 CI/CD 打造穩定高效的開發團隊？工具選擇？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/en/google-apps-script-web-app-integrate-forms-with-github-actions-ci-cd-for-streamlined-workflows-4cb4437818f2/">Google Apps Script Web App｜Integrate Forms with GitHub Actions CI/CD for Streamlined Workflows</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/zh-cn/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%AE%A2%E8%A1%A8%E5%8D%95%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87-4cb4437818f2/">使用 Google Apps Script Web App 表单串接 Github Action CI/CD 工作</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Chapters 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9C%98%E9%9A%8A%E6%95%88%E7%8E%87-4273e57e7148/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1752150651" data-df="ll" > Jul 10, 2025 </time><h4 class="pt-0 my-2">CI/CD 實戰指南（四）：使用 Google Apps Script Web App 串接 GitHub Actions 建置免費易用的打包工具平台</h4><div class="text-muted"><p>GAS Web App 串接 GitHub, Slack, Firebase 或 Asana/Jira API，建置中繼站，提供跨團隊共用的打包工具平台</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/en/ci-cd-guide-integrate-google-apps-script-web-app-with-github-actions-for-free-packaging-platform-4273e57e7148/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1752150651" data-df="ll" > Jul 10, 2025 </time><h4 class="pt-0 my-2">CI/CD Guide｜Integrate Google Apps Script Web App with GitHub Actions for Free Packaging Platform</h4><div class="text-muted"><p>Developers facing complex CI/CD setups can streamline workflows by connecting Google Apps Script Web App with GitHub Actions, Slack, and Firebase APIs to build a free, collaborative packaging tool ...</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/zh-cn/google-apps-script-%E6%95%99%E5%AD%A6-%E8%87%AA%E5%8A%A8%E8%BD%AC%E5%8F%91-gmail-%E9%82%AE%E4%BB%B6%E5%88%B0-slack-channel-%E5%AE%A2%E5%88%B6%E5%8C%96%E9%80%9A%E7%9F%A5-d414bdbdb8c9/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1628338789" data-df="ll" > Aug 7, 2021 </time><h4 class="pt-0 my-2">Google Apps Script 教学｜自动转发 Gmail 邮件到 Slack Channel 客制化通知</h4><div class="text-muted"><p>透过 Gmail 筛选器结合 Google Apps Script，自动抓取指定邮件并转成自订格式推送到 Slack，解决等待 App Store 处理时间长、CI/CD 流程卡关问题，提升工作效率与即时通知掌握度。</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/en/ci-cd-guide-integrate-google-apps-script-web-app-with-github-actions-for-free-packaging-platform-4273e57e7148/" class="btn btn-outline-primary" aria-label="Older" ><p>CI/CD Guide｜Integrate Google Apps Script Web App with GitHub Actions for Free Packaging Platform</p></a> <a href="/posts/zrealm-dev/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9C%98%E9%9A%8A%E6%95%88%E7%8E%87-4273e57e7148/" class="btn btn-outline-primary" aria-label="Newer" ><p>CI/CD 實戰指南（四）：使用 Google Apps Script Web App 串接 GitHub Actions 建置免費易用的打包工具平台</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">正體中文</a> | <a href="/tags/simplified-chinese">简体中文</a> | <a href="/tags/english/">English</a> <br/> Last updated: 2025-12-25 11:01:46 +08:00</p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

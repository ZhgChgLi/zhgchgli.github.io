<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="针对iOS开发者与安全研究者，破解越狱手机提取iPA档、使用Lookin与Reveal工具分析APP UI，并透过frida-ios-dump动态砸壳，结合class-dump与反编译工具深入探究APP结构与商业逻辑，提升APP安全防护与漏洞检测效率。" /><meta property="og:description" content="针对iOS开发者与安全研究者，破解越狱手机提取iPA档、使用Lookin与Reveal工具分析APP UI，并透过frida-ios-dump动态砸壳，结合class-dump与反编译工具深入探究APP结构与商业逻辑，提升APP安全防护与漏洞检测效率。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/zh-cn/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96ipa%E6%A1%A3-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-7498e1ff93ce/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/zh-cn/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96ipa%E6%A1%A3-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-7498e1ff93ce/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-03-28T18:24:40+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp" /><meta property="twitter:title" content="iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://medium.com/@zhgchgli/"},"dateModified":"2023-08-06T01:02:37+08:00","datePublished":"2020-03-28T18:24:40+08:00","description":"针对iOS开发者与安全研究者，破解越狱手机提取iPA档、使用Lookin与Reveal工具分析APP UI，并透过frida-ios-dump动态砸壳，结合class-dump与反编译工具深入探究APP结构与商业逻辑，提升APP安全防护与漏洞检测效率。","headline":"iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/zh-cn/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96ipa%E6%A1%A3-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-7498e1ff93ce/"},"url":"https://zhgchg.li/posts/zrealm-dev/zh-cn/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96ipa%E6%A1%A3-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-7498e1ff93ce/"}</script><title>iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="/posts/zrealm-dev/en/ios-reverse-engineering-jailbreak-ipa-extraction-ui-injection-decompilation-techniques-7498e1ff93ce/"><link rel="alternate" hreflang="zh-Hant" href="/posts/zrealm-dev/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8D%84%E6%8F%90%E5%8F%96ipa%E6%AA%94-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%B7%A8%E8%AD%AF%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-7498e1ff93ce/"><link rel="alternate" hreflang="x-default" href="/posts/zrealm-dev/zh-cn/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96ipa%E6%A1%A3-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-7498e1ff93ce/"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p><a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解</h1><p class="post-desc fw-light mb-4">针对iOS开发者与安全研究者，破解越狱手机提取iPA档、使用Lookin与Reveal工具分析APP UI，并透过frida-ios-dump动态砸壳，结合class-dump与反编译工具深入探究APP结构与商业逻辑，提升APP安全防护与漏洞检测效率。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1585391080" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 28, 2020 </time> </span> <span> Updated <time data-ts="1691254957" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Aug 5, 2023 </time> </span><div class="mt-3 mb-3"> <a href="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp" class="popup img-link preview-img blur"><img data-src="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3123 words" > <em>17 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節 (Chapters)🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">iOS 逆向工程全攻略｜越狱提取iPA档、UI分析到反编译技术详解</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/en/ios-reverse-engineering-jailbreak-ipa-extraction-ui-injection-decompilation-techniques-7498e1ff93ce/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="/posts/zrealm-dev/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8D%84%E6%8F%90%E5%8F%96ipa%E6%AA%94-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%B7%A8%E8%AD%AF%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-7498e1ff93ce/"><strong>點擊這裡</strong></a>查看本文章正體中文版本。</p></blockquote><blockquote class="prompt-info"><p>基于 SEO 考量，本文标题与描述经 AI 调整，原始版本请参考内文。</p></blockquote><hr /><h3 id="ios-逆向工程初体验"><span class="me-2">iOS 逆向工程初体验</span><a href="#ios-逆向工程初体验" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>从越狱、提取iPA档敲壳到UI分析注入及反编译的探索过程</p><h3 id="关于安全"><span class="me-2">关于安全</span><a href="#关于安全" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>之前唯一做过跟安全有关的就只有 <a href="/posts/zrealm-dev/zh-cn/app-https%E4%BC%A0%E8%BE%93%E4%BB%8D%E9%81%AD%E7%AA%83%E5%8F%96-mitmproxy%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%AE%9E%E6%88%98%E6%95%99%E5%AD%A6%E4%B8%8E%E9%98%B2%E8%8C%83%E6%8A%80%E5%B7%A7-46410aaada00/"><strong>&lt;&lt; 使用中间人攻击嗅探传输资料 &gt;&gt;</strong></a> ；另外也接续这篇，假设我们在资料传输前编码加密、接受时 APP 内解密，用以防止中间人嗅探；那还有可能被偷走资料吗？</p><blockquote><p>答案是肯定的！，就算没真的试验过；世界上没有破不了的系统，只有时间成本的问题，当破解耗费的时间精力大于破解成果，那就可以称为是安全的！</p></blockquote><h4 id="how"><span class="me-2">How?</span><a href="#how" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>都做到这样了，那还能怎么破？就是本篇想记录的议题 — <strong>「逆向工程 」</strong> ，敲开你的 APP 研究你是怎么做加解密的；其实一直以来对这个领域都是懵懵懂懂，只在 iPlayground 2019 上听过两堂大大的分享，大概知道原理还有怎么实现，最近刚好有机会玩了一下跟大家分享！</p><h3 id="逆了向能干嘛"><span class="me-2">逆了向，能干嘛？</span><a href="#逆了向能干嘛" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><p>查看 APP UI 排版方式、结构</p><li><p>获取 APP 资源目录 .assets/.plist/icon…</p><li><p>窜改 APP 功能重新打包 (EX: 去广告)</p><li><p>反编译推测原始程式码内容取得商业逻辑资讯</p><li><p>dump 出 .h 标头档 / keycahin 内容</p></ul><h3 id="实现环境"><span class="me-2">实现环境</span><a href="#实现环境" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>macOS 版本：</strong> 10.15.3 Catalina <strong>iOS</strong> <strong>版本：</strong> iPhone 6 (iOS 12.4.4 / 已越狱) <strong>*必要</strong> <strong>Cydia:</strong> Open SSH</p><h4 id="越狱的部分"><span class="me-2">越狱的部分</span><a href="#越狱的部分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>任何版本的 iOS、iPhone 都可以，只要是能越狱的设备，建议使用旧的手机或是开发机，以避免不必要的风险；可根据自己的手机、iOS 版本参考 <a href="https://mrmad.com.tw/category/jb/jailbreak" target="_blank">疯先生越狱教学</a> ，必要时需要将 <a href="https://mrmad.com.tw/new-ios-downgrade-old-ios" target="_blank">iOS 降版</a> （ <a href="https://mrmad.com.tw/ios-firmware" target="_blank">认证状态查询</a> ）再越狱。</p><p>我是拿之前的旧手机 iPhone 6 来测试，原本已经升到 iOS 12.4.5 了，但发现 12.4.5 一直越狱不成功，所幸先降回 12.4.4 然后使用 <a href="https://checkra.in/" target="_blank">checkra1n</a> 越狱就成功了！</p><p>步骤不多，也不难；只是需要时间等待！</p><p><strong>附上一个自己犯蠢的经验：</strong> 下载完旧版 IPSW 档案后，手机接上 Mac ，直接使用 Finder 档案浏览器(macOS 10.5 后就没有 iTunes 了)，在左方 Locations 选择手机，出现手机资讯画面后， <strong>「Option」按著然后再点「Restore iPhone」</strong> 就能跳出 IPSW 档案选择视窗，选择刚下载下来的旧版 IPSW 档案就能完成刷机降版。</p><p><a href="/assets/7498e1ff93ce/1*jlxQNpYPXJ2yrNoYM_Sgwg.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*jlxQNpYPXJ2yrNoYM_Sgwg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQ2IiBoZWlnaHQ9IjcyOSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><blockquote><p>我本来傻傻的直接按 Restore iPhone…只会浪费时间重刷一次最新版而已….</p></blockquote><h3 id="使用-lookin-工具查看别人的-app-ui-排版"><span class="me-2">使用 lookin 工具查看别人的 APP UI 排版</span><a href="#使用-lookin-工具查看别人的-app-ui-排版" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>我们先来点有趣的前菜，使用工具搭配越狱手机查看别人APP 是怎么排版。</p><p>查看工具： 一是 老牌 <a href="https://revealapp.com/" target="_blank">Reveal</a> (功能更完整，需付费约 $60 美金/可试用)，二是腾讯 QMUI Team 制作的 <a href="https://lookin.work/" target="_blank">lookin</a> 免费开源工具；这边使用 lookin 作为示范，Reveal 大同小异。</p><blockquote><p><em>若没有越狱手机也没关系，此工具主要是让你用在开发中的专案上，查看 Debug 排版（取代 Xcode 阳春的 inspector） <strong>平常开发也能用到</strong> ！</em></p></blockquote><blockquote><p><strong><em>唯有要看别人的 APP 需要使用越狱手机。</em></strong></p></blockquote><h4 id="如果要看自己的专案"><span class="me-2">如果要看自己的专案…</span><a href="#如果要看自己的专案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>可以选择使用 <a href="https://lookin.work/faq/integration-cocoapods/" target="_blank">CocoaPods</a> 安装、 <a href="https://lookin.work/faq/integration-breakpoint/" target="_blank">断点插入</a> （仅支援模拟器）、 <a href="https://lookin.work/faq/integration-sourcecode/" target="_blank">手动导入Framework 到专案</a> 、 <a href="https://lookin.work/faq/integration-manual/" target="_blank">手动设置</a> ，四种方法。</p><p>将专案 Build + Run 起来之后，就能 <strong>在 Lookin 工具上选择 APP 画面</strong> -&gt; <strong>查看排版结构</strong> 。</p><p><a href="/assets/7498e1ff93ce/1*DZJ7-gFs8hf9Dxl5FAjHIQ.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*DZJ7-gFs8hf9Dxl5FAjHIQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjQiIGhlaWdodD0iNTEyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="如果要看别人的app"><span class="me-2">如果要看别人的APP…</span><a href="#如果要看别人的app" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/7498e1ff93ce/1*jJ_1bIAPxmqHzu8dAtyYSw.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*jJ_1bIAPxmqHzu8dAtyYSw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><strong>Step 1.</strong> 在越狱手机上打开「 <strong>Cydia</strong> 」-&gt; 搜寻「 <strong>LookinLoader</strong> 」-&gt;「 <strong>安装</strong> 」-&gt; 回到手机「 <strong>设定</strong> 」-&gt;「 <strong>Lookin</strong> 」-&gt;「 <strong>Enabled Applications</strong> 」-&gt; <strong>启用想要查看的 APP</strong> 。</p><p><strong>Step 2.</strong> 使用传输线 <strong>将手机连接至 Mac 电脑</strong> -&gt; <strong>打开想要查看的APP</strong> -&gt; 回到电脑， <strong>在 Lookin 工具上选择 APP 画面</strong> -&gt; 即可 <strong>查看排版结构</strong> 。</p><h4 id="lookin-查看排版结构"><span class="me-2">Lookin 查看排版结构</span><a href="#lookin-查看排版结构" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/7498e1ff93ce/1*qqLRdYwVBbLXj1Rn3iEMEw.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*qqLRdYwVBbLXj1Rn3iEMEw.webp" alt="Facebook 登入画面排版结构" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjgzNSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Facebook 登入画面排版结构</p><p>可在左侧栏检视 View Hierarchy、右侧栏对选中的物件进行动态修改。</p><p><a href="/assets/7498e1ff93ce/1*72YKbJleXjvirZzdvIRSIw.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*72YKbJleXjvirZzdvIRSIw.webp" alt="原本的「建立新帐号」被我改成「哈哈哈」" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjYzMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>原本的「建立新帐号」被我改成「哈哈哈」</p><p>对物件的修改也会实时的显示在手机 APP 上，如上图。</p><p>就如同网页的「F12」开发者工具，所有的修改仅对 View 有效，不会影响实际的资料；主要是拿来 Debug ，当然也可以用来改值、截图，然后骗朋友 ＸＤ</p><h4 id="使用-reveal-工具查看-app-ui-排版结构"><span class="me-2">使用 <a href="https://revealapp.com/" target="_blank">Reveal</a> 工具查看 APP UI 排版结构</span><a href="#使用-reveal-工具查看-app-ui-排版结构" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/7498e1ff93ce/1*vkzR6_y3Y4qCgoVM150Ozg.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*vkzR6_y3Y4qCgoVM150Ozg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjgyNiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>虽然 Reveal 需要付费才能使用，但个人还是比较喜欢 Reveal；在结构显示上资讯更详细、右方资讯栏位几乎等同于 XCode 开发环境，想做什么即时调整都可以，另外也会提示 Constraint Error 对于 UI 排版修正非常有帮助！</p><p><strong>这两个工具在日常开发自己的 APP 上都非常有帮助！</strong></p><blockquote><p><em>了解完流程环境及有趣的部分之后，就让我们进入正题吧！</em></p></blockquote><blockquote><p>*以下开始都需要越狱手机配合</p></blockquote><h3 id="提取-app-ipa-档案--砸壳"><span class="me-2">提取 APP .ipa 档案 &amp; 砸壳</span><a href="#提取-app-ipa-档案--砸壳" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>所有从 App Store 安装的 APP，其中的 .ipa 档案都有 <a href="https://zh.wikipedia.org/wiki/Ipa%E6%96%87%E4%BB%B6" target="_blank">FairPlay DRM</a> 保护 ，俗称加壳保护/相反的去掉保护就叫「砸壳」，所以单纯从 App Stroe 提取 .ipa 是没有意义的，也用不了。</p><p><em>*另一个工具 APP Configurator 2 只能提取有保护的档案，没意义就不再赘述，有兴趣使用此工具的朋友可以 <a href="https://blog.csdn.net/aa464971/article/details/87955711" target="_blank">点此</a> 查看教学。</em></p><h4 id="使用工具越狱手机提取砸壳之后的原始-ipa-档案"><span class="me-2">使用工具+越狱手机提取砸壳之后的原始 .ipa 档案：</span><a href="#使用工具越狱手机提取砸壳之后的原始-ipa-档案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>关于工具部分起初我使用的是 <a href="https://github.com/KJCracks/Clutch/releases" target="_blank">Clutch</a> ，但怎么尝试都出现 FAILED 查了下专案 issue，发现有很多人有同样状况，貌似此工具已经不能在 iOS ≥ 12 使用了、另外还有一个老牌工具 <a href="https://juejin.im/post/5d31e948f265da1bd2612788" target="_blank">dumpdecrypted</a> ，但我没有研究。</p><p>这边使用 <a href="https://github.com/AloneMonkey/frida-ios-dump" target="_blank">frida-ios-dump</a> 这个 Python 工具进行动态砸壳，使用起来非常方便！</p><p><strong>首先我们先准备 Mac 上的环境：</strong></p><ol><li><p>Mac 本身自带 Python 2.7 版本，此工具支援 Python 2.X/3.X，所以不用在特别安装 Python；但我是使用 Python 3.X 进行操作的，如果有遇到 Python 2.X 的问题，不妨尝试 <a href="https://stringpiggy.hpd.io/mac-osx-python3-multiple-pyenv-install/" target="_blank">安装使用 Python 3</a> 吧！</p><li><p>安装 <a href="https://pip.pypa.io/en/stable/installing/" target="_blank">pip</a> （ Python 的套件源管理器）</p><li><p>使用 pip 安装 <a href="https://frida.re/" target="_blank">frida</a> ： <code class="language-plaintext highlighter-rouge">sudo pip install frida -upgrade -ignore-installed six</code> (python 2.X) <code class="language-plaintext highlighter-rouge">sudo pip3 install frida -upgrade -ignore-installed six</code> (python 3.X)</p><li><p>在 Terminal 输入 <code class="language-plaintext highlighter-rouge">frida-ps</code> 如果没错误讯息代表安装成功！</p><li><p>Clone <a href="https://github.com/AloneMonkey/frida-ios-dump" target="_blank">AloneMonkey/frida-ios-dump</a> 这个专案</p><li><p>进入专案，用文字编辑器打开 dump.py 档案</p><li><p>确认 SSH 连线设定部分是否正确 (预设不用特别动) User = ‘root’ Password = ‘alpine’ Host = ‘localhost’ Port = 2222</p></ol><p><strong>越狱手机上的环境：</strong></p><ol><li><p>安装 Open SSH ：Cydia → 搜寻 → Open SSH →安装</p><li><p>安装 Frida 源：Cydia → 来源 → 右上角「编辑」 → 左上角「加入」 → <a href="https://build.frida.re/" target="_blank">https://build.frida.re</a></p><li><p>安装 Frida：Cydia → 搜寻 → Frida → 依照手机处理器版本安装对应的工具（EX: 我是 iPhone 6 A11，所以是装 <code class="language-plaintext highlighter-rouge">Frida for pre-A12 devices</code> 这个工具）</p></ol><p><strong>环境都弄好之后，开工：</strong></p><p>1.将手机使用 USB 连接到电脑</p><p>2.在 Mac 上打开一个 Terminal 输入 <code class="language-plaintext highlighter-rouge">iproxy 2222 22</code> ，启动 Server。</p><p>3.确保手机/电脑处于相同网路环境中(EX: 连同个WiFi)</p><p>4.再打开一个 Terminal 输入 ssh root@127.0.0.1，输入 SSH 密码(预设是 <code class="language-plaintext highlighter-rouge">alpine</code> )</p><p><a href="/assets/7498e1ff93ce/1*3X-Wgh0XuNwslF4nSYAGlA.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*3X-Wgh0XuNwslF4nSYAGlA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjQiIGhlaWdodD0iNDk3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>5.再打开一个 Terminal 进行敲壳命令操作，cd 到 clone 下来的 /frida-ios-dump 目录下。</p><p>输入 <code class="language-plaintext highlighter-rouge">dump.py -l</code> 列出手机中已安装/正在执行的 APP。</p><p><a href="/assets/7498e1ff93ce/1*FSr_QMRFqMRv9OHjhDDIKQ.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*FSr_QMRFqMRv9OHjhDDIKQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTA5IiBoZWlnaHQ9IjQ3NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ol><li>找到要敲壳导出的 APP 名称 / Bundle ID，输入：</ol><p><code class="language-plaintext highlighter-rouge">dump.py APP名称或BundleID -o 输出结果的路径/输出档名.ipa</code></p><p>这边务必指定 <strong>输出结果的路径/档名</strong> ，因为预设输出路径会在 <code class="language-plaintext highlighter-rouge">/opt/dump/frida-ios-dump/</code> 这边不想把它搬到 <code class="language-plaintext highlighter-rouge">/opt/dump</code> 中，所以要指定输出路径避免权限错误。</p><ol><li>输出成功后就能取得已敲壳的 .ipa 档案！</ol><p><a href="/assets/7498e1ff93ce/1*T49RwSRIcgO26pihxEu3BQ.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*T49RwSRIcgO26pihxEu3BQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDEiIGhlaWdodD0iNTA1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li><p>手机必须在解锁情况下才能使用工具</p><li><p>若出现连线错误、reset by peer…等原因，可尝试拔掉重插 USB 连接、重开 iproxy。</p></ul><p>7.将 .ipa 档直接重新命名成 .zip 档，然后直接右键解压缩档</p><p>会出现 <code class="language-plaintext highlighter-rouge">/Payload/APP名称.app</code></p><h3 id="有了原始-app-档后我们可以"><span class="me-2">有了原始 APP 档后我们可以…</span><a href="#有了原始-app-档后我们可以" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="1-提取-app-的资源目录"><span class="me-2">1. 提取 APP 的资源目录</span><a href="#1-提取-app-的资源目录" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>在 APP名称.app 右键 → 「Show Package Contents」就能看到 APP 的资源目录</p><p><a href="/assets/7498e1ff93ce/1*YtQO1injuB8eH2wXQJ2ktw.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*YtQO1injuB8eH2wXQJ2ktw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjciIGhlaWdodD0iNTM3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="2-class-dump-出-app-h头文件讯息"><span class="me-2">2. class-dump 出 APP .h头文件讯息</span><a href="#2-class-dump-出-app-h头文件讯息" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>使用 class-dump 工具导出全 APP (包含 Framework) .h 头文件讯息 (仅限 Objective-C，若专案为 Swift 则无效)</p><p><a href="https://github.com/nygard/class-dump" target="*blank"><em>nygard/class-dump</em></a> _大大的工具我尝试失败，一直 failed；最后还是一样使用 <a href="https://github.com/AloneMonkey" target="_blank">AloneMonkey</a> / <a href="https://github.com/AloneMonkey/MonkeyDev" target="_blank">MonkeyDev</a> 大大的工具集中改写过的 class-dump 工具才成功。*</p><ul><li><p>直接从这里 Download <a href="https://github.com/AloneMonkey/MonkeyDev/blob/master/bin/class-dump" target="_blank">MonkeyDev/bin/class-dump</a> 工具</p><li><p>打开 Terminal 直接使用： <code class="language-plaintext highlighter-rouge">./class-dump -H APP路径/APP名称.app -o 汇出的目标路径</code></p></ul><p><a href="/assets/7498e1ff93ce/1*crdnoYeF6fnSqm79wZNFiw.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*crdnoYeF6fnSqm79wZNFiw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjcwIiBoZWlnaHQ9Ijc2NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>dump 成功之后就能获取到整个 APP 的 .h 资讯。</p><h4 id="4-最后也是最困难的--进行反编译"><span class="me-2">4. 最后也是最困难的 — 进行反编译</span><a href="#4-最后也是最困难的--进行反编译" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>可以使用 <a href="https://www.hex-rays.com/products/ida/support/links.shtml" target="_blank">IDA</a> 和 <a href="https://www.hopperapp.com/" target="_blank">Hopper</a> 反编译工具进行分析使用，两款都是收费工具， <a href="https://www.hopperapp.com/" target="_blank">Hopper</a> 可免费试用(每次 30 分钟)</p><p>我们将取得的 APP名称.app 档案直接拉到 Hopper 即可开始进行分析。</p><p><a href="/assets/7498e1ff93ce/1*8LrtLlE2adXLZi5-MDQ20A.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*8LrtLlE2adXLZi5-MDQ20A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9Ijc2NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>不过我也就止步于此了，因为从这开始就要研究机器码、搭配 class-dump 结果推测方法…等等；需要非常深入的功力才行！</p><p>突破反编译后，可以自行窜改运作重新打包成新的 APP。</p><p><a href="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.webp" alt="图片取自航海王" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MzMiIGhlaWdodD0iMzYyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>图片取自航海王</p><h3 id="逆向工程的其他工具"><span class="me-2">逆向工程的其他工具</span><a href="#逆向工程的其他工具" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>1. <a href="/posts/zrealm-dev/zh-cn/app-https%E4%BC%A0%E8%BE%93%E4%BB%8D%E9%81%AD%E7%AA%83%E5%8F%96-mitmproxy%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%AE%9E%E6%88%98%E6%95%99%E5%AD%A6%E4%B8%8E%E9%98%B2%E8%8C%83%E6%8A%80%E5%B7%A7-46410aaada00/">使用 MITM Proxy 免费工具嗅探 API 网路请求资讯</a></strong></p><p><a href="/assets/7498e1ff93ce/1*qSYBzTz0nW0LoJ4HkiDPfA.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*qSYBzTz0nW0LoJ4HkiDPfA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NzEiIGhlaWdodD0iNjMxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><a href="/posts/zrealm-dev/zh-cn/app-https%E4%BC%A0%E8%BE%93%E4%BB%8D%E9%81%AD%E7%AA%83%E5%8F%96-mitmproxy%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%AE%9E%E6%88%98%E6%95%99%E5%AD%A6%E4%B8%8E%E9%98%B2%E8%8C%83%E6%8A%80%E5%B7%A7-46410aaada00/">&gt;&gt;APP有用HTTPS传输，但资料还是被偷了。</a></p></blockquote><p><strong>2.Cycript (搭配越狱手机) 动态分析/注入工具：</strong></p><ul><li><p>在越狱手机上打开「Cydia」-&gt; 搜寻「Cycript」-&gt;「安装」</p><li><p>在电脑打开一个 Terminal 使用 Open SSH 连线至手机， <code class="language-plaintext highlighter-rouge">ssh root@手机IP</code> (预设是 <code class="language-plaintext highlighter-rouge">alpine</code> )</p><li><p>打开目标 APP (APP 保持在前景)</p><li><p>在 Terminal 输入 <code class="language-plaintext highlighter-rouge">ps -e \\| grep APP Bundle ID</code> 查找正在运行的 APP Process ID</p><li><p>使用 <code class="language-plaintext highlighter-rouge">cycript -p Process ID</code> 注入工具到正在运行的 APP</p></ul><p>可使用 Objective-c/Javascript 进行调试控制。</p><p><a href="/assets/7498e1ff93ce/1*6JRXWaSGNIvqUpKE_tbB1A.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*6JRXWaSGNIvqUpKE_tbB1A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTIzIiBoZWlnaHQ9IjI2NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><strong>For Example:</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>cy# alert = [[UIAlertView alloc] initWithTitle:@"HIHI" message:@"ZhgChg.li" delegate:nil cancelButtonTitle:@"Cancel" otherButtonTitles:nl]
cy# [alert show]
</pre></table></code></div></div><p><a href="/assets/7498e1ff93ce/1*SFB5gBgYGGcAb93VioIUrA.webp" class="popup img-link blur"><img data-src="/assets/7498e1ff93ce/1*SFB5gBgYGGcAb93VioIUrA.webp" alt="注入一个 UIAlertViewController…" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTAiIGhlaWdodD0iMTMzNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>注入一个 UIAlertViewController…</p><ul><li><p><strong>chose( )</strong> : 获取目标</p><li><p><strong>UIApp.keyWindow.recursiveDescription( ) .toString( )</strong> : 显示 view hierarchy 结构资讯</p><li><p><strong>new Instance(记忆体位置):</strong> 获取物件</p><li><p><strong>exit(0)</strong> : 结束</p></ul><p>详细操作可参考 <a href="https://sevencho.github.io/archives/c12f47b1.html" target="_blank">此篇文章</a> 。</p><p><strong>3. <a href="https://lookin.work/" target="_blank">Lookin</a> / <a href="https://revealapp.com/" target="_blank">Reveal</a> 查看 UI 排版工具</strong></p><p>前面介绍过，再推一次；在自己的专案日常开发上也非常好用，建议购买使用 Reveal。</p><p><strong>4. <a href="http://huni.me/2018/08/12/MonkeyDev/" target="_blank">MonkeyDev 集成工具</a> ，可透过动态注入窜改 APP 并重新打包成新的 APP</strong></p><p><strong>5. <a href="https://github.com/ptoomey3" target="_blank">ptoomey3</a> / <a href="https://github.com/ptoomey3/Keychain-Dumper" target="_blank">Keychain-Dumper</a> ，导出 KeyChain 内容</strong></p><p>详细操作请参考 <a href="https://sevencho.github.io/archives/65ed9c65.html" target="_blank">此篇文章</a> ，不过我没试成功，看专案 issue 貌似也是在 iOS ≥ 12 之后就失效了。</p><h3 id="总结"><span class="me-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>这个领域是个超级大坑，需要非常多的技术知识基础才有可能精通；本篇文章只是粗浅了「体验」了一下逆向工程是什么感觉，如有不足敬请见谅！ <strong>仅供学术研究，勿做坏坏的事</strong> ；个人觉得整个流程工具玩下来蛮有趣的，也对 APP 安全更有点概念！</p><p>有任何问题及指教欢迎 <a href="https://www.zhgchg.li/contact" target="_blank">与我联络</a> 。</p><hr /><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=🍺&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a><br /></p><blockquote class="prompt-info"><p>本文首次发表于 Medium (<a href="https://medium.com/p/7498e1ff93ce" target="_blank"><strong>点击查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自动转换与同步技术。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-cn/zmediumtomarkdown/2020-03-28-7498e1ff93ce.md" target="_blank">Improve this page on Github.</a></p></blockquote><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/simplified-chinese/" class="post-tag no-text-decoration" >simplified-chinese</a> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/hacking/" class="post-tag no-text-decoration" >hacking</a> <a href="/tags/jailbreak/" class="post-tag no-text-decoration" >jailbreak</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%20%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5%EF%BD%9C%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96iPA%E6%A1%A3%E3%80%81UI%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fios-%25E9%2580%2586%25E5%2590%2591%25E5%25B7%25A5%25E7%25A8%258B%25E5%2585%25A8%25E6%2594%25BB%25E7%2595%25A5-%25E8%25B6%258A%25E7%258B%25B1%25E6%258F%2590%25E5%258F%2596ipa%25E6%25A1%25A3-ui%25E5%2588%2586%25E6%259E%2590%25E5%2588%25B0%25E5%258F%258D%25E7%25BC%2596%25E8%25AF%2591%25E6%258A%2580%25E6%259C%25AF%25E8%25AF%25A6%25E8%25A7%25A3-7498e1ff93ce%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%20%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5%EF%BD%9C%E8%B6%8A%E7%8B%B1%E6%8F%90%E5%8F%96iPA%E6%A1%A3%E3%80%81UI%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fios-%25E9%2580%2586%25E5%2590%2591%25E5%25B7%25A5%25E7%25A8%258B%25E5%2585%25A8%25E6%2594%25BB%25E7%2595%25A5-%25E8%25B6%258A%25E7%258B%25B1%25E6%258F%2590%25E5%258F%2596ipa%25E6%25A1%25A3-ui%25E5%2588%2586%25E6%259E%2590%25E5%2588%25B0%25E5%258F%258D%25E7%25BC%2596%25E8%25AF%2591%25E6%258A%2580%25E6%259C%25AF%25E8%25AF%25A6%25E8%25A7%25A3-7498e1ff93ce%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fzh-cn%2Fios-%25E9%2580%2586%25E5%2590%2591%25E5%25B7%25A5%25E7%25A8%258B%25E5%2585%25A8%25E6%2594%25BB%25E7%2595%25A5-%25E8%25B6%258A%25E7%258B%25B1%25E6%258F%2590%25E5%258F%2596ipa%25E6%25A1%25A3-ui%25E5%2588%2586%25E6%259E%2590%25E5%2588%25B0%25E5%258F%258D%25E7%25BC%2596%25E8%25AF%2591%25E6%258A%2580%25E6%259C%25AF%25E8%25AF%25A6%25E8%25A7%25A3-7498e1ff93ce%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/en/apple-watch-stainless-steel-milanese-loop-unboxing-premium-44mm-graphite-band-review-c0f99f987d9c/">Apple Watch Stainless Steel Milanese Loop Unboxing｜Premium 44mm Graphite Band Review</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/zh-cn/apple-watch-%E7%B1%B3%E5%85%B0%E8%A1%A8%E5%B8%A6%E5%BC%80%E7%AE%B1-%E5%8E%9F%E5%8E%82%E4%B8%8D%E9%94%88%E9%92%A2%E7%9F%B3%E5%A2%A8%E8%89%B2%E4%BC%98%E7%BC%BA%E7%82%B9%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原厂不锈钢米兰表带开箱</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/apple-watch-%E7%B1%B3%E8%98%AD%E9%8C%B6%E5%B8%B6%E9%96%8B%E7%AE%B1-%E5%8E%9F%E5%BB%A0%E4%B8%8D%E9%8F%BD%E9%8B%BC%E7%9F%B3%E5%A2%A8%E8%89%B2%E5%84%AA%E7%BC%BA%E9%BB%9E%E5%85%A8%E8%A7%A3%E6%9E%90-c0f99f987d9c/">Apple Watch 原廠不鏽鋼米蘭錶帶開箱</a><li class="text-truncate lh-lg"> <a href="/posts/travel-journals/en/busan-travel-guide-8-day-itinerary-with-visit-busan-pass-for-seamless-exploration-8ace34a1a3d8/">Busan Travel Guide｜8-Day Itinerary with VISIT BUSAN PASS for Seamless Exploration</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/zh-cn/%E9%87%9C%E5%B1%B1%E8%87%AA%E7%94%B1%E8%A1%8C%E6%94%BB%E7%95%A5-8%E5%A4%A97%E5%A4%9C%E5%BF%85%E5%8E%BB%E6%99%AF%E7%82%B9-%E7%BE%8E%E9%A3%9F%E4%B8%8E%E4%BA%A4%E9%80%9A%E5%85%A8%E8%A7%A3%E6%9E%90-%E9%87%9C%E5%B1%B1%E9%80%9A%E8%A1%8C%E8%AF%81%E7%9C%81%E9%92%B1%E7%A7%98%E8%AF%80-8ace34a1a3d8/">游记 2025 韩国釜山 8 天 7 夜自由行</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節 (Chapters)🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/zh-cn/ios-14-%E5%89%AA%E8%B4%B4%E7%B0%BF%E9%9A%90%E7%A7%81%E9%97%AE%E9%A2%98-%E6%8F%AD%E9%9C%B2-app-%E8%AF%BB%E5%8F%96%E5%8E%9F%E5%9B%A0%E4%B8%8E%E5%AE%89%E5%85%A8%E9%A3%8E%E9%99%A9%E8%A7%A3%E6%9E%90-8a04443024e2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1593697896" data-df="ll" > Jul 2, 2020 </time><h4 class="pt-0 my-2">iOS 14 剪贴簿窃资恐慌，隐私与便利的两难</h4><div class="text-muted"><p>为何那么多 iOS APP 会读取你的剪贴簿？</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8D%84%E6%8F%90%E5%8F%96ipa%E6%AA%94-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%B7%A8%E8%AD%AF%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-7498e1ff93ce/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1585391080" data-df="ll" > Mar 28, 2020 </time><h4 class="pt-0 my-2">iOS 逆向工程初體驗</h4><div class="text-muted"><p>從越獄、提取iPA檔敲殼到UI分析注入及反編譯的探索過程</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/en/ios-reverse-engineering-jailbreak-ipa-extraction-ui-injection-decompilation-techniques-7498e1ff93ce/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1585391080" data-df="ll" > Mar 28, 2020 </time><h4 class="pt-0 my-2">iOS Reverse Engineering｜Jailbreak, IPA Extraction, UI Injection & Decompilation Techniques</h4><div class="text-muted"><p>Explore the step-by-step process of iOS reverse engineering, from jailbreak and IPA extraction to UI analysis, injection, and decompilation, empowering developers to understand app internals and en...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/en/ios-reverse-engineering-jailbreak-ipa-extraction-ui-injection-decompilation-techniques-7498e1ff93ce/" class="btn btn-outline-primary" aria-label="Older" ><p>iOS Reverse Engineering｜Jailbreak, IPA Extraction, UI Injection & Decompilation Techniques</p></a> <a href="/posts/zrealm-dev/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8D%84%E6%8F%90%E5%8F%96ipa%E6%AA%94-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%B7%A8%E8%AD%AF%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-7498e1ff93ce/" class="btn btn-outline-primary" aria-label="Newer" ><p>iOS 逆向工程初體驗</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <a href="/">中文</a>|<a href="/tags/simplified-chinese">简中</a>|<a href="/tags/english/">English</a></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a> <br/></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/english/">english</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai-translation/">ai-translation</a> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

<!doctype html><html lang="zh-tw" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="zh_tw" /><meta name="description" content="é‡å° iOS/macOS é–‹ç™¼è€…ï¼Œæä¾›ç´” Swift å¯¦ä½œçš„ HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´è‡ªå‹•ä¿®æ­£éŒ¯èª¤æ¨™ç±¤ã€å®¢è£½æ¨£å¼è¨­å®šèˆ‡å¤šç¨® HTML Tagï¼Œæå‡æ¸²æŸ“æ•ˆèƒ½ä¸¦é¿å…é•·å­—ä¸²é–ƒé€€ï¼ŒåŠ©ä½ æ‰“é€ æµæš¢åˆç©©å®šçš„æ–‡å­—é¡¯ç¤ºæ•ˆæœã€‚" /><meta property="og:description" content="é‡å° iOS/macOS é–‹ç™¼è€…ï¼Œæä¾›ç´” Swift å¯¦ä½œçš„ HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´è‡ªå‹•ä¿®æ­£éŒ¯èª¤æ¨™ç±¤ã€å®¢è£½æ¨£å¼è¨­å®šèˆ‡å¤šç¨® HTML Tagï¼Œæå‡æ¸²æŸ“æ•ˆèƒ½ä¸¦é¿å…é•·å­—ä¸²é–ƒé€€ï¼ŒåŠ©ä½ æ‰“é€ æµæš¢åˆç©©å®šçš„æ–‡å­—é¡¯ç¤ºæ•ˆæœã€‚" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-26T17:03:07+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp" /><meta property="twitter:title" content="ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2023-08-06T00:16:21+08:00","datePublished":"2023-02-26T17:03:07+08:00","description":"é‡å° iOS/macOS é–‹ç™¼è€…ï¼Œæä¾›ç´” Swift å¯¦ä½œçš„ HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´è‡ªå‹•ä¿®æ­£éŒ¯èª¤æ¨™ç±¤ã€å®¢è£½æ¨£å¼è¨­å®šèˆ‡å¤šç¨® HTML Tagï¼Œæå‡æ¸²æŸ“æ•ˆèƒ½ä¸¦é¿å…é•·å­—ä¸²é–ƒé€€ï¼ŒåŠ©ä½ æ‰“é€ æµæš¢åˆç©©å®šçš„æ–‡å­—é¡¯ç¤ºæ•ˆæœã€‚","headline":"ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/"},"url":"https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/"}</script><title>ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“ | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/zmarkupparser-convert-html-string-to-nsattributedstring-with-custom-style-keys-a5643de271e4/"><link rel="alternate" hreflang="ja" href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/zmarkupparser-html-string%E3%82%92nsattributedstring%E3%81%AB%E9%AB%98%E9%80%9F%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB-%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E8%A8%AD%E5%AE%9A%E5%AF%BE%E5%BF%9C-a5643de271e4/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%AC-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E5%88%B6%E6%A0%B7%E5%BC%8F%E4%B8%8E%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/"><link rel="alternate" hreflang="x-default" href="https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"å¦‚ä½•ç”¨ç´” Swift å°‡ HTML String è½‰æ›æˆå¯è‡ªè¨‚æ¨£å¼çš„ NSAttributedStringï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ä½¿ç”¨ ZMarkupParser å¯é€é Regex è§£æ HTML Tagï¼Œè‡ªå‹•ä¿®æ­£æ¨™ç±¤éŒ¯èª¤ä¸¦è½‰æˆæŠ½è±¡èªæ³•æ¨¹ï¼Œæ­é… Visitor Pattern å°æ‡‰æ¨£å¼ï¼Œç„¡éœ€ä¾è³´ç¬¬ä¸‰æ–¹è§£æåº«ï¼Œé”æˆé«˜æ•ˆä¸”å¯è‡ªè¨‚æ¨£å¼çš„ NSAttributedString è½‰æ›ã€‚"}},{"@type":"Question","name":"å¦‚ä½•åœ¨ ZMarkupParser ä¸­æ“´å……è‡ªè¨‚ HTML Tag èˆ‡æ¨£å¼ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"å¯é€é ExtendTagName æ–°å¢è‡ªè¨‚ HTML Tagï¼Œä¸¦æ­é…è‡ªè¨‚ MarkupStyle æŒ‡å®šæ¨£å¼ï¼Œè®“è§£æå™¨èƒ½è­˜åˆ¥ä¸¦æ¸²æŸ“è‡ªè¨‚æ¨™ç±¤ï¼Œæ–¹ä¾¿æ“´å……ç‰¹æ®Šéœ€æ±‚çš„ HTML æ¨£å¼ã€‚"}},{"@type":"Question","name":"ZMarkupParser å¦‚ä½•è™•ç†ä¸å®Œæ•´æˆ–éŒ¯ä½çš„ HTML æ¨™ç±¤ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ZMarkupParser æœƒè‡ªå‹•åˆ†æä¸¦ä¿®æ­£ç¼ºå°‘çµå°¾æ¨™ç±¤æˆ–éŒ¯ä½æ¨™ç±¤ï¼Œå°‡ä¸æ­£ç¢ºçš„ HTML çµæ§‹èª¿æ•´ç‚ºæ­£ç¢ºèªæ³•ï¼Œé¿å…è§£æéŒ¯èª¤ä¸¦ç¢ºä¿ NSAttributedString æ­£ç¢ºé¡¯ç¤ºã€‚"}},{"@type":"Question","name":"ZMarkupParser ç›¸è¼ƒæ–¼ NSAttributedString.DocumentType.html æœ‰å“ªäº›æ•ˆèƒ½å„ªå‹¢ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ZMarkupParser åœ¨ macOS M2 ç’°å¢ƒä¸‹å°é•·å­—ä¸²æ¸²æŸ“é€Ÿåº¦é å„ªæ–¼ NSAttributedString.DocumentType.htmlï¼Œä¸”å¾Œè€…åœ¨è¶…éç´„ 54,600 å­—å…ƒæ™‚æœƒé–ƒé€€ï¼ŒZMarkupParser å‰‡èƒ½ç©©å®šè™•ç†ä¸¦æ”¯æ´æ›´é•·çš„ HTML å­—ä¸²ã€‚"}},{"@type":"Question","name":"å¦‚ä½•åˆ©ç”¨ ZMarkupParser æ”¯æ´å¾ HTML style attribute æŒ‡å®šçš„æ–‡å­—æ¨£å¼ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ZMarkupParser å…§å»ºè§£æå¤šç¨® style attributeï¼ˆå¦‚ colorã€font-sizeã€font-weightï¼‰ï¼Œä¸¦å¯è‡ªè¡Œæ“´å……è§£æé‚è¼¯ï¼Œè®“ HTML ä¸­ style å±¬æ€§èƒ½ç›´æ¥è½‰æ›æˆå°æ‡‰çš„ NSAttributedString æ¨£å¼ã€‚"}}]} </script><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan ğŸ‡¹ğŸ‡¼ who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item" style="padding:0 15px 0 15px;"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background:#EDF4FF;color:#0A84FF;font-size:15px;transition:background-color .2s,color .2s;" onmouseover="this.style.backgroundColor='#0A84FF';this.style.color='#ffffff';" onmouseout="this.style.backgroundColor='#EDF4FF';this.style.color='#0A84FF';"> <i class="fa-brands fa-medium"></i> <span><span style="font-size: 18px; font-weight: boild;">Follow Me on Medium!</span><br/><u>1,053+</u> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>é¦–é </span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>åˆ†é¡</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>æ¨™ç±¤</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>æ­¸æª”</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>é—œæ–¼æˆ‘</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>è¯çµ¡æˆ‘</span> </a><li class="nav-item"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;"> <a href="https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #666;background:#111;color:#fff;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> æ­£é«”ä¸­æ–‡ </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%AC-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E5%88%B6%E6%A0%B7%E5%BC%8F%E4%B8%8E%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> ç®€ä½“ä¸­æ–‡ </a></div><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;margin-top:5px;"> <a href="https://en.zhgchg.li/posts/zrealm-dev/zmarkupparser-convert-html-string-to-nsattributedstring-with-custom-style-keys-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/zmarkupparser-html-string%E3%82%92nsattributedstring%E3%81%AB%E9%AB%98%E9%80%9F%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB-%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E8%A8%AD%E5%AE%9A%E5%AF%BE%E5%BF%9C-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> æ—¥æœ¬èª </a></div></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">é¦–é </a> </span> <span>ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> æ–‡ç« </div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="æœå°‹..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">å–æ¶ˆ</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“</h1><p class="post-desc fw-light mb-4">é‡å° iOS/macOS é–‹ç™¼è€…ï¼Œæä¾›ç´” Swift å¯¦ä½œçš„ HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´è‡ªå‹•ä¿®æ­£éŒ¯èª¤æ¨™ç±¤ã€å®¢è£½æ¨£å¼è¨­å®šèˆ‡å¤šç¨® HTML Tagï¼Œæå‡æ¸²æŸ“æ•ˆèƒ½ä¸¦é¿å…é•·å­—ä¸²é–ƒé€€ï¼ŒåŠ©ä½ æ‰“é€ æµæš¢åˆç©©å®šçš„æ–‡å­—é¡¯ç¤ºæ•ˆæœã€‚</p><div class="post-meta text-muted"> <span> ç™¼ä½ˆæ–¼ <time data-ts="1677402187" data-df="YYYY å¹´ M æœˆ D æ—¥" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2023 å¹´ 02 æœˆ 26 æ—¥ </time> </span> <span> æ›´æ–°æ–¼ <time data-ts="1691252181" data-df="YYYY å¹´ M æœˆ D æ—¥" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2023 å¹´ 08 æœˆ 05 æ—¥ </time> </span><div class="mt-3 mb-3"> <a href="/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp" class="popup img-link preview-img blur"><img data-src="/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> ä½œè€… <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1297 å­—" > <em>7 åˆ†é˜</em>é–±è®€</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">ç« ç¯€ç›®éŒ„ ğŸ”–</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">ZMarkupParserï½œSwift HTML String è½‰ NSAttributedString å·¥å…·ï¼Œæ”¯æ´å®¢è£½æ¨£å¼èˆ‡é«˜æ•ˆèƒ½æ¸²æŸ“</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;"><div aria-label="Views" style="display:inline-flex;align-items:center;gap:6px;font-size:.85rem;"> <span style="display:inline-flex;align-items:center;justify-content:center;"> ç€è¦½æ¬¡æ•¸: <span style="margin-left:4px;" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="æœ€å¾Œæ›´æ–°æ™‚é–“: 2026-01-17 15:13:41 +08:00"><u>1,186+</u></span> </span></div><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px;flex-wrap:wrap;"> <a href="https://zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%89-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #dc3545;background:#dc3545;color:#fff !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> æ­£é«”ä¸­æ–‡ </a> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/zmarkupparser-swift-html-string-%E8%BD%AC-nsattributedstring-%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8F%B4%E5%AE%A2%E5%88%B6%E6%A0%B7%E5%BC%8F%E4%B8%8E%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> ç®€ä½“ä¸­æ–‡ </a> <a href="https://en.zhgchg.li/posts/zrealm-dev/zmarkupparser-convert-html-string-to-nsattributedstring-with-custom-style-keys-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/zmarkupparser-html-string%E3%82%92nsattributedstring%E3%81%AB%E9%AB%98%E9%80%9F%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB-%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E8%A8%AD%E5%AE%9A%E5%AF%BE%E5%BF%9C-a5643de271e4/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> æ—¥æœ¬èª </a></div></div><blockquote class="prompt-info"><p>åŸºæ–¼ SEO è€ƒé‡ï¼Œæœ¬æ–‡æ¨™é¡Œèˆ‡æè¿°ç¶“ AI èª¿æ•´ï¼ŒåŸå§‹ç‰ˆæœ¬è«‹åƒè€ƒå…§æ–‡ã€‚</p></blockquote><h4 id="zhgchgli-table-of-contents">æ–‡ç« ç›®éŒ„</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li class="has-children"><details><summary>ZMarkupParser HTML String è½‰æ› NSAttributedString å·¥å…· <a href="#zmarkupparser-html-string-è½‰æ›-nsattributedstring-å·¥å…·">#</a></summary><ul><li><a href="#zhgchgli--zmarkupparser">ZhgChgLi / ZMarkupParser</a></li><li><a href="#åŠŸèƒ½">åŠŸèƒ½</a></li><li><a href="#æ•ˆèƒ½åˆ†æ">æ•ˆèƒ½åˆ†æ</a></li><li><a href="#è©¦ç©">è©¦ç©</a></li><li><a href="#å®‰è£">å®‰è£</a></li></ul></details></li><li class="has-children"><details><summary>ä½¿ç”¨æ–¹å¼ <a href="#ä½¿ç”¨æ–¹å¼">#</a></summary><ul><li><a href="#æ¨£å¼å®£å‘Š">æ¨£å¼å®£å‘Š</a></li><li><a href="#html-tag">HTML Tag</a></li><li><a href="#html-style-attribute">HTML Style Attribute</a></li></ul></details></li><li class="has-children"><details><summary>ä½¿ç”¨ <a href="#ä½¿ç”¨">#</a></summary><ul><li><a href="#å®¢è£½åŒ–">å®¢è£½åŒ–</a></li><li><a href="#html-render">HTML Render</a></li><li><a href="#html-stripper">HTML Stripper</a></li><li><a href="#selector-html-string">Selector HTML String</a></li><li><a href="#async">Async</a></li></ul></details></li><li class="has-children"><details><summary>Know-how <a href="#know-how">#</a></summary><ul><li><a href="#æŠ€è¡“åŸç†åŠé–‹ç™¼æ•…äº‹-æ‰‹å·¥æ‰“é€ -html-è§£æå™¨çš„é‚£äº›äº‹-">æŠ€è¡“åŸç†åŠé–‹ç™¼æ•…äº‹ï¼šã€Œ æ‰‹å·¥æ‰“é€  HTML è§£æå™¨çš„é‚£äº›äº‹ ã€</a></li></ul></details></li><li><a href="#æ­¡è¿è²¢ç»åŠæå‡º-issue-å°‡ç›¡å¿«ä¿®æ­£">æ­¡è¿è²¢ç»åŠæå‡º Issue å°‡ç›¡å¿«ä¿®æ­£</a></li></ul></nav><hr /><h3 id="zmarkupparser-html-string-è½‰æ›-nsattributedstring-å·¥å…·"><span class="me-2">ZMarkupParser HTML String è½‰æ› NSAttributedString å·¥å…·</span><a href="#zmarkupparser-html-string-è½‰æ›-nsattributedstring-å·¥å…·" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>è½‰æ› HTML String æˆ NSAttributedString å°æ‡‰ Key æ¨£å¼è¨­å®š</p><h4 id="zhgchgli--zmarkupparser"><span class="me-2"><a href="https://github.com/ZhgChgLi" target="_blank">ZhgChgLi</a> / <a href="https://github.com/ZhgChgLi/ZMarkupParser" target="_blank">ZMarkupParser</a></span><a href="#zhgchgli--zmarkupparser" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp" class="popup img-link blur"><img data-src="/assets/a5643de271e4/1*A0yXupXW9-F9ZWe4gp2ObA.webp" alt="[ZhgChgLi](https://github.com/ZhgChgLi){:target=&quot;_blank&quot;} [ZMarkupParser](https://github.com/ZhgChgLi/ZMarkupParser){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgwIiBoZWlnaHQ9IjY0MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://github.com/ZhgChgLi" target="_blank">ZhgChgLi</a> / <a href="https://github.com/ZhgChgLi/ZMarkupParser" target="_blank">ZMarkupParser</a></p><p><a href="https://github.com/ZhgChgLi/ZMarkupParser" target="_blank" class="img-link shimmer" ><img src="https://repository-images.githubusercontent.com/602927147/57ce75c1-8548-449c-b44a-f4b0451ed5ea" alt="" loading="lazy"></a></p><h4 id="åŠŸèƒ½"><span class="me-2">åŠŸèƒ½</span><a href="#åŠŸèƒ½" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>ä½¿ç”¨ç´” Swift é–‹ç™¼ï¼Œé€é Regex å‰–æå‡º HTML Tag ä¸¦ç¶“é Tokenizationï¼Œåˆ†æä¿®æ­£ Tag æ­£ç¢ºæ€§(ä¿®æ­£æ²’æœ‰ end çš„ tag &amp; éŒ¯ä½ tag)ï¼Œå†è½‰æ›æˆ abstract syntax treeï¼Œæœ€çµ‚ä½¿ç”¨ Visitor Pattern å°‡ HTML Tag èˆ‡æŠ½è±¡æ¨£å¼å°æ‡‰ï¼Œå¾—åˆ°æœ€çµ‚ NSAttributedString çµæœï¼›å…¶ä¸­ä¸ä¾è³´ä»»ä½• Parser Libã€‚<li>æ”¯æ´ HTML Render (to NSAttributedString) / Stripper (å‰é›¢ HTML Tag) / Selector åŠŸèƒ½<li>è‡ªå‹•åˆ†æä¿®æ­£ Tag æ­£ç¢ºæ€§(ä¿®æ­£æ²’æœ‰ end çš„ tag &amp; éŒ¯ä½ tag) <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> -&gt; <code class="language-plaintext highlighter-rouge">&lt;br/&gt;</code> <code class="language-plaintext highlighter-rouge">&lt;b&gt;Bold&lt;i&gt;Bold+Italic&lt;/b&gt;Italic&lt;/i&gt;</code> -&gt; <code class="language-plaintext highlighter-rouge">&lt;b&gt;Bold&lt;i&gt;Bold+Italic&lt;/i&gt;&lt;/b&gt;&lt;i&gt;Italic&lt;/i&gt;</code> <code class="language-plaintext highlighter-rouge">&lt;Congratulation!&gt;</code> -&gt; <code class="language-plaintext highlighter-rouge">&lt;Congratulation!&gt;</code> (treat as String)<li>æ”¯æ´å®¢è£½åŒ–æ¨£å¼æŒ‡å®š e.g. <code class="language-plaintext highlighter-rouge">&lt;b&gt;&lt;/b&gt;</code> -&gt; <code class="language-plaintext highlighter-rouge">weight: .semilbold &amp; underline: 1</code><li>æ”¯æ´è‡ªè¡Œæ“´å…… HTML Tag è§£æ e.g. è§£æ <code class="language-plaintext highlighter-rouge">&lt;zhgchgli&gt;&lt;/zhgchgli&gt;</code> æˆæƒ³è¦çš„æ¨£å¼<li>åŒ…å«æ¶æ§‹è¨­è¨ˆï¼Œæ–¹ä¾¿å° HTML Tag é€²è¡Œæ“´å…… ç›®å‰ç´”äº†æ”¯æ´åŸºæœ¬çš„æ¨£å¼ä¹‹å¤–é‚„æ”¯æ´ ul/ol/li åˆ—è¡¨åŠ hr åˆ†éš”ç·šæ¸²æŸ“ï¼Œæœªä¾†è¦æ“´å……æ”¯æ´å…¶ä»– HTML Tag ä¹Ÿèƒ½å¿«é€Ÿæ”¯æ´<li>æ”¯æ´å¾ <code class="language-plaintext highlighter-rouge">style</code> HTML Attribute æ“´å……è§£ææ¨£å¼ HTML å¯ä»¥å¾ style æŒ‡å®šæ–‡å­—æ¨£å¼ï¼ŒåŒæ¨£çš„ï¼Œæ­¤å¥—ä»¶ä¹Ÿèƒ½æ”¯æ´å¾ <code class="language-plaintext highlighter-rouge">style</code> ä¸­æŒ‡å®šæ¨£å¼ e.g. <code class="language-plaintext highlighter-rouge">&lt;b style=â€font-size: 20pxâ€&gt;&lt;/b&gt;</code> -&gt; <code class="language-plaintext highlighter-rouge">ç²—é«”+å­—å‹ 20 px</code><li>æ”¯æ´ iOS/macOS<li>æ”¯æ´ HTML Color Name to UIColor/NSColor<li>Test Coverage: 80%+<li>æ”¯æ´ <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> åœ–ç‰‡ã€ <code class="language-plaintext highlighter-rouge">&lt;ul&gt;</code> é …ç›®æ¸…å–®ã€ <code class="language-plaintext highlighter-rouge">&lt;table&gt;</code> è¡¨æ ¼â€¦ç­‰ç­‰ HTMLTag è§£æ<li>æ¯” <code class="language-plaintext highlighter-rouge">NSAttributedString.DocumentType.html</code> æ›´é«˜çš„æ•ˆèƒ½</ul><h4 id="æ•ˆèƒ½åˆ†æ"><span class="me-2">æ•ˆèƒ½åˆ†æ</span><a href="#æ•ˆèƒ½åˆ†æ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/a5643de271e4/1*UPkmp2XsUjlVe_TmOur_3A.webp" class="popup img-link blur"><img data-src="/assets/a5643de271e4/1*UPkmp2XsUjlVe_TmOur_3A.webp" alt="[Performance Benchmark](https://quickchart.io/chart-maker/view/zm-73887470-e667-4ca3-8df0-fe3563832b0b){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjYwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://quickchart.io/chart-maker/view/zm-73887470-e667-4ca3-8df0-fe3563832b0b" target="_blank">Performance Benchmark</a></p><ul><li>æ¸¬è©¦ç’°å¢ƒï¼š2022/M2/24GB Memory/macOS 13.2/XCode 14.1<li>X è»¸ï¼šHTML å­—æ•¸<li>Y è»¸ï¼šæ¸²æŸ“æ‰€èŠ±æ™‚é–“(ç§’)</ul><p>*å¦å¤– <code class="language-plaintext highlighter-rouge">NSAttributedString.DocumentType.html</code> è¶…é 54,600+ é•·åº¦å­—ä¸²å°±æœƒé–ƒé€€ (EXC_BAD_ACCESS)ã€‚</p><h4 id="è©¦ç©"><span class="me-2">è©¦ç©</span><a href="#è©¦ç©" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/a5643de271e4/1*PzYcnSkW7qKeJBkaiNTKjQ.gif" class="popup img-link blur"><img data-src="/assets/a5643de271e4/1*PzYcnSkW7qKeJBkaiNTKjQ.gif" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOTUiIGhlaWdodD0iNjQwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>å¯ç›´æ¥ä¸‹è¼‰å°ˆæ¡ˆæ‰“é–‹ <code class="language-plaintext highlighter-rouge">ZMarkupParser.xcworkspace</code> é¸æ“‡ <code class="language-plaintext highlighter-rouge">ZMarkupParser-Demo</code> Target Build &amp; Run ç›´æ¥æ¸¬è©¦æ•ˆæœã€‚</p><h4 id="å®‰è£"><span class="me-2">å®‰è£</span><a href="#å®‰è£" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>æ”¯æ´ SPM/Cocoapods ï¼Œè«‹åƒè€ƒ <a href="https://github.com/ZhgChgLi/ZMarkupParser#installation" target="_blank">Readme</a> ã€‚</p><h3 id="ä½¿ç”¨æ–¹å¼"><span class="me-2">ä½¿ç”¨æ–¹å¼</span><a href="#ä½¿ç”¨æ–¹å¼" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="æ¨£å¼å®£å‘Š"><span class="me-2">æ¨£å¼å®£å‘Š</span><a href="#æ¨£å¼å®£å‘Š" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>MarkupStyle/MarkupStyleColor/MarkupStyleParagraphStyleï¼Œå°æ‡‰ NSAttributedString.Key çš„å°è£ã€‚</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="k">var</span> <span class="nv">font</span><span class="p">:</span><span class="kt">MarkupStyleFont</span>
<span class="k">var</span> <span class="nv">paragraphStyle</span><span class="p">:</span><span class="kt">MarkupStyleParagraphStyle</span>
<span class="k">var</span> <span class="nv">foregroundColor</span><span class="p">:</span><span class="kt">MarkupStyleColor</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">backgroundColor</span><span class="p">:</span><span class="kt">MarkupStyleColor</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">ligature</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">kern</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">tracking</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">strikethroughStyle</span><span class="p">:</span><span class="kt">NSUnderlineStyle</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">underlineStyle</span><span class="p">:</span><span class="kt">NSUnderlineStyle</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">strokeColor</span><span class="p">:</span><span class="kt">MarkupStyleColor</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">strokeWidth</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">shadow</span><span class="p">:</span><span class="kt">NSShadow</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">textEffect</span><span class="p">:</span><span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">attachment</span><span class="p">:</span><span class="kt">NSTextAttachment</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">link</span><span class="p">:</span><span class="kt">URL</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">baselineOffset</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">underlineColor</span><span class="p">:</span><span class="kt">MarkupStyleColor</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">strikethroughColor</span><span class="p">:</span><span class="kt">MarkupStyleColor</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">obliqueness</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">expansion</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">writingDirection</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">var</span> <span class="nv">verticalGlyphForm</span><span class="p">:</span><span class="kt">NSNumber</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="o">...</span>
</pre></table></code></div></div><p>å¯ä¾ç…§è‡ªå·±æƒ³å¥—ç”¨åˆ° HTML Tag ä¸Šå°æ‡‰çš„æ¨£å¼è‡ªè¡Œå®£å‘Šï¼š</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">myStyle</span> <span class="o">=</span> <span class="kt">MarkupStyle</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span> <span class="kt">MarkupStyleFont</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="mi">13</span><span class="p">),</span> <span class="nv">backgroundColor</span><span class="p">:</span> <span class="kt">MarkupStyleColor</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">aquamarine</span><span class="p">))</span>
</pre></table></code></div></div><h4 id="html-tag"><span class="me-2">HTML Tag</span><a href="#html-tag" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å®£å‘Šè¦æ¸²æŸ“çš„ HTML Tag èˆ‡å°æ‡‰çš„ Markup Styleï¼Œç›®å‰é å®šç¾©çš„ HTML Tag Name å¦‚ä¸‹ï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>A_HTMLTagName(), // &lt;a&gt;&lt;/a&gt;
B_HTMLTagName(), // &lt;b&gt;&lt;/b&gt;
BR_HTMLTagName(), // &lt;br&gt;&lt;/br&gt;
DIV_HTMLTagName(), // &lt;div&gt;&lt;/div&gt;
HR_HTMLTagName(), // &lt;hr&gt;&lt;/hr&gt;
I_HTMLTagName(), // &lt;i&gt;&lt;/i&gt;
LI_HTMLTagName(), // &lt;li&gt;&lt;/li&gt;
OL_HTMLTagName(), // &lt;ol&gt;&lt;/ol&gt;
P_HTMLTagName(), // &lt;p&gt;&lt;/p&gt;
SPAN_HTMLTagName(), // &lt;span&gt;&lt;/span&gt;
STRONG_HTMLTagName(), // &lt;strong&gt;&lt;/strong&gt;
U_HTMLTagName(), // &lt;u&gt;&lt;/u&gt;
UL_HTMLTagName(), // &lt;ul&gt;&lt;/ul&gt;
DEL_HTMLTagName(), // &lt;del&gt;&lt;/del&gt;
IMG_HTMLTagName(handler: ZNSTextAttachmentHandler), // &lt;img&gt; and image downloader
TR_HTMLTagName(), // &lt;tr&gt;
TD_HTMLTagName(), // &lt;td&gt;
TH_HTMLTagName(), // &lt;th&gt;
...and more
...
</pre></table></code></div></div><p>é€™æ¨£è§£æ <code class="language-plaintext highlighter-rouge">&lt;a&gt;</code> Tag æ™‚å°±æœƒå¥—ç”¨åˆ°æŒ‡å®šçš„ MarkupStyleã€‚</p><p>æ“´å…… HTMLTagNameï¼š</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">zhgchgli</span> <span class="o">=</span> <span class="kt">ExtendTagName</span><span class="p">(</span><span class="s">"zhgchgli"</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="html-style-attribute"><span class="me-2">HTML Style Attribute</span><a href="#html-style-attribute" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å¦‚åŒå‰è¿°ï¼ŒHTML æ”¯æ´å¾ Style Attribute æŒ‡å®šæ¨£å¼ï¼Œé€™é‚Šä¹ŸæŠ½è±¡å‡ºä¾†å¯æŒ‡å®šæ”¯æ´çš„æ¨£å¼è·Ÿæ“´å……ï¼Œç›®å‰é å®šç¾©çš„ HTML Style Attribute å¦‚ä¸‹ï¼š</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kt">ColorHTMLTagStyleAttribute</span><span class="p">(),</span> <span class="c1">// color</span>
<span class="kt">BackgroundColorHTMLTagStyleAttribute</span><span class="p">(),</span> <span class="c1">// background-color</span>
<span class="kt">FontSizeHTMLTagStyleAttribute</span><span class="p">(),</span> <span class="c1">// font-size</span>
<span class="kt">FontWeightHTMLTagStyleAttribute</span><span class="p">(),</span> <span class="c1">// font-weight</span>
<span class="kt">LineHeightHTMLTagStyleAttribute</span><span class="p">(),</span> <span class="c1">// line-height</span>
<span class="kt">WordSpacingHTMLTagStyleAttribute</span><span class="p">(),</span> <span class="c1">// word-spacing</span>
<span class="o">...</span>
</pre></table></code></div></div><p>æ“´å…… Style Attribute:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kt">ExtendHTMLTagStyleAttribute</span><span class="p">(</span><span class="nv">styleName</span><span class="p">:</span> <span class="s">"text-decoration"</span><span class="p">,</span> <span class="nv">render</span><span class="p">:</span> <span class="p">{</span> <span class="n">value</span> <span class="k">in</span>
  <span class="k">var</span> <span class="nv">newStyle</span> <span class="o">=</span> <span class="kt">MarkupStyle</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s">"underline"</span> <span class="p">{</span>
    <span class="n">newStyle</span><span class="o">.</span><span class="n">underline</span> <span class="o">=</span> <span class="kt">NSUnderlineStyle</span><span class="o">.</span><span class="n">single</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// ...  </span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">newStyle</span>
<span class="p">})</span>
</pre></table></code></div></div><h3 id="ä½¿ç”¨"><span class="me-2">ä½¿ç”¨</span><a href="#ä½¿ç”¨" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">ZMarkupParser</span>

<span class="k">let</span> <span class="nv">parser</span> <span class="o">=</span> <span class="kt">ZHTMLParserBuilder</span><span class="o">.</span><span class="nf">initWithDefault</span><span class="p">()</span><span class="o">.</span><span class="nf">set</span><span class="p">(</span><span class="nv">rootStyle</span><span class="p">:</span> <span class="kt">MarkupStyle</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span> <span class="kt">MarkupStyleFont</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="mi">13</span><span class="p">))</span><span class="o">.</span><span class="nf">build</span><span class="p">()</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">initWithDefault</code> æœƒè‡ªå‹•åŠ å…¥é å…ˆå®šç¾©çš„ HTML Tag Name &amp; é è¨­å°æ‡‰çš„ MarkupStyle é‚„æœ‰é å…ˆå®šç¾©çš„ Style Attributeã€‚</p><p><code class="language-plaintext highlighter-rouge">set(rootStyle:)</code> å¯æŒ‡å®šæ•´å€‹å­—ä¸²çš„é è¨­æ¨£å¼ï¼Œä¹Ÿå¯ä¸æŒ‡å®šã€‚</p><h4 id="å®¢è£½åŒ–"><span class="me-2">å®¢è£½åŒ–</span><a href="#å®¢è£½åŒ–" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">parser</span> <span class="o">=</span> <span class="kt">ZHTMLParserBuilder</span><span class="o">.</span><span class="nf">initWithDefault</span><span class="p">()</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="kt">ExtendTagName</span><span class="p">(</span><span class="s">"zhgchgli"</span><span class="p">),</span> <span class="nv">withCustomStyle</span><span class="p">:</span> <span class="kt">MarkupStyle</span><span class="p">(</span><span class="nv">backgroundColor</span><span class="p">:</span> <span class="kt">MarkupStyleColor</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">aquamarine</span><span class="p">)))</span><span class="o">.</span><span class="nf">build</span><span class="p">()</span> <span class="c1">// will use markupstyle you specify to render extend html tag &lt;zhgchgli&gt;&lt;/zhgchgli&gt;</span>
<span class="k">let</span> <span class="nv">parser</span> <span class="o">=</span> <span class="kt">ZHTMLParserBuilder</span><span class="o">.</span><span class="nf">initWithDefault</span><span class="p">()</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="kt">B_HTMLTagName</span><span class="p">(),</span> <span class="nv">withCustomStyle</span><span class="p">:</span> <span class="kt">MarkupStyle</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span> <span class="kt">MarkupStyleFont</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="nf">style</span><span class="p">(</span><span class="o">.</span><span class="n">semibold</span><span class="p">))))</span><span class="o">.</span><span class="nf">build</span><span class="p">()</span> <span class="c1">// will use markupstyle you specify to render &lt;b&gt;&lt;/b&gt; instead of default bold markup style</span>
</pre></table></code></div></div><h4 id="html-render"><span class="me-2">HTML Render</span><a href="#html-render" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">attributedString</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="n">htmlString</span><span class="p">)</span> <span class="c1">// NSAttributedString</span>

<span class="c1">// work with UITextView</span>
<span class="n">textView</span><span class="o">.</span><span class="nf">setHtmlString</span><span class="p">(</span><span class="n">htmlString</span><span class="p">)</span>
<span class="c1">// work with UILabel</span>
<span class="n">label</span><span class="o">.</span><span class="nf">setHtmlString</span><span class="p">(</span><span class="n">htmlString</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="html-stripper"><span class="me-2">HTML Stripper</span><a href="#html-stripper" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">parser</span><span class="o">.</span><span class="nf">stripper</span><span class="p">(</span><span class="n">htmlString</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="selector-html-string"><span class="me-2">Selector HTML String</span><a href="#selector-html-string" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">selector</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="nf">selector</span><span class="p">(</span><span class="n">htmlString</span><span class="p">)</span> <span class="c1">// HTMLSelector e.g. input: &lt;a&gt;&lt;b&gt;Test&lt;/b&gt;Link&lt;/a&gt;</span>
<span class="n">selector</span><span class="o">.</span><span class="nf">first</span><span class="p">(</span><span class="s">"a"</span><span class="p">)?</span><span class="o">.</span><span class="nf">first</span><span class="p">(</span><span class="s">"b"</span><span class="p">)</span><span class="o">.</span><span class="n">attributedString</span> <span class="c1">// will return Test</span>
<span class="n">selector</span><span class="o">.</span><span class="nf">filter</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span><span class="o">.</span><span class="n">attributedString</span> <span class="c1">// will return Test Link</span>

<span class="c1">// render from selector result</span>
<span class="k">let</span> <span class="nv">selector</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="nf">selector</span><span class="p">(</span><span class="n">htmlString</span><span class="p">)</span> <span class="c1">// HTMLSelector e.g. input: &lt;a&gt;&lt;b&gt;Test&lt;/b&gt;Link&lt;/a&gt;</span>
<span class="n">parser</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="n">selector</span><span class="o">.</span><span class="nf">first</span><span class="p">(</span><span class="s">"a"</span><span class="p">)?</span><span class="o">.</span><span class="nf">first</span><span class="p">(</span><span class="s">"b"</span><span class="p">))</span>
</pre></table></code></div></div><h4 id="async"><span class="me-2">Async</span><a href="#async" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å¦å¤–å¦‚æœè¦æ¸²æŸ“é•·å­—ä¸²ï¼Œå¯æ”¹ç”¨ async æ–¹æ³•ï¼Œé˜²æ­¢å¡ UIã€‚</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²è¤‡è£½ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">parser</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">}</span><span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="nf">stripper</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">}</span><span class="o">...</span>
<span class="n">parser</span><span class="o">.</span><span class="nf">selector</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">}</span><span class="o">...</span>
</pre></table></code></div></div><h3 id="know-how"><span class="me-2">Know-how</span><a href="#know-how" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>UITextView ä¸­çš„è¶…é€£çµæ¨£å¼æ˜¯çœ‹ linkTextAttributesï¼Œæ‰€ä»¥æœƒå‡ºç¾ NSAttributedString.key æ˜æ˜æœ‰è¨­å®šä½†å»æ²’å‡ºç¾æ•ˆæœçš„æƒ…æ³ã€‚<li>UILabel ä¸æ”¯æ´æŒ‡å®š URL æ¨£å¼ï¼Œæ‰€ä»¥æœƒå‡ºç¾ NSAttributedString.key æ˜æ˜æœ‰è¨­å®šä½†å»æ²’å‡ºç¾æ•ˆæœçš„æƒ…æ³ã€‚<li>å¦‚æœè¦æ¸²æŸ“è¤‡é›œçš„ HTMLï¼Œé‚„æ˜¯éœ€è¦ä½¿ç”¨ WKWebView (åŒ…å« JS/è¡¨æ ¼. .æ¸²æŸ“)ã€‚</ul><h4 id="æŠ€è¡“åŸç†åŠé–‹ç™¼æ•…äº‹-æ‰‹å·¥æ‰“é€ -html-è§£æå™¨çš„é‚£äº›äº‹-"><span class="me-2">æŠ€è¡“åŸç†åŠé–‹ç™¼æ•…äº‹ï¼šã€Œ <a href="https://zhgchg.li/posts/zrealm-dev/%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88-html-%E8%A7%A3%E6%9E%90%E5%99%A8-swift-%E8%BD%89%E6%8F%9B-html-%E5%AD%97%E4%B8%B2%E6%88%90-nsattributedstring-%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-2724f02f6e7/">æ‰‹å·¥æ‰“é€  HTML è§£æå™¨çš„é‚£äº›äº‹</a> ã€</span><a href="#æŠ€è¡“åŸç†åŠé–‹ç™¼æ•…äº‹-æ‰‹å·¥æ‰“é€ -html-è§£æå™¨çš„é‚£äº›äº‹-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h3 id="æ­¡è¿è²¢ç»åŠæå‡º-issue-å°‡ç›¡å¿«ä¿®æ­£"><span class="me-2">æ­¡è¿è²¢ç»åŠæå‡º Issue å°‡ç›¡å¿«ä¿®æ­£</span><a href="#æ­¡è¿è²¢ç»åŠæå‡º-issue-å°‡ç›¡å¿«ä¿®æ­£" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://github.com/ZhgChgLi/ZMarkupParser" target="_blank" class="img-link shimmer" ><img src="https://repository-images.githubusercontent.com/602927147/57ce75c1-8548-449c-b44a-f4b0451ed5ea" alt="" loading="lazy"></a></p><p>æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ <a href="https://www.zhgchg.li/contact" target="_blank">èˆ‡æˆ‘è¯çµ¡</a> ã€‚</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/a5643de271e4/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">ğŸ”—</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="/contact" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">ğŸº Buy me a beer on PayPal</a></p><blockquote class="prompt-tip"><p>ğŸ‘‰ğŸ‘‰ğŸ‘‰ <a href="https://medium.com/@zhgchgli" target="_blank"><strong>Follow Me On Medium!</strong> (1,053+ Followers)</a> ğŸ‘ˆğŸ‘ˆğŸ‘ˆ</p></blockquote><blockquote class="prompt-info"><p>æœ¬æ–‡é¦–æ¬¡ç™¼è¡¨æ–¼ Medium (<a href="https://medium.com/p/a5643de271e4" target="_blank"><strong>é»æ­¤æŸ¥çœ‹åŸå§‹ç‰ˆæœ¬</strong></a>)ï¼Œç”± <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> æä¾›è‡ªå‹•è½‰æ›èˆ‡åŒæ­¥æŠ€è¡“ã€‚</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2023-02-26-a5643de271e4.md" target="_blank">Improve this page on Github.</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/html-parser/" class="post-tag no-text-decoration" >html-parser</a> <a href="/tags/nsattributedstring/" class="post-tag no-text-decoration" >nsattributedstring</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/html/" class="post-tag no-text-decoration" >html</a> <a href="/tags/markdown/" class="post-tag no-text-decoration" >markdown</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> æœ¬æ–‡ç”±ä½œè€…ä»¥ <a href="https://creativecommons.org/licenses/by/4.0/deed.zh-hant"> CC BY 4.0 </a> æˆæ¬Šã€‚</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">åˆ†äº«</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=ZMarkupParser%EF%BD%9CSwift%20HTML%20String%20%E8%BD%89%20NSAttributedString%20%E5%B7%A5%E5%85%B7%EF%BC%8C%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fa5643de271e4%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=ZMarkupParser%EF%BD%9CSwift%20HTML%20String%20%E8%BD%89%20NSAttributedString%20%E5%B7%A5%E5%85%B7%EF%BC%8C%E6%94%AF%E6%8F%B4%E5%AE%A2%E8%A3%BD%E6%A8%A3%E5%BC%8F%E8%88%87%E9%AB%98%E6%95%88%E8%83%BD%E6%B8%B2%E6%9F%93%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fa5643de271e4%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fa5643de271e4%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="è¤‡è£½é€£çµ" data-title-succeed="é€£çµå·²æˆåŠŸè¤‡è£½ï¼" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">æœ€è¿‘æ›´æ–°</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/%E8%87%AA%E7%84%B6%E4%BA%BA%E6%86%91%E8%AD%89%E7%94%B3%E8%BE%A6%E8%88%87%E4%BD%BF%E7%94%A8%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B2%BB%E7%94%A8-pin%E7%A2%BC-%E8%AE%80%E5%8D%A1%E6%A9%9F-%E6%89%8B%E6%A9%9Fnfc%E8%88%87%E8%A1%8C%E5%8B%95%E6%86%91%E8%AD%89%E4%B8%80%E6%AC%A1%E6%8E%8C%E6%8F%A1-cdc/">è‡ªç„¶äººæ†‘è­‰ç”³è¾¦èˆ‡ä½¿ç”¨å…¨æ”»ç•¥ï¼šè²»ç”¨ã€PINã€è®€å¡æ©Ÿã€æ‰‹æ©ŸNFCã€è¡Œå‹•è‡ªç„¶äººæ†‘è­‰ã€ç”¨é€”ä¸€æ¬¡ææ‡‚</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-certificates-identifiers%E8%88%87profiles%E8%A9%B3%E8%A7%A3-fastlane-match%E7%B5%B1%E4%B8%80%E7%AE%A1%E7%90%86%E6%86%91%E8%AD%89%E8%88%87ci-cd%E6%95%B4%E5%90%88%E5%AF%A6%E6%88%B0-823ac523ccc8/">iOS Certificates, Identifiers & Profiles æ˜¯ä»€éº¼åŠ Fastlane Match çµ±ä¸€ç®¡ç†æ†‘è­‰èˆ‡ CI/CD çš„ä¸€äº›ç­†è¨˜</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/line-bank-%E5%85%A5%E9%87%91-firstrade-%E6%95%99%E5%AD%B8-%E5%BF%AB%E9%80%9F%E5%88%B0%E5%B8%B3-%E4%BD%8E%E6%89%8B%E7%BA%8C%E8%B2%BB150%E5%85%83-%E5%B8%B3%E6%88%B6%E5%8D%87%E7%B4%9A%E8%88%87%E6%89%8B%E7%BA%8C%E8%B2%BB%E8%A3%9C%E5%8A%A9%E7%94%B3%E8%AB%8B%E5%85%A8%E6%94%BB%E7%95%A5-e4d139fe0685/">æ‰‹æŠŠæ‰‹æ•™å­¸ â€” LINE Bank å…¥é‡‘ Firstrade å¿«é€Ÿåˆ°å¸³ã€æ‰‹çºŒè²»åªè¦ 150 å…ƒåŠå¸³æˆ¶å‡ç´š/ç´„å®šè½‰å¸³/æ‰‹çºŒè²»è£œåŠ©ç”³è«‹æ•™å­¸</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AF%A6%E4%BD%9C%E8%87%AA%E5%8B%95%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B8%AC%E8%A9%A6%E8%88%87%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%B8-4b001d2e8440/">CI/CD å¯¦æˆ°æŒ‡å—ï¼ˆä¸‰ï¼‰ï¼šä½¿ç”¨ GitHub Actions å¯¦ä½œ App iOS CI èˆ‡ CD å·¥ä½œæµç¨‹</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/medium-api-%E7%88%AC%E5%8F%96%E8%B3%87%E6%96%99%E8%88%87%E7%AA%81%E7%A0%B4-cloudflare-%E9%98%B2%E8%AD%B7-%E5%AE%8C%E6%95%B4-graphql-%E6%93%8D%E4%BD%9C%E6%95%99%E5%AD%B8-88f0fb935120/">Medium API è³‡æ–™çˆ¬èŸ²èˆ‡ Cloudflare æ”»é˜²çš„å¿ƒè·¯æ­·ç¨‹</a></ul></section><section><h2 class="panel-heading">ç†±é–€æ¨™ç±¤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">é–‹ç®±</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">ç« ç¯€ç›®éŒ„ ğŸ”–</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">å»¶ä¼¸é–±è®€</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/ios-nsattributedstring-html-render-%E8%87%AA%E8%A1%8C%E5%AF%A6%E7%8F%BE-%E8%A7%A3%E6%B1%BA%E9%96%83%E9%80%80%E8%88%87%E6%95%88%E8%83%BD%E7%93%B6%E9%A0%B8-a8c2d26cc734/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1654791119" data-df="YYYY å¹´ M æœˆ D æ—¥" > 2022 å¹´ 06 æœˆ 10 æ—¥ </time><h4 class="pt-0 my-2">iOS NSAttributedString HTML Render è‡ªè¡Œå¯¦ç¾ï½œè§£æ±ºé–ƒé€€èˆ‡æ•ˆèƒ½ç“¶é ¸</h4><div class="text-muted"><p>é‡å° iOS NSAttributedString HTML è§£æé–ƒé€€èˆ‡æ•ˆèƒ½å·®å•é¡Œï¼Œæä¾›ç´” Swift XMLParser è‡ªè¡Œå¯¦ç¾ HTML Render æŠ€è¡“ï¼Œé¿å…ä¸»ç·šç¨‹é˜»å¡ï¼Œæå‡æ¸²æŸ“é€Ÿåº¦é” 5~20 å€ï¼Œä¸¦æ”¯æ´è‡ªè¨‚æ¨™ç±¤æ¨£å¼èˆ‡æ“´å……ï¼Œç¢ºä¿ç©©å®šä¸”å¯ç¶­è­·çš„æ–‡å­—æ¸²æŸ“é«”é©—ã€‚</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88-html-%E8%A7%A3%E6%9E%90%E5%99%A8-swift-%E8%BD%89%E6%8F%9B-html-%E5%AD%97%E4%B8%B2%E6%88%90-nsattributedstring-%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-2724f02f6e7/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1678554562" data-df="YYYY å¹´ M æœˆ D æ—¥" > 2023 å¹´ 03 æœˆ 12 æ—¥ </time><h4 class="pt-0 my-2">æ‰‹å·¥æ‰“é€  HTML è§£æå™¨çš„é‚£äº›äº‹</h4><div class="text-muted"><p>ZMarkupParser HTML to NSAttributedString æ¸²æŸ“å¼•æ“çš„é–‹ç™¼å¯¦éŒ„</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-18-nsattributedstring-attributes-range-%E5%90%88%E4%BD%B5%E8%A1%8C%E7%82%BA%E6%94%B9%E8%AE%8A-equatable-%E5%BD%B1%E9%9F%BF%E8%A7%A3%E6%9E%90%E8%88%87%E9%96%83%E9%80%80%E5%95%8F%E9%A1%8C%E6%8E%92%E9%99%A4-9e43897d99fc/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1726837422" data-df="YYYY å¹´ M æœˆ D æ—¥" > 2024 å¹´ 09 æœˆ 20 æ—¥ </time><h4 class="pt-0 my-2">iOS â‰¥ 18 NSAttributedString attributes Range åˆä½µçš„ä¸€å€‹è¡Œç‚ºæ”¹è®Š</h4><div class="text-muted"><p>iOS â‰¥ 18 é–‹å§‹ NSAttributedString attributes Range åˆä½µæœƒåƒè€ƒ Equatable</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-life/google-%E5%87%BA%E7%8F%BE%E8%88%87%E6%9C%AC%E4%BA%BA%E6%9D%8E%E4%BB%B2%E6%BE%84%E7%84%A1%E9%97%9C%E4%B9%8B%E6%90%9C%E5%B0%8B%E7%B5%90%E6%9E%9C%E8%81%B2%E6%98%8E-declaration-for-google-search-result/" class="btn btn-outline-primary" aria-label="ä¸Šä¸€ç¯‡" ><p>Google å‡ºç¾èˆ‡æœ¬äººæä»²æ¾„ç„¡é—œä¹‹æœå°‹çµæœè²æ˜</p></a> <a href="/posts/zrealm-dev/%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88-html-%E8%A7%A3%E6%9E%90%E5%99%A8-swift-%E8%BD%89%E6%8F%9B-html-%E5%AD%97%E4%B8%B2%E6%88%90-nsattributedstring-%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-2724f02f6e7/" class="btn btn-outline-primary" aria-label="ä¸‹ä¸€ç¯‡" ><p>æ‰‹å·¥æ‰“é€  HTML è§£æå™¨çš„é‚£äº›äº‹</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Â© <time>2026</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="é™¤éå¦æœ‰è¨»æ˜ï¼Œæœ¬ç¶²ç«™ä¸Šçš„æ‰€æœ‰æ–‡ç« çš†ç”±ä½œè€…ä¾æ“š å‰µç”¨ CC å§“åæ¨™ç¤º 4.0 åœ‹éš›æˆæ¬Šæ¢æ¬¾ï¼ˆCC BY 4.0ï¼‰æˆæ¬Šä½¿ç”¨ã€‚" >ç‰ˆæ¬Šæ‰€æœ‰ã€‚</span> <br/> ç€è¦½æ¬¡æ•¸: <u>805,486+</u>, æœ€å¾Œæ›´æ–°æ™‚é–“: <u>2026-01-17 15:13:41 +08:00</u></p><p>æœ¬ç«™ä½¿ç”¨ <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> ä¸»é¡Œå»ºç½®æ–¼ <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>ã€‚<br/> Medium æ–‡ç« ç”± <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> è½‰æ›è€Œæˆã€‚</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">ç†±é–€æ¨™ç±¤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">é–‹ç®±</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">ç™¼ç¾æœ‰æ–°çš„å…§å®¹ç‰ˆæœ¬ã€‚</p><button type="button" class="btn btn-primary" aria-label="Update"> æ›´æ–° </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'zh-TW';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOHdowL84CU-q5', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">æ‰¾ä¸åˆ°ç¬¦åˆçš„çµæœã€‚</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

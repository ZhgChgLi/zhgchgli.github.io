<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="iOS é–‹ç™¼è€…é¢å° AppStore è©•åƒ¹é›£å³æ™‚ç›£æ§ï¼Œé€é Ruby èˆ‡ Fastlane è‡ªå‹•åŒ–å–å¾—æœ€æ–°è©•è«–ï¼Œæ­é… Slack é€šçŸ¥ï¼Œæœ‰æ•ˆé¿å…èˆŠè©•åƒ¹å¹²æ“¾ï¼Œæå‡å›æ‡‰æ•ˆç‡èˆ‡ç”¨æˆ¶é«”é©—ã€‚" /><meta property="og:description" content="iOS é–‹ç™¼è€…é¢å° AppStore è©•åƒ¹é›£å³æ™‚ç›£æ§ï¼Œé€é Ruby èˆ‡ Fastlane è‡ªå‹•åŒ–å–å¾—æœ€æ–°è©•è«–ï¼Œæ­é… Slack é€šçŸ¥ï¼Œæœ‰æ•ˆé¿å…èˆŠè©•åƒ¹å¹²æ“¾ï¼Œæå‡å›æ‡‰æ•ˆç‡èˆ‡ç”¨æˆ¶é«”é©—ã€‚" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-21T23:16:31+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp" /><meta property="twitter:title" content="AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-04-14T00:38:28+08:00","datePublished":"2021-04-21T23:16:31+08:00","description":"iOS é–‹ç™¼è€…é¢å° AppStore è©•åƒ¹é›£å³æ™‚ç›£æ§ï¼Œé€é Ruby èˆ‡ Fastlane è‡ªå‹•åŒ–å–å¾—æœ€æ–°è©•è«–ï¼Œæ­é… Slack é€šçŸ¥ï¼Œæœ‰æ•ˆé¿å…èˆŠè©•åƒ¹å¹²æ“¾ï¼Œæå‡å›æ‡‰æ•ˆç‡èˆ‡ç”¨æˆ¶é«”é©—ã€‚","headline":"AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/"},"url":"https://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/"}</script><title>AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«– | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/appstore-reviews-bot-automate-app-review-tracking-with-slack-notifications-cb0c68c33994/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/appstore-%E8%AF%84%E4%BB%B7%E8%BF%BD%E8%B8%AA-slack-bot-%E6%95%99%E5%AD%A6-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8A%A8%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%AF%84%E8%AE%BA-cb0c68c33994/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/"><link rel="alternate" hreflang="x-default" href="https://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"å¦‚ä½•åˆ©ç”¨ App Store Connect API ç›£æ§ iOS App è©•åƒ¹ä¸¦å³æ™‚é€šçŸ¥ Slackï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"é€é Fastlane çš„ SpaceShip æ¨¡çµ„ç™»å…¥ App Store Connectï¼Œè‡ªå‹•å–å¾—ç™»å…¥ cookieï¼Œä¸¦å‘¼å« Private API åˆ†é æŠ“å–æœ€æ–°è©•åƒ¹ï¼Œçµåˆ Ruby è…³æœ¬éæ¿¾æœªé€šçŸ¥éçš„è©•è«–ï¼Œæœ€å¾Œé€é Slack Incoming Webhook ç™¼é€é€šçŸ¥ï¼Œå³å¯å¯¦ç¾å³æ™‚ç›£æ§èˆ‡é€šçŸ¥ã€‚"}},{"@type":"Question","name":"ç‚ºä»€éº¼ä½¿ç”¨ Public RSS API æŠ“å– App è©•åƒ¹æœƒé‡åˆ°è³‡æ–™éŒ¯äº‚å•é¡Œï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"Public RSS API é›–ç„¶å…é©—è­‰ä¸”ç°¡å–®ï¼Œä½†å› ç‚ºæ˜¯è€èˆŠæ¥å£ï¼Œæœ€å¤šåªèƒ½å–å¾— 10 é è³‡æ–™ä¸”ç¼ºå°‘ç•™è¨€æ™‚é–“èˆ‡ç·¨è¼¯ç‹€æ…‹ï¼Œä¸”å¶çˆ¾æœƒå›å‚³èˆŠè³‡æ–™ï¼Œé€ æˆè³‡æ–™éŒ¯äº‚ï¼Œç„¡æ³•ç©©å®šå–å¾—æœ€æ–°ä¸”å®Œæ•´çš„è©•åƒ¹è³‡è¨Šã€‚"}},{"@type":"Question","name":"å¦‚ä½•è§£æ±º App Store Connect å…©æ­¥é©Ÿé©—è­‰å°è‡´è‡ªå‹•åŒ–æŠ“å–è©•åƒ¹çš„æŒ‘æˆ°ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"åˆ©ç”¨ Fastlane çš„ spaceauth æŒ‡ä»¤å®Œæˆå…©æ­¥é©Ÿé©—è­‰ï¼Œå–å¾—æœ‰æ•ˆ session cookie (myacinfo)ï¼Œä¸¦å®šæœŸæ‰‹å‹•æ›´æ–°æ­¤ sessionï¼Œæ­é… SpaceShip æ¨¡çµ„å‘¼å« Private APIï¼Œä»¥ç¶­æŒè‡ªå‹•åŒ–æŠ“å–è©•åƒ¹çš„ç©©å®šæ€§ã€‚"}},{"@type":"Question","name":"å¦‚ä½•é¿å… Slack Bot é‡è¤‡æ¨æ’­å·²è®€éçš„ App è©•åƒ¹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"åœ¨ Ruby è…³æœ¬ä¸­ä½¿ç”¨æœ¬åœ°æª”æ¡ˆå„²å­˜ä¸Šæ¬¡æŠ“å–çš„æœ€æ–°è©•è«–ä¿®æ”¹æ™‚é–“ (lastModified)ï¼Œæ¯æ¬¡åŸ·è¡Œæ™‚åªé€šçŸ¥æ™‚é–“æ›´æ–°ä¸”æœªæ›¾é€šçŸ¥éçš„è©•è«–ï¼Œç¢ºä¿ä¸é‡è¤‡æ¨æ’­ä¸¦ç¶­æŒé€šçŸ¥æ–°é®®åº¦ã€‚"}},{"@type":"Question","name":"è‡ªæ¶ App è©•åƒ¹ç›£æ§ Slack Bot æœ‰å“ªäº›è³‡å®‰èˆ‡ç¶­è­·ä¸Šçš„å»ºè­°ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"å»ºè­°ä½¿ç”¨ç¨ç«‹çš„ App Store Connect å¸³è™Ÿä¸”åªæˆæ¬Š Customer Support æ¬Šé™ï¼Œé¿å…ä½¿ç”¨é–‹ç™¼è€…å¸³è™Ÿï¼›ä¸¦æ³¨æ„å…©æ­¥é©Ÿé©—è­‰ session éœ€æ¯æœˆæ›´æ–°ï¼ŒRuby ç’°å¢ƒå»ºè­°ç”¨ rbenv ç®¡ç†ï¼Œé¿å…ç³»çµ±ç‰ˆæœ¬è¡çªï¼Œç¢ºä¿å®‰å…¨èˆ‡ç©©å®šé‹è¡Œã€‚"}}]} </script><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan ğŸ‡¹ğŸ‡¼ who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item" style="color: #dc3545;"> <a href="https://zhgchg.li" style="color: #dc3545;">æ­£é«”ä¸­æ–‡</a> | <a href="https://zh-hans.zhgchg.li" style="color: #dc3545;">ç®€ä½“ä¸­æ–‡</a> | <a href="https://en.zhgchg.li" style="color: #dc3545;">English</a><li class="nav-item"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background: #EDF4FF; color: #0A84FF;"> <i class="fa-brands fa-medium"></i> <span>Follow Me!<br/><strong>1,050+</strong> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/english/" class="nav-link"> <i class="fa-fw fa fa-solid fa-language"></i> <span>ENGLISH POSTS</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–</h1><p class="post-desc fw-light mb-4">iOS é–‹ç™¼è€…é¢å° AppStore è©•åƒ¹é›£å³æ™‚ç›£æ§ï¼Œé€é Ruby èˆ‡ Fastlane è‡ªå‹•åŒ–å–å¾—æœ€æ–°è©•è«–ï¼Œæ­é… Slack é€šçŸ¥ï¼Œæœ‰æ•ˆé¿å…èˆŠè©•åƒ¹å¹²æ“¾ï¼Œæå‡å›æ‡‰æ•ˆç‡èˆ‡ç”¨æˆ¶é«”é©—ã€‚</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1619018191" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 21, 2021 </time> </span> <span> Updated <time data-ts="1713026308" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp" class="popup img-link preview-img blur"><img data-src="/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> By <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3350 words" > <em>18 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Chapters ğŸ”–</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">AppStore è©•åƒ¹è¿½è¹¤ Slack Bot æ•™å­¸ï½œç”¨ Ruby + Fastlane è‡ªå‹•é€šçŸ¥æœ€æ–°è©•è«–</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><blockquote class="prompt-tip"><p><a href="https://en.zhgchg.li/posts/zrealm-dev/appstore-reviews-bot-automate-app-review-tracking-with-slack-notifications-cb0c68c33994/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/appstore-%E8%AF%84%E4%BB%B7%E8%BF%BD%E8%B8%AA-slack-bot-%E6%95%99%E5%AD%A6-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8A%A8%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%AF%84%E8%AE%BA-cb0c68c33994/"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æŸ¥çœ‹æœ¬æ–‡ç« ç®€ä½“ä¸­æ–‡ç‰ˆæœ¬ã€‚</p></blockquote><blockquote class="prompt-info"><p>åŸºæ–¼ SEO è€ƒé‡ï¼Œæœ¬æ–‡æ¨™é¡Œèˆ‡æè¿°ç¶“ AI èª¿æ•´ï¼ŒåŸå§‹ç‰ˆæœ¬è«‹åƒè€ƒå…§æ–‡ã€‚</p></blockquote><h4 id="zhgchgli-table-of-contents">æ–‡ç« ç›®éŒ„</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li class="has-children"><details><summary>AppStore APPâ€™s Reviews Slack Bot é‚£äº›äº‹ <a href="#appstore-apps-reviews-slack-bot-é‚£äº›äº‹">#</a></summary><ul><li><a href="#åƒç±³ä¸çŸ¥ç±³åƒ¹">åƒç±³ä¸çŸ¥ç±³åƒ¹</a></li></ul></details></li><li><a href="#å•é¡Œ">å•é¡Œ</a></li><li><a href="#tldr-20220810-update">TL;DR [2022/08/10] Update</a></li><li><a href="#20220720-update">2022/07/20 Update</a></li><li class="has-children"><details><summary>åŸç†æ¢ç©¶ <a href="#åŸç†æ¢ç©¶">#</a></summary><ul><li><a href="#å®˜æ–¹-api-">å®˜æ–¹ API âŒ</a></li><li><a href="#public-url-api-rss-ï¸">Public URL API (RSS) âš ï¸</a></li><li><a href="#private-url-api-">Private URL API âœ…</a></li></ul></details></li><li><a href="#æœ€çµ‚çµæœ">æœ€çµ‚çµæœ</a></li><li><a href="#å…è²»çš„å…¶ä»–é¸æ“‡">å…è²»çš„å…¶ä»–é¸æ“‡</a></li><li><a href="#æº«é¦¨æç¤º">æº«é¦¨æç¤º</a></li><li><a href="#problem-solved">Problem Solved!</a></li></ul></nav><hr /><h3 id="appstore-apps-reviews-slack-bot-é‚£äº›äº‹"><span class="me-2">AppStore APPâ€™s Reviews Slack Bot é‚£äº›äº‹</span><a href="#appstore-apps-reviews-slack-bot-é‚£äº›äº‹" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ä½¿ç”¨ Ruby+Fastlane-SpaceShip å‹•æ‰‹æ‰“é€  APP è©•åƒ¹è¿½è¹¤é€šçŸ¥ Slack æ©Ÿå™¨äºº</p><p><a href="/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*BMCG3cu21W5MbODBbhI-sA.webp" alt="Photo by [Austin Distel](https://unsplash.com/@austindistel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjgwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Photo by <a href="https://unsplash.com/@austindistel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Austin Distel</a></p><h4 id="åƒç±³ä¸çŸ¥ç±³åƒ¹"><span class="me-2">åƒç±³ä¸çŸ¥ç±³åƒ¹</span><a href="#åƒç±³ä¸çŸ¥ç±³åƒ¹" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/cb0c68c33994/1*Iv6qvrBfyv3bU1NK1hPVHg.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*Iv6qvrBfyv3bU1NK1hPVHg.webp" alt="[AppReviewBot ç‚ºä¾‹](https://appreviewbot.com){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjMiIGhlaWdodD0iMjA2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="https://appreviewbot.com" target="_blank">AppReviewBot ç‚ºä¾‹</a></p><p>æœ€è¿‘æ‰çŸ¥é“ Slack ä¸­è½‰ç™¼ APP æœ€æ–°è©•åƒ¹è¨Šæ¯çš„æ©Ÿå™¨äººæ˜¯è¦ä»˜è²»çš„ï¼Œæˆ‘ä¸€ç›´ä»¥ç‚ºé€™åŠŸèƒ½æ˜¯å…è²»çš„ï¼›è²»ç”¨å¾ $5 åˆ° $200 ç¾é‡‘/æœˆéƒ½æœ‰ï¼Œå› ç‚ºå„å¹³å°éƒ½ä¸æœƒåªåšã€ŒApp Review Botã€çš„åŠŸèƒ½ï¼Œå…¶ä»–é‚„æœ‰æ•¸æ“šçµ±è¨ˆã€ç´€éŒ„ã€çµ±ä¸€å¾Œå°ã€èˆ‡ç«¶å“æ¯”è¼ƒâ€¦ç­‰ç­‰ï¼Œè²»ç”¨ä¹Ÿæ˜¯ç…§å„å¹³å°èƒ½æä¾›çš„æœå‹™ç‚ºæ¨™æº–ï¼›Review Bot åªæ˜¯ä»–å€‘çš„ä¸€ç’°ï¼Œä½†æˆ‘å°±åªæƒ³ç”¨é€™å€‹åŠŸèƒ½å…¶ä»–ä¸éœ€è¦ï¼Œå¦‚æœæ˜¯é€™æ¨£ä»˜è²»è »æµªè²»çš„ã€‚</p><h3 id="å•é¡Œ"><span class="me-2">å•é¡Œ</span><a href="#å•é¡Œ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>æœ¬ä¾†æ˜¯ç”¨å…è²»é–‹æºçš„å·¥å…· <a href="https://github.com/TradeMe/ReviewMe" target="_blank">TradeMe/ReviewMe</a> ä¾†åš Slack é€šçŸ¥ï¼Œä½†é€™å€‹å·¥å…·å·²å¹´ä¹…å¤±ä¿®ï¼Œæ™‚ä¸æ™‚ Slack æœƒçˆ†å™´ä¸€äº›èˆŠçš„è©•åƒ¹ï¼Œçœ‹å¾—è®“äººå¿ƒé©šè†½é¡«ï¼ˆå¾ˆå¤š Bug éƒ½æ—©å·²ä¿®å¾©ï¼Œå®³æˆ‘å€‘ä»¥ç‚ºåˆæœ‰å•é¡Œï¼ï¼‰ï¼ŒåŸå› ä¸æ˜ã€‚</p><p>æ‰€ä»¥è€ƒæ…®æ‰¾å…¶ä»–å·¥å…·ã€æ–¹æ³•å–ä»£ã€‚</p><h3 id="tldr-20220810-update"><span class="me-2">TL;DR [2022/08/10] Update:</span><a href="#tldr-20220810-update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ç¾å·²æ”¹ç”¨å…¨æ–°çš„ <a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-%E5%BF%AB%E9%80%9F%E8%AE%80%E5%8F%96%E8%88%87%E7%AE%A1%E7%90%86-customer-reviews-%E6%8F%90%E5%8D%87-ios-app-%E8%A9%95%E5%83%B9%E6%95%B4%E5%90%88%E6%95%88%E7%8E%87-f1365e51902c/">App Store Connect API</a> é‡æ–°è¨­è¨ˆ App Reviews Botï¼Œä¸¦æ›´åé‡æ–°æ¨å‡ºã€Œ <a href="https://zhgchg.li/posts/zrealm-dev/zreviewtender-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-app-%E8%A9%95%E5%83%B9%E7%9B%A3%E6%8E%A7%E6%A9%9F%E5%99%A8%E4%BA%BA-%E8%87%AA%E5%8B%95%E6%95%B4%E5%90%88-slack-%E8%88%87-google-sheet-e36e48bb9265/">ZReviewTender â€” å…è²»é–‹æºçš„ App Reviews ç›£æ§æ©Ÿå™¨äºº</a> ã€ã€‚</p><p>====</p><h3 id="20220720-update"><span class="me-2">2022/07/20 Update</span><a href="#20220720-update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-%E5%BF%AB%E9%80%9F%E8%AE%80%E5%8F%96%E8%88%87%E7%AE%A1%E7%90%86-customer-reviews-%E6%8F%90%E5%8D%87-ios-app-%E8%A9%95%E5%83%B9%E6%95%B4%E5%90%88%E6%95%88%E7%8E%87-f1365e51902c/">App Store Connect API ç¾å·²æ”¯æ´ è®€å–å’Œç®¡ç† Customer Reviews</a> ï¼ŒApp Store Connect API åŸç”Ÿå·²æ”¯æ´å­˜å– App è©•åƒ¹ï¼Œ <strong>ä¸éœ€è¦å†ä½¿ç”¨</strong> Fastlane â€” Spaceship å»å¾Œå°æ‹¿è©•åƒ¹ã€‚</p><h3 id="åŸç†æ¢ç©¶"><span class="me-2">åŸç†æ¢ç©¶</span><a href="#åŸç†æ¢ç©¶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>æœ‰äº†å‹•æ©Ÿä¹‹å¾Œï¼Œå†ä¾†ç ”ç©¶ä¸‹é”æˆç›®æ¨™çš„åŸç†ã€‚</p><h4 id="å®˜æ–¹-api-"><span class="me-2">å®˜æ–¹ API âŒ</span><a href="#å®˜æ–¹-api-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>è˜‹æœæœ‰æä¾› <a href="https://developer.apple.com/app-store-connect/api/" target="_blank">App Store Connect API</a> ï¼Œä½†æ²’æä¾›æ’ˆå–è©•åƒ¹åŠŸèƒ½ã€‚</p><p>[2022/07/20 æ›´æ–°]ï¼š <a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-%E5%BF%AB%E9%80%9F%E8%AE%80%E5%8F%96%E8%88%87%E7%AE%A1%E7%90%86-customer-reviews-%E6%8F%90%E5%8D%87-ios-app-%E8%A9%95%E5%83%B9%E6%95%B4%E5%90%88%E6%95%88%E7%8E%87-f1365e51902c/">App Store Connect API ç¾å·²æ”¯æ´ è®€å–å’Œç®¡ç† Customer Reviews</a></p><h4 id="public-url-api-rss-ï¸"><span class="me-2">Public URL API (RSS) âš ï¸</span><a href="#public-url-api-rss-ï¸" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>è˜‹æœæœ‰æä¾›å…¬é–‹çš„ APP è©•åƒ¹ <a href="https://rss.itunes.apple.com/zh-tw" target="_blank">RSS è¨‚é–±ç¶²å€</a> ï¼Œè€Œä¸”é™¤äº† rss xml é‚„æä¾› json æ ¼å¼ã€‚</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>https://itunes.apple.com/åœ‹å®¶ç¢¼/rss/customerreviews/id=APP_ID/page=1/sortBy=mostRecent/json
</pre></table></code></div></div><ul><li>åœ‹å®¶ç¢¼ï¼šå¯åƒè€ƒ <a href="https://help.apple.com/app-store-connect/#/dev997f9cf7c" target="_blank">é€™ä»½æ–‡ä»¶</a> ã€‚<li>APP_IDï¼šå‰å¾€ App ç¶²é ç‰ˆï¼Œæœƒå¾—åˆ°ç¶²å€ï¼šhttps://apps.apple.com/tw/app/APPåç¨±/id <strong>12345678</strong> ï¼Œid å¾Œé¢çš„æ•¸å­—åŠç‚º App IDï¼ˆç´”æ•¸å­—ï¼‰ã€‚<li>pageï¼šå¯è«‹æ±‚ 1~10 é ï¼Œè¶…éç„¡æ³•å–å¾—ã€‚<li>sortByï¼š <code class="language-plaintext highlighter-rouge">mostRecent/json</code> è«‹æ±‚æœ€æ–°çš„ï¼† json æ ¼å¼ï¼Œä¹Ÿå¯æ”¹ç‚º <code class="language-plaintext highlighter-rouge">mostRecent/xml</code> å‰‡ç‚º xml æ ¼å¼ã€‚</ul><p><strong>è©•åƒ¹è³‡æ–™å›å‚³å¦‚ä¸‹ï¼š</strong></p><p>rss.json:</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"uri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://itunes.apple.com/tw/reviews/id123456789"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"im:version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.27.1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"im:rating"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"å¾ˆæ£’çš„å­˜åœ¨ï¼"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"äººç”Ÿå€¼å¾—äº†ï½"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"related"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://itunes.apple.com/tw/review?id=123456789&amp;type=Purple%20Software"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"im:voteSum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"im:contentType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Application"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"æ‡‰ç”¨ç¨‹å¼"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"im:voteCount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p><strong>å„ªé»ï¼š</strong></p><ol><li>å…¬é–‹ã€ä¸éœ€èº«ä»½é©—è­‰æ­¥é©Ÿå³å¯å­˜å–<li>ç°¡å–®å¥½ç”¨</ol><p><strong>ç¼ºé»ï¼š</strong></p><ol><li>æ­¤ RSS API å¾ˆè€èˆŠéƒ½æ²’æ›´æ–°<li>å›å‚³è©•åƒ¹çš„è³‡è¨Šå¤ªå°‘ï¼ˆæ²’ç•™è¨€æ™‚é–“ã€å·²ç·¨è¼¯éè©•åƒ¹ï¼Ÿã€å·²å›è¦†ï¼Ÿï¼‰<li>é‡åˆ°è³‡æ–™éŒ¯äº‚å•é¡Œï¼ˆå¾Œé¢å¹¾é å¶çˆ¾æœƒçªç„¶å™´èˆŠè³‡æ–™ï¼‰<li>æœ€å¤šå­˜å– 10 é </ol><blockquote><p><em>é—œæ–¼æˆ‘å€‘é‡åˆ°çš„æœ€å¤§å•é¡Œæ˜¯ 3ï¼›ä½†é€™éƒ¨åˆ†ä¸ç¢ºå®šæ˜¯æˆ‘å€‘ç”¨çš„ <a href="https://github.com/TradeMe/ReviewMe" target="_blank">Bot å·¥å…·</a> å•é¡Œï¼Œé‚„æ˜¯é€™å€‹ RSS URL è³‡æ–™æœ‰å•é¡Œã€‚</em></p></blockquote><h4 id="private-url-api-"><span class="me-2">Private URL API âœ…</span><a href="#private-url-api-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>é€™å€‹æ–¹æ³•èªªä¾†æœ‰é»æ—é–€å·¦é“ï¼Œä¹Ÿæ˜¯æˆ‘çªç™¼å¥‡æƒ³ç™¼ç¾çš„ï¼›ä½†åœ¨å¾ŒçºŒåƒè€ƒäº†å…¶ä»– Review Bot åšæ³•ä¹‹å¾Œç™¼ç¾å¾ˆå¤šç¶²ç«™ä¹Ÿéƒ½æ˜¯é€™æ¨£ç”¨ï¼Œæ‡‰è©²æ²’ä»€éº¼å•é¡Œè€Œä¸”æˆ‘ 4~5 å¹´å‰å°±çœ‹éæœ‰å·¥å…·é€™æ¨£åšäº†ï¼Œåªæ˜¯ç•¶æ™‚æ²’æ·±å…¥ç ”ç©¶ã€‚</p><p><strong>å„ªé»ï¼š</strong></p><ol><li>åŒè˜‹æœå¾Œå°è³‡æ–™<li>è³‡æ–™å®Œæ•´ä¸”æœ€æ–°<li>å¯åšæ›´å¤šç´°ç¯€ç¯©é¸<li>å…·å‚™æ·±åº¦æ•´åˆçš„ APP å·¥å…·ä¹Ÿæ˜¯ç”¨é€™å€‹æ–¹æ³•ï¼ˆAppRadar/AppReviewBotâ€¦ï¼‰</ol><p><strong>ç¼ºé»ï¼š</strong></p><ol><li>éå®˜æ–¹å…¬å¸ƒæ–¹æ³•ï¼ˆæ—é–€å·¦é“ï¼‰<li>å› è˜‹æœå¯¦è¡Œå…¨é¢å…©æ­¥é©Ÿç™»å…¥ï¼Œæ‰€ä»¥ç™»å…¥ session éœ€è¦å®šæœŸæ›´æ–°ã€‚</ol><p><strong>ç¬¬ä¸€æ­¥ â€” å—…æ¢ App Store Connect å¾Œå°è©•è«–å€å¡Š Load è³‡æ–™çš„ APIï¼š</strong></p><p><a href="/assets/cb0c68c33994/1*74lbicQ_vPzrLfm1imk7Pg.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*74lbicQ_vPzrLfm1imk7Pg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDAiIGhlaWdodD0iMzY3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>å¾—åˆ°è˜‹æœå¾Œå°æ˜¯é€éæ‰“ï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/apps/APP_ID/platforms/ios/reviews?index=0&amp;sort=REVIEW_SORT_ORDER_MOST_RECENT
</pre></table></code></div></div><p>é€™å€‹ endpoint å–å¾—è©•åƒ¹åˆ—è¡¨ï¼š</p><p><a href="/assets/cb0c68c33994/1*I00Znmzaivm_-7ous0-4Pw.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*I00Znmzaivm_-7ous0-4Pw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDAiIGhlaWdodD0iMzI2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>index = åˆ†é  offsetï¼Œä¸€æ¬¡æœ€å¤šé¡¯ç¤º 100 ç­†ã€‚</p><p><strong>è©•åƒ¹è³‡æ–™å›å‚³å¦‚ä¸‹ï¼š</strong></p><p>private.json:</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"å¾ˆæ£’çš„å­˜åœ¨ï¼"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"review"</span><span class="p">:</span><span class="w"> </span><span class="s2">"äººç”Ÿå€¼å¾—äº†ï½"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"storeFront"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TW"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"appVersionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.27.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastModified"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618836654000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"helpfulViews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalViews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"edited"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"developerResponse"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"isEditable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorKeys"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>å¦å¤–ç¶“éæ¸¬è©¦å¾Œç™¼ç¾ï¼Œåªéœ€è¦åœ¨å¸¶ä¸Š <code class="language-plaintext highlighter-rouge">cookie: myacinfo=&lt;Token&gt;</code> å³å¯å½é€ è«‹æ±‚å¾—åˆ°è³‡æ–™ï¼š</p><p><a href="/assets/cb0c68c33994/1*b_vINNRMrAIQrkuouN7X1Q.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*b_vINNRMrAIQrkuouN7X1Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDAiIGhlaWdodD0iNjU3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>API æœ‰äº†ã€è¦æ±‚çš„ header çŸ¥é“äº†ï¼Œå†ä¾†å°±è¦æƒ³è¾¦æ³•è‡ªå‹•åŒ–å–å¾—å¾Œå°é€™å€‹ cookie è³‡è¨Šã€‚</p><p><strong>ç¬¬äºŒæ­¥ â€”è¬èƒ½ Fastlane</strong></p><p>å› è˜‹æœç¾åœ¨å¯¦è¡Œå…¨ Two-Step Verificationï¼Œæ‰€ä»¥å°æ–¼ç™»å…¥é©—è­‰è‡ªå‹•åŒ–è®Šå¾—æ›´åŠ ç…©ç‘£ï¼Œå¹¸å¥½èˆ‡è˜‹æœé¬¥æ™ºé¬¥å‹‡çš„ <a href="https://docs.fastlane.tools/best-practices/continuous-integration/" target="_blank">Fastlane</a> ï¼Œé™¤äº†æ­£è¦çš„ App Store Connect APIã€iTMSTransporterã€ç¶²é èªè­‰(åŒ…å«å…©æ­¥é©Ÿèªè­‰)å…¨éƒ½æœ‰å¯¦ä½œï¼›æˆ‘å€‘å¯ä»¥ç›´æ¥ä½¿ç”¨ Fastlane çš„æŒ‡ä»¤ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>fastlane spaceauth <span class="nt">-u</span> &lt;App Store Connect å¸³è™Ÿ<span class="o">(</span>Email<span class="o">)&gt;</span>
</pre></table></code></div></div><p>æ­¤æŒ‡ä»¤æœƒå®Œæˆç¶²é ç™»å…¥é©—è­‰(åŒ…å«å…©æ­¥é©Ÿèªè­‰)ï¼Œç„¶å¾Œå°‡ cookie å­˜å…¥ FASTLANE_SESSION æª”æ¡ˆä¹‹ä¸­ã€‚</p><p>æœƒå¾—åˆ°é¡ä¼¼å¦‚ä¸‹å­—ä¸²ï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>!ruby/object:HTTP::Cookie
name: myacinfo  value: &lt;token&gt;  
domain: apple.com for_domain: true  path: "/"  
secure: true  httponly: true  expires: max_age: 
created_at: 2021-04-21 20:42:36.818821000 +08:00  
accessed_at: 2021-04-21 22:02:45.923016000 +08:00
!ruby/object:HTTP::Cookie
name: &lt;hash&gt;  value: &lt;token&gt;
domain: idmsa.apple.com for_domain: true  path: "/"
secure: true  httponly: true  expires: max_age: 2592000
created_at: 2021-04-19 23:21:05.851853000 +08:00
accessed_at: 2021-04-21 20:42:35.735921000 +08:00
</pre></table></code></div></div><p>å°‡ <code class="language-plaintext highlighter-rouge">myacinfo = value</code> å¸¶å…¥å°±èƒ½å–å¾—è©•åƒ¹åˆ—è¡¨ã€‚</p><p><strong>ç¬¬ä¸‰æ­¥ â€” SpaceShip</strong></p><p>æœ¬ä¾†ä»¥ç‚º Fastlane åªèƒ½å¹«æˆ‘å€‘åˆ°é€™äº†ï¼Œå†ä¾†è¦è‡ªå·±ä¸²èµ·å¾ Fastlane æ‹¿åˆ° cookie ç„¶å¾Œæ‰“ api çš„ flowï¼›æ²’æƒ³åˆ°ç¶“éä¸€ç•ªæ¢ç´¢ç™¼ç¾ Fastlane é—œæ–¼é©—è­‰é€™å¡Šçš„æ¨¡çµ„ <code class="language-plaintext highlighter-rouge">SpaceShip</code> é‚„æœ‰æ›´å¤šå¼·å¤§çš„åŠŸèƒ½ï¼</p><p><a href="/assets/cb0c68c33994/1*OlYQLNXAOk1oNqDP7LSlrA.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*OlYQLNXAOk1oNqDP7LSlrA.webp" alt="`SpaceShip`" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTYxIiBoZWlnaHQ9IjU2MSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><code class="language-plaintext highlighter-rouge">SpaceShip</code></p><p>SpaceShip è£¡é¢å·²ç¶“å¹«æˆ‘å€‘æ‰“åŒ…å¥½æ’ˆè©•åƒ¹åˆ—è¡¨çš„æ–¹æ³• <a href="https://www.rubydoc.info/gems/spaceship/0.39.0/Spaceship/TunesClient#get_reviews-instance_method" target="_blank"><strong>Class: Spaceship::TunesClient::get_reviews</strong></a> äº†ï¼</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">app</span> <span class="o">=</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">Tunes</span><span class="o">::</span><span class="n">login</span><span class="p">(</span><span class="n">appstore_account</span><span class="p">,</span> <span class="n">appstore_password</span><span class="p">)</span>
<span class="n">reviews</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="nf">get_reviews</span><span class="p">(</span><span class="n">app_id</span><span class="p">,</span> <span class="n">platform</span><span class="p">,</span> <span class="n">storefront</span><span class="p">,</span> <span class="n">versionId</span> <span class="o">=</span> <span class="s1">''</span><span class="p">)</span>
</pre></table></code></div></div><p>*storefront = åœ°å€</p><p><strong>ç¬¬å››æ­¥ â€” çµ„è£</strong></p><p>Fastlaneã€Spaceship éƒ½æ˜¯ç”± ruby æ’°å¯«ï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿè¦ç”¨ ruby ä¾†è£½ä½œé€™å€‹ Bot å°å·¥å…·ã€‚</p><p>æˆ‘å€‘å¯ä»¥å»ºç«‹ä¸€å€‹ <code class="language-plaintext highlighter-rouge">reviewBot.rb</code> æª”æ¡ˆï¼Œç·¨è­¯åŸ·è¡Œæ™‚åªéœ€åœ¨ Terminal è¼¸å…¥ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ruby reviewBot.rb
</pre></table></code></div></div><p>å³å¯ã€‚ <em>( *æ›´å¤š ruby ç’°å¢ƒå•é¡Œå¯åƒè€ƒæ–‡æœ«æç¤º)</em></p><p><strong>é¦–å…ˆ</strong> ï¼Œå› åŸæœ¬çš„ get_reviews å£çš„åƒæ•¸ä¸ç¬¦åˆæˆ‘å€‘éœ€æ±‚ï¼›æˆ‘æƒ³è¦çš„æ˜¯å…¨åœ°å€ã€å…¨ç‰ˆæœ¬çš„è©•åƒ¹è³‡æ–™ã€ä¸éœ€è¦ç¯©é¸ã€æ”¯æ´åˆ†é ï¼š</p><p>extension.rb:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c1"># Extension Spaceship-&gt;TunesClient</span>
<span class="k">module</span> <span class="nn">Spaceship</span>
  <span class="k">class</span> <span class="nc">TunesClient</span> <span class="o">&lt;</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">Client</span>
    <span class="k">def</span> <span class="nf">get_recent_reviews</span><span class="p">(</span><span class="n">app_id</span><span class="p">,</span> <span class="n">platform</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
      <span class="n">r</span> <span class="o">=</span> <span class="n">request</span><span class="p">(</span><span class="ss">:get</span><span class="p">,</span> <span class="s2">"ra/apps/</span><span class="si">#{</span><span class="n">app_id</span><span class="si">}</span><span class="s2">/platforms/</span><span class="si">#{</span><span class="n">platform</span><span class="si">}</span><span class="s2">/reviews?index=</span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">&amp;sort=REVIEW_SORT_ORDER_MOST_RECENT"</span><span class="p">)</span>
      <span class="n">parse_response</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="s1">'data'</span><span class="p">)[</span><span class="s1">'reviews'</span><span class="p">]</span>
     <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></table></code></div></div><p>æ‰€ä»¥æˆ‘å€‘è‡ªå·±åœ¨ TunesClient ä¸­æ“´å……ä¸€å€‹æ–¹æ³•ï¼Œè£¡é¢åƒæ•¸åªå¸¶ app_idã€platform = <code class="language-plaintext highlighter-rouge">ios</code> ( <strong>å…¨å°å¯«</strong> )ã€index = åˆ†é  offsetã€‚</p><p><strong>å†ä¾†çµ„è£ç™»å…¥é©—è­‰ã€æ’ˆè©•åƒ¹åˆ—è¡¨ï¼š</strong></p><p>get_recent_reviews.rb:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">while</span> <span class="n">breakWhile</span>
  <span class="n">app</span> <span class="o">=</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">Tunes</span><span class="o">::</span><span class="n">login</span><span class="p">(</span><span class="no">APPStoreConnect</span> <span class="n">å¸³è™Ÿ</span><span class="p">(</span><span class="no">Email</span><span class="p">),</span> <span class="no">APPStoreConnect</span> <span class="n">å¯†ç¢¼</span><span class="p">)</span>
  <span class="n">reviews</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="nf">get_recent_reviews</span><span class="p">(</span><span class="vg">$app_id</span><span class="p">,</span> <span class="vg">$platform</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">reviews</span><span class="p">.</span><span class="nf">length</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span>
    <span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="k">break</span>
  <span class="k">end</span>
  <span class="n">reviews</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">review</span><span class="o">|</span>
    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">puts</span> <span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="k">end</span>
</pre></table></code></div></div><p>ä½¿ç”¨ while éæ­·æ‰€æœ‰åˆ†é ï¼Œç•¶è·‘åˆ°ç„¡å…§å®¹æ™‚çµ‚æ­¢ã€‚</p><p><strong>å†ä¾†è¦åŠ ä¸Šç´€éŒ„ä¸Šæ¬¡æœ€æ–°ä¸€ç­†çš„æ™‚é–“ï¼Œåªé€šçŸ¥æ²’é€šçŸ¥éçš„æœ€æ–°è¨Šæ¯ï¼š</strong></p><p>lastModified.rb:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="n">lastModified</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">if</span> <span class="no">File</span><span class="p">.</span><span class="nf">exists?</span><span class="p">(</span><span class="s2">".lastModified"</span><span class="p">)</span>
  <span class="n">lastModifiedFile</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="s2">".lastModified"</span><span class="p">)</span>
  <span class="n">lastModified</span> <span class="o">=</span> <span class="n">lastModifiedFile</span><span class="p">.</span><span class="nf">read</span><span class="p">.</span><span class="nf">to_i</span>
<span class="k">end</span>
<span class="n">newLastModified</span> <span class="o">=</span> <span class="n">lastModified</span>
<span class="n">isFirst</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">while</span> <span class="n">breakWhile</span>
  <span class="n">app</span> <span class="o">=</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">Tunes</span><span class="o">::</span><span class="n">login</span><span class="p">(</span><span class="no">APPStoreConnect</span> <span class="n">å¸³è™Ÿ</span><span class="p">(</span><span class="no">Email</span><span class="p">),</span> <span class="no">APPStoreConnect</span> <span class="n">å¯†ç¢¼</span><span class="p">)</span>
  <span class="n">reviews</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="nf">get_recent_reviews</span><span class="p">(</span><span class="vg">$app_id</span><span class="p">,</span> <span class="vg">$platform</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">reviews</span><span class="p">.</span><span class="nf">length</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span>
    <span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="k">break</span>
  <span class="k">end</span>
  <span class="n">reviews</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">review</span><span class="o">|</span>
    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">isFirst</span>
      <span class="n">isFirst</span> <span class="o">=</span> <span class="kp">false</span>
      <span class="n">newLastModified</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">][</span><span class="s2">"lastModified"</span><span class="p">]</span>
    <span class="k">end</span>

    <span class="k">if</span> <span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">][</span><span class="s2">"lastModified"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">lastModified</span> <span class="o">&amp;&amp;</span> <span class="n">lastModified</span> <span class="o">!=</span> <span class="mi">0</span>  
      <span class="c1"># ç¬¬ä¸€æ¬¡ä½¿ç”¨ä¸ç™¼é€šçŸ¥</span>
      <span class="n">messages</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">])</span>
    <span class="k">else</span>
      <span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">false</span>
      <span class="k">break</span>
    <span class="k">end</span>
  <span class="p">}</span>
<span class="k">end</span>

<span class="n">messages</span><span class="p">.</span><span class="nf">sort!</span> <span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">|</span>  <span class="n">a</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">]</span> <span class="p">}</span>
<span class="n">messages</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">message</span><span class="o">|</span>
    <span class="n">notify_slack</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>

<span class="no">File</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">".lastModified"</span><span class="p">,</span> <span class="n">newLastModified</span><span class="p">,</span> <span class="ss">mode: </span><span class="s2">"w+"</span><span class="p">)</span>
</pre></table></code></div></div><p>å–®ç´”ç”¨ä¸€å€‹ <code class="language-plaintext highlighter-rouge">.lastModified</code> ç´€éŒ„ä¸Šä¸€æ¬¡åŸ·è¡Œæ™‚æ‹¿åˆ°çš„æ™‚é–“ã€‚</p><p><em>*ç¬¬ä¸€æ¬¡ä½¿ç”¨ä¸ç™¼é€šçŸ¥ï¼Œå¦å‰‡æœƒä¸€æ¬¡ç‹‚å™´</em></p><p><strong>æœ€å¾Œä¸€æ­¥ï¼Œçµ„åˆæ¨æ’­è¨Šæ¯ &amp; ç™¼åˆ° Slackï¼š</strong></p><p>slack.rb:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="c1"># Slack Bot</span>
<span class="k">def</span> <span class="nf">notify_slack</span><span class="p">(</span><span class="n">review</span><span class="p">)</span>
  <span class="n">rating</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"rating"</span><span class="p">].</span><span class="nf">to_i</span>
  <span class="n">color</span> <span class="o">=</span> <span class="n">rating</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="p">?</span> <span class="s2">"good"</span> <span class="p">:</span> <span class="p">(</span><span class="n">rating</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="p">?</span> <span class="s2">"warning"</span> <span class="p">:</span> <span class="s2">"danger"</span><span class="p">)</span>
  <span class="n">like</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"helpfulViews"</span><span class="p">].</span><span class="nf">to_i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="s2">" - </span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"helpfulViews"</span><span class="p">]</span><span class="si">}</span><span class="s2"> :thumbsup:"</span> <span class="p">:</span> <span class="s2">""</span>
  <span class="n">date</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"edited"</span><span class="p">]</span> <span class="o">==</span> <span class="kp">false</span> <span class="p">?</span> <span class="s2">"Created at: </span><span class="si">#{</span><span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">review</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">].</span><span class="nf">to_i</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nf">to_datetime</span><span class="si">}</span><span class="s2">"</span> <span class="p">:</span> <span class="s2">"Updated at: </span><span class="si">#{</span><span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">review</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">].</span><span class="nf">to_i</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nf">to_datetime</span><span class="si">}</span><span class="s2">"</span>
  
    
  <span class="n">isResponse</span> <span class="o">=</span> <span class="s2">""</span>
  <span class="k">if</span> <span class="n">review</span><span class="p">[</span><span class="s2">"developerResponse"</span><span class="p">]</span> <span class="o">!=</span> <span class="kp">nil</span> <span class="o">&amp;&amp;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"developerResponse"</span><span class="p">][</span><span class="s1">'lastModified'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">]</span>
    <span class="n">isResponse</span> <span class="o">=</span> <span class="s2">" (å›è¦†å·²éæ™‚)"</span>
  <span class="k">end</span>
  
  <span class="n">edited</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"edited"</span><span class="p">]</span> <span class="o">==</span> <span class="kp">false</span> <span class="p">?</span> <span class="s2">""</span> <span class="p">:</span> <span class="s2">":memo: ä½¿ç”¨è€…æ›´æ–°è©•è«–</span><span class="si">#{</span><span class="n">isResponse</span><span class="si">}</span><span class="s2">ï¼š"</span>

  <span class="n">stars</span> <span class="o">=</span> <span class="s2">"â˜…"</span> <span class="o">*</span> <span class="n">rating</span> <span class="o">+</span> <span class="s2">"â˜†"</span> <span class="o">*</span> <span class="p">(</span><span class="mi">5</span> <span class="o">-</span> <span class="n">rating</span><span class="p">)</span>
  <span class="n">attachments</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">:pretext</span> <span class="o">=&gt;</span> <span class="n">edited</span><span class="p">,</span>
    <span class="ss">:color</span> <span class="o">=&gt;</span> <span class="n">color</span><span class="p">,</span>
    <span class="ss">:fallback</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"title"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">stars</span><span class="si">}#{</span><span class="n">like</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
    <span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"title"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">stars</span><span class="si">}#{</span><span class="n">like</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
    <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"review"</span><span class="p">],</span>
    <span class="ss">:author_name</span> <span class="o">=&gt;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"nickname"</span><span class="p">],</span>
    <span class="ss">:footer</span> <span class="o">=&gt;</span> <span class="s2">"iOS - v</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"appVersionString"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"storeFront"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">date</span><span class="si">}</span><span class="s2"> - &lt;https://appstoreconnect.apple.com/apps/APP_ID/appstore/activity/ios/ratingsResponses|Go To App Store&gt;"</span>
  <span class="p">}</span>
  <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
   <span class="ss">:attachments</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">attachments</span><span class="p">],</span>
   <span class="ss">:icon_emoji</span> <span class="o">=&gt;</span> <span class="s2">":storm_trooper:"</span><span class="p">,</span>
   <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">"ZhgChgLi iOS Review Bot"</span>
  <span class="p">}.</span><span class="nf">to_json</span>
  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">"curl -X POST --data-urlencode 'payload=</span><span class="si">#{</span><span class="n">payload</span><span class="si">}</span><span class="s2">' SLACK_WEB_HOOK_URL"</span>
  <span class="nb">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="ss">:err</span> <span class="o">=&gt;</span> <span class="no">File</span><span class="o">::</span><span class="no">NULL</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"id"</span><span class="p">]</span><span class="si">}</span><span class="s2"> send Notify Success!"</span>
 <span class="k">end</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">SLACK_WEB_HOOK_URL</code> = <a href="https://slack.com/apps/A0F7XDUAZ-incoming-webhooks" target="_blank"><strong>Incoming WebHook URL</strong></a></p><h3 id="æœ€çµ‚çµæœ"><span class="me-2"><strong>æœ€çµ‚çµæœ</strong></span><a href="#æœ€çµ‚çµæœ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>appreviewbot.rb:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
</pre><td class="rouge-code"><pre><span class="nb">require</span> <span class="s2">"Spaceship"</span>
<span class="nb">require</span> <span class="s1">'json'</span>
<span class="nb">require</span> <span class="s1">'date'</span>

<span class="c1"># Config</span>
<span class="vg">$slack_web_hook</span> <span class="o">=</span> <span class="s2">"ç›®æ¨™é€šçŸ¥çš„ web hook url"</span>
<span class="vg">$slack_debug_web_hook</span> <span class="o">=</span> <span class="s2">"æ©Ÿå™¨äººæœ‰éŒ¯èª¤æ™‚çš„é€šçŸ¥ web hook url"</span>
<span class="vg">$appstore_account</span> <span class="o">=</span> <span class="s2">"APPStoreConnect å¸³è™Ÿ(Email)"</span>
<span class="vg">$appstore_password</span> <span class="o">=</span> <span class="s2">"APPStoreConnect å¯†ç¢¼"</span>
<span class="vg">$app_id</span> <span class="o">=</span> <span class="s2">"APP_ID"</span>
<span class="vg">$platform</span> <span class="o">=</span> <span class="s2">"ios"</span>

<span class="c1"># Extension Spaceship-&gt;TunesClient</span>
<span class="k">module</span> <span class="nn">Spaceship</span>
  <span class="k">class</span> <span class="nc">TunesClient</span> <span class="o">&lt;</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">Client</span>
    <span class="k">def</span> <span class="nf">get_recent_reviews</span><span class="p">(</span><span class="n">app_id</span><span class="p">,</span> <span class="n">platform</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
      <span class="n">r</span> <span class="o">=</span> <span class="n">request</span><span class="p">(</span><span class="ss">:get</span><span class="p">,</span> <span class="s2">"ra/apps/</span><span class="si">#{</span><span class="n">app_id</span><span class="si">}</span><span class="s2">/platforms/</span><span class="si">#{</span><span class="n">platform</span><span class="si">}</span><span class="s2">/reviews?index=</span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">&amp;sort=REVIEW_SORT_ORDER_MOST_RECENT"</span><span class="p">)</span>
      <span class="n">parse_response</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="s1">'data'</span><span class="p">)[</span><span class="s1">'reviews'</span><span class="p">]</span>
     <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># Slack Bot</span>
<span class="k">def</span> <span class="nf">notify_slack</span><span class="p">(</span><span class="n">review</span><span class="p">)</span>
  <span class="n">rating</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"rating"</span><span class="p">].</span><span class="nf">to_i</span>
  <span class="n">color</span> <span class="o">=</span> <span class="n">rating</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="p">?</span> <span class="s2">"good"</span> <span class="p">:</span> <span class="p">(</span><span class="n">rating</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="p">?</span> <span class="s2">"warning"</span> <span class="p">:</span> <span class="s2">"danger"</span><span class="p">)</span>
  <span class="n">like</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"helpfulViews"</span><span class="p">].</span><span class="nf">to_i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="s2">" - </span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"helpfulViews"</span><span class="p">]</span><span class="si">}</span><span class="s2"> :thumbsup:"</span> <span class="p">:</span> <span class="s2">""</span>
  <span class="n">date</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"edited"</span><span class="p">]</span> <span class="o">==</span> <span class="kp">false</span> <span class="p">?</span> <span class="s2">"Created at: </span><span class="si">#{</span><span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">review</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">].</span><span class="nf">to_i</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nf">to_datetime</span><span class="si">}</span><span class="s2">"</span> <span class="p">:</span> <span class="s2">"Updated at: </span><span class="si">#{</span><span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">review</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">].</span><span class="nf">to_i</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nf">to_datetime</span><span class="si">}</span><span class="s2">"</span>
  
    
  <span class="n">isResponse</span> <span class="o">=</span> <span class="s2">""</span>
  <span class="k">if</span> <span class="n">review</span><span class="p">[</span><span class="s2">"developerResponse"</span><span class="p">]</span> <span class="o">!=</span> <span class="kp">nil</span> <span class="o">&amp;&amp;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"developerResponse"</span><span class="p">][</span><span class="s1">'lastModified'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">]</span>
    <span class="n">isResponse</span> <span class="o">=</span> <span class="s2">" (å®¢æœå›è¦†å·²éæ™‚)"</span>
  <span class="k">end</span>
  
  <span class="n">edited</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"edited"</span><span class="p">]</span> <span class="o">==</span> <span class="kp">false</span> <span class="p">?</span> <span class="s2">""</span> <span class="p">:</span> <span class="s2">":memo: ä½¿ç”¨è€…æ›´æ–°è©•è«–</span><span class="si">#{</span><span class="n">isResponse</span><span class="si">}</span><span class="s2">ï¼š"</span>

  <span class="n">stars</span> <span class="o">=</span> <span class="s2">"â˜…"</span> <span class="o">*</span> <span class="n">rating</span> <span class="o">+</span> <span class="s2">"â˜†"</span> <span class="o">*</span> <span class="p">(</span><span class="mi">5</span> <span class="o">-</span> <span class="n">rating</span><span class="p">)</span>
  <span class="n">attachments</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">:pretext</span> <span class="o">=&gt;</span> <span class="n">edited</span><span class="p">,</span>
    <span class="ss">:color</span> <span class="o">=&gt;</span> <span class="n">color</span><span class="p">,</span>
    <span class="ss">:fallback</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"title"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">stars</span><span class="si">}#{</span><span class="n">like</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
    <span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"title"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">stars</span><span class="si">}#{</span><span class="n">like</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
    <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"review"</span><span class="p">],</span>
    <span class="ss">:author_name</span> <span class="o">=&gt;</span> <span class="n">review</span><span class="p">[</span><span class="s2">"nickname"</span><span class="p">],</span>
    <span class="ss">:footer</span> <span class="o">=&gt;</span> <span class="s2">"iOS - v</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"appVersionString"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"storeFront"</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">date</span><span class="si">}</span><span class="s2"> - &lt;https://appstoreconnect.apple.com/apps/APP_ID/appstore/activity/ios/ratingsResponses|Go To App Store&gt;"</span>
  <span class="p">}</span>
  <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
   <span class="ss">:attachments</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">attachments</span><span class="p">],</span>
   <span class="ss">:icon_emoji</span> <span class="o">=&gt;</span> <span class="s2">":storm_trooper:"</span><span class="p">,</span>
   <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">"ZhgChgLi iOS Review Bot"</span>
  <span class="p">}.</span><span class="nf">to_json</span>
  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">"curl -X POST --data-urlencode 'payload=</span><span class="si">#{</span><span class="n">payload</span><span class="si">}</span><span class="s2">' </span><span class="si">#{</span><span class="vg">$slack_web_hook</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="ss">:err</span> <span class="o">=&gt;</span> <span class="no">File</span><span class="o">::</span><span class="no">NULL</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">review</span><span class="p">[</span><span class="s2">"id"</span><span class="p">]</span><span class="si">}</span><span class="s2"> send Notify Success!"</span>
 <span class="k">end</span>

<span class="k">begin</span>
    <span class="n">lastModified</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="no">File</span><span class="p">.</span><span class="nf">exists?</span><span class="p">(</span><span class="s2">".lastModified"</span><span class="p">)</span>
      <span class="n">lastModifiedFile</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="s2">".lastModified"</span><span class="p">)</span>
      <span class="n">lastModified</span> <span class="o">=</span> <span class="n">lastModifiedFile</span><span class="p">.</span><span class="nf">read</span><span class="p">.</span><span class="nf">to_i</span>
    <span class="k">end</span>
    <span class="n">newLastModified</span> <span class="o">=</span> <span class="n">lastModified</span>
    <span class="n">isFirst</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="k">while</span> <span class="n">breakWhile</span>
      <span class="n">app</span> <span class="o">=</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">Tunes</span><span class="o">::</span><span class="n">login</span><span class="p">(</span><span class="vg">$appstore_account</span><span class="p">,</span> <span class="vg">$appstore_password</span><span class="p">)</span>
      <span class="n">reviews</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="nf">get_recent_reviews</span><span class="p">(</span><span class="vg">$app_id</span><span class="p">,</span> <span class="vg">$platform</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">reviews</span><span class="p">.</span><span class="nf">length</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span>
        <span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">false</span>
        <span class="k">break</span>
      <span class="k">end</span>
      <span class="n">reviews</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">review</span><span class="o">|</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">isFirst</span>
          <span class="n">isFirst</span> <span class="o">=</span> <span class="kp">false</span>
          <span class="n">newLastModified</span> <span class="o">=</span> <span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">][</span><span class="s2">"lastModified"</span><span class="p">]</span>
        <span class="k">end</span>

        <span class="k">if</span> <span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">][</span><span class="s2">"lastModified"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">lastModified</span> <span class="o">&amp;&amp;</span> <span class="n">lastModified</span> <span class="o">!=</span> <span class="mi">0</span>  
          <span class="c1"># ç¬¬ä¸€æ¬¡ä½¿ç”¨ä¸ç™¼é€šçŸ¥</span>
          <span class="n">messages</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">review</span><span class="p">[</span><span class="s2">"value"</span><span class="p">])</span>
        <span class="k">else</span>
          <span class="n">breakWhile</span> <span class="o">=</span> <span class="kp">false</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="p">}</span>
    <span class="k">end</span>
    
    <span class="n">messages</span><span class="p">.</span><span class="nf">sort!</span> <span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">|</span>  <span class="n">a</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">[</span><span class="s2">"lastModified"</span><span class="p">]</span> <span class="p">}</span>
    <span class="n">messages</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">message</span><span class="o">|</span>
        <span class="n">notify_slack</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="no">File</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">".lastModified"</span><span class="p">,</span> <span class="n">newLastModified</span><span class="p">,</span> <span class="ss">mode: </span><span class="s2">"w+"</span><span class="p">)</span>
<span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">error</span>
    <span class="n">attachments</span> <span class="o">=</span> <span class="p">{</span>
        <span class="ss">:color</span> <span class="o">=&gt;</span> <span class="s2">"danger"</span><span class="p">,</span>
        <span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s2">"AppStoreReviewBot Error occurs!"</span><span class="p">,</span>
        <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">error</span><span class="p">,</span>
        <span class="ss">:footer</span> <span class="o">=&gt;</span> <span class="s2">"*å› è˜‹æœæŠ€è¡“é™åˆ¶ï¼Œç²¾æº–è©•åƒ¹çˆ¬å–åŠŸèƒ½ç´„æ¯ä¸€å€‹æœˆéœ€è¦é‡æ–°ç™»å…¥è¨­å®šï¼Œæ•¬è«‹è¦‹è«’ã€‚"</span>
    <span class="p">}</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="ss">:attachments</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">attachments</span><span class="p">],</span>
        <span class="ss">:icon_emoji</span> <span class="o">=&gt;</span> <span class="s2">":storm_trooper:"</span><span class="p">,</span>
        <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">"ZhgChgLi iOS Review Bot"</span>
    <span class="p">}.</span><span class="nf">to_json</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="s2">"curl -X POST --data-urlencode 'payload=</span><span class="si">#{</span><span class="n">payload</span><span class="si">}</span><span class="s2">' </span><span class="si">#{</span><span class="vg">$slack_debug_web_hook</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="ss">:err</span> <span class="o">=&gt;</span> <span class="no">File</span><span class="o">::</span><span class="no">NULL</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="n">error</span>
<span class="k">end</span>
</pre></table></code></div></div><p>å¦å¤–é‚„åŠ ä¸Šäº† beginâ€¦rescue (tryâ€¦catch) ä¿è­·ï¼Œå¦‚æœæœ‰å‡ºç¾éŒ¯èª¤å‰‡ç™¼ Slack é€šçŸ¥æˆ‘å€‘å›ä¾†æª¢æŸ¥ï¼ˆå¤šåŠæ˜¯ session éæœŸï¼‰ã€‚</p><blockquote><p><strong><em>æœ€å¾Œåªè¦å°‡æ­¤è…³æœ¬åŠ åˆ° crontab / schedule ç­‰æ’ç¨‹å·¥å…·å®šæ™‚åŸ·è¡Œå³å¯ï¼</em></strong></p></blockquote><p><strong>æ•ˆæœåœ–ï¼š</strong></p><p><a href="/assets/cb0c68c33994/1*B0xW1CXU-avz2j8_ny3Ang.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*B0xW1CXU-avz2j8_ny3Ang.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTQiIGhlaWdodD0iMTMwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h3 id="å…è²»çš„å…¶ä»–é¸æ“‡"><span class="me-2">å…è²»çš„å…¶ä»–é¸æ“‡</span><a href="#å…è²»çš„å…¶ä»–é¸æ“‡" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li><a href="https://appfollow.io/" target="_blank">AppFollow</a> ï¼šä½¿ç”¨ Public URL API (RSS)ï¼Œåªèƒ½èªªå ªç”¨å§ã€‚<li><a href="https://feedis.io/product/proxime/features" target="_blank">feedis.io</a> ï¼šä½¿ç”¨ Private URL APIï¼Œéœ€è¦æŠŠå¸³è™Ÿå¯†ç¢¼çµ¦ä»–å€‘ã€‚<li><a href="https://github.com/TradeMe/ReviewMe" target="_blank">TradeMe/ReviewMe</a> ï¼šè‡ªæ¶æœå‹™(node.js)ï¼Œæˆ‘å€‘åŸå…ˆç”¨é€™å€‹ï¼Œä½†é‡åˆ°å‰è¿°å•é¡Œã€‚<li><a href="https://github.com/saiday/JonSnow" target="_blank">JonSnow</a> ï¼šè‡ªæ¶æœå‹™(GO)ï¼Œæ”¯æ´ä¸€éµéƒ¨ç½²åˆ° herokuï¼Œä½œè€…ï¼š <a href="https://twitter.com/saiday" target="_blank">@saiday</a></ol><h3 id="æº«é¦¨æç¤º"><span class="me-2">æº«é¦¨æç¤º</span><a href="#æº«é¦¨æç¤º" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>1.âš ï¸Private URL API æ–¹æ³•ï¼Œå¦‚æœç”¨æœ‰äºŒéšæ®µé©—è­‰çš„å¸³è™Ÿï¼Œæœ€é•·æ¯ 30 å¤©éƒ½éœ€è¦é‡æ–°é©—è­‰æ‰èƒ½ä½¿ç”¨ä¸”ç›®å‰ç„¡è§£ï¼›å¦‚æœæœ‰è¾¦æ³•ç”Ÿå‡ºæ²’äºŒéšæ®µçš„å¸³è™Ÿå°±å¯ä»¥ç„¡ç—›çˆ½çˆ½ç”¨ã€‚</p><p><a href="/assets/cb0c68c33994/1*EE2J5HmdiIogMwC3Iiy0KA.webp" class="popup img-link blur"><img data-src="/assets/cb0c68c33994/1*EE2J5HmdiIogMwC3Iiy0KA.webp" alt="[#important-note-about-session-duration](https://docs.fastlane.tools/best-practices/continuous-integration/#important-note-about-session-duration){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAyIiBoZWlnaHQ9IjcxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="https://docs.fastlane.tools/best-practices/continuous-integration/#important-note-about-session-duration" target="_blank">#important-note-about-session-duration</a></p><p>2.âš ï¸ä¸è«–æ˜¯å…è²»ã€ä»˜è²»ã€æœ¬æ–‡çš„è‡ªæ¶ï¼›åˆ‡å‹¿ä½¿ç”¨é–‹ç™¼è€…å¸³è™Ÿï¼Œå‹™å¿…é–‹ä¸€å€‹ç¨ç«‹çš„ App Store Connect å¸³è™Ÿä½¿ç”¨ï¼Œæ¬Šé™åªé–‹æ”¾ã€ŒCustomer Supportã€ï¼›é˜²æ­¢è³‡å®‰å•é¡Œã€‚</p><p>3.Ruby å»ºè­°ä½¿ç”¨ <a href="https://gist.github.com/sandyxu/8aceec7e436a6ab9621f" target="_blank">rbenv</a> é€²è¡Œç®¡ç†ï¼Œå› ç³»çµ±è‡ªå¸¶ 2.6 ç‰ˆå®¹æ˜“é€ æˆè¡çªã€‚</p><p>4.åœ¨ macOS Catalina å¦‚é‡åˆ° GEMã€Ruby ç’°å¢ƒéŒ¯èª¤å•é¡Œï¼Œå¯åƒè€ƒ <a href="https://github.com/orta/cocoapods-keys/issues/198#issuecomment-510909030" target="_blank">æ­¤å›è¦†</a> è§£æ±ºã€‚</p><h3 id="problem-solved"><span class="me-2">Problem Solved!</span><a href="#problem-solved" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ç¶“éä»¥ä¸Šå¿ƒè·¯æ­·ç¨‹ï¼Œæ›´ç­è§£çš„ Slack Bot çš„é‹ä½œæ–¹å¼ï¼›é‚„æœ‰ iOS App Store æ˜¯å¦‚ä½•çˆ¬å–è©•åƒ¹å…§å®¹çš„ï¼Œå¦å¤–ä¹Ÿæ‘¸äº†ä¸‹ rubyï¼å¯«èµ·ä¾†çœŸä¸éŒ¯ï¼</p><p>æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ <a href="https://www.zhgchg.li/contact" target="_blank">èˆ‡æˆ‘è¯çµ¡</a> ã€‚</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.lihttps://zhgchg.li/posts/zrealm-dev/appstore-%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4-slack-bot-%E6%95%99%E5%AD%B8-%E7%94%A8-ruby-fastlane-%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96-cb0c68c33994/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">ğŸ”—</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">ğŸº Buy me a beer on PayPal</a></p><blockquote class="prompt-info"><p>æœ¬æ–‡é¦–æ¬¡ç™¼è¡¨æ–¼ Medium (<a href="https://medium.com/p/cb0c68c33994" target="_blank"><strong>é»æ­¤æŸ¥çœ‹åŸå§‹ç‰ˆæœ¬</strong></a>)ï¼Œç”± <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> æä¾›è‡ªå‹•è½‰æ›èˆ‡åŒæ­¥æŠ€è¡“ã€‚</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2021-04-21-cb0c68c33994.md" target="_blank">Improve this page on Github.</a></p></blockquote><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1,050+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/slackbot/" class="post-tag no-text-decoration" >slackbot</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/ruby/" class="post-tag no-text-decoration" >ruby</a> <a href="/tags/fastlane/" class="post-tag no-text-decoration" >fastlane</a> <a href="/tags/automator/" class="post-tag no-text-decoration" >automator</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=AppStore%20%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4%20Slack%20Bot%20%E6%95%99%E5%AD%B8%EF%BD%9C%E7%94%A8%20Ruby%20+%20Fastlane%20%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fappstore-%25E8%25A9%2595%25E5%2583%25B9%25E8%25BF%25BD%25E8%25B9%25A4-slack-bot-%25E6%2595%2599%25E5%25AD%25B8-%25E7%2594%25A8-ruby-fastlane-%25E8%2587%25AA%25E5%258B%2595%25E9%2580%259A%25E7%259F%25A5%25E6%259C%2580%25E6%2596%25B0%25E8%25A9%2595%25E8%25AB%2596-cb0c68c33994%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=AppStore%20%E8%A9%95%E5%83%B9%E8%BF%BD%E8%B9%A4%20Slack%20Bot%20%E6%95%99%E5%AD%B8%EF%BD%9C%E7%94%A8%20Ruby%20+%20Fastlane%20%E8%87%AA%E5%8B%95%E9%80%9A%E7%9F%A5%E6%9C%80%E6%96%B0%E8%A9%95%E8%AB%96%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fappstore-%25E8%25A9%2595%25E5%2583%25B9%25E8%25BF%25BD%25E8%25B9%25A4-slack-bot-%25E6%2595%2599%25E5%25AD%25B8-%25E7%2594%25A8-ruby-fastlane-%25E8%2587%25AA%25E5%258B%2595%25E9%2580%259A%25E7%259F%25A5%25E6%259C%2580%25E6%2596%25B0%25E8%25A9%2595%25E8%25AB%2596-cb0c68c33994%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fappstore-%25E8%25A9%2595%25E5%2583%25B9%25E8%25BF%25BD%25E8%25B9%25A4-slack-bot-%25E6%2595%2599%25E5%25AD%25B8-%25E7%2594%25A8-ruby-fastlane-%25E8%2587%25AA%25E5%258B%2595%25E9%2580%259A%25E7%259F%25A5%25E6%259C%2580%25E6%2596%25B0%25E8%25A9%2595%25E8%25AB%2596-cb0c68c33994%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/">CI/CD ä½¿ç”¨ App Store Connect API Webhook ä¸²æ¥è‡ªå‹•åŒ–å·¥ä½œæµç¨‹</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/">CI/CD å¯¦æˆ°æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šCI/CD æ˜¯ä»€éº¼ï¼Ÿå¦‚ä½•é€é CI/CD æ‰“é€ ç©©å®šé«˜æ•ˆçš„é–‹ç™¼åœ˜éšŠï¼Ÿå·¥å…·é¸æ“‡ï¼Ÿ</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%A8%82%E8%A1%A8%E5%96%AE%E6%8F%90%E5%8D%87%E9%96%8B%E7%99%BC%E6%95%88%E7%8E%87-4cb4437818f2/">ä½¿ç”¨ Google Apps Script Web App è¡¨å–®ä¸²æ¥ Github Action CI/CD å·¥ä½œ</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-robotic-process-automation/github-action-%E5%85%8D%E8%B2%BB%E9%83%A8%E7%BD%B2-zreviewtender-app-%E5%95%86%E5%9F%8E%E8%A9%95%E5%83%B9%E7%9B%A3%E6%8E%A7%E6%A9%9F%E5%99%A8%E4%BA%BA-%E4%B8%89%E6%AD%A5%E9%A9%9F%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-0095528cf875/">Quick Start! Github Action x ZReviewTender å…è²»å¿«é€Ÿéƒ¨ç½²ä½ çš„ App å•†åŸè©•åƒ¹ç›£æ§æ©Ÿå™¨äºº</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-timer-%E8%88%87-dispatchsourcetimer-%E9%81%B8%E6%93%87%E8%88%87%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%9D%E6%8A%80%E5%B7%A7-%E6%9C%89%E9%99%90%E7%8B%80%E6%85%8B%E6%A9%9F%E9%98%B2%E6%AD%A2%E9%96%83%E9%80%80-62f68ebeecd3/">iOS Timer èˆ‡ DispatchSourceTimer å¦‚ä½•é¸æ“‡èˆ‡å®‰å…¨çš„ä½¿ç”¨?</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">é–‹ç®±</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Chapters ğŸ”–</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/zreviewsbot-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-slack-app-review-%E8%A9%95%E5%83%B9%E9%80%9A%E7%9F%A5%E6%A9%9F%E5%99%A8%E4%BA%BA-ios-android-%E9%9B%99%E5%B9%B3%E5%8F%B0%E6%94%AF%E6%8F%B4-33f6aabb744f/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1620222679" data-df="ll" > May 5, 2021 </time><h4 class="pt-0 my-2">ZReviewsBotâ€Šâ€”â€ŠSlack App Review é€šçŸ¥æ©Ÿå™¨äºº</h4><div class="text-muted"><p></p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1766826121" data-df="ll" > Dec 27, 2025 </time><h4 class="pt-0 my-2">CI/CD ä½¿ç”¨ App Store Connect API Webhook ä¸²æ¥è‡ªå‹•åŒ–å·¥ä½œæµç¨‹</h4><div class="text-muted"><p>App Store Connect Webhook æ‡‰ç”¨æ¡ˆä¾‹åˆ†æèˆ‡å¯¦éš›ä¸²æ¥ä½¿ç”¨æ•™å­¸ã€‚</p></div></div></a></article><article class="col"> <a href="/posts/kkday-tech-blog/wkwebview-%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F%E5%AF%A6%E6%88%B0-builder-strategy-%E8%88%87%E8%B2%AC%E4%BB%BB%E9%8F%88%E6%A8%A1%E5%BC%8F%E6%9C%80%E4%BD%B3%E6%87%89%E7%94%A8%E6%8A%80%E5%B7%A7-f4b02ee342a4/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1725601667" data-df="ll" > Sep 6, 2024 </time><h4 class="pt-0 my-2">Design Patterns çš„å¯¦æˆ°æ‡‰ç”¨ç´€éŒ„â€”In WKWebView with Builder, Strategy & Chain of Responsibility Pattern</h4><div class="text-muted"><p>å°è£ iOS WKWebView æ™‚ä½¿ç”¨åˆ°çš„ Design Patterns å ´æ™¯ (ç­–ç•¥ã€è²¬ä»»éˆã€å»ºé€ æ¨¡å¼)ã€‚</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/firebase-firestore-functions-%E5%BF%AB%E9%80%9F%E6%89%93%E9%80%A0%E6%B8%AC%E8%A9%A6%E7%94%A8-api-%E6%9C%8D%E5%8B%99%E6%95%99%E5%AD%B8%E8%88%87%E6%8E%A8%E6%92%AD%E7%B5%B1%E8%A8%88%E5%AF%A6%E4%BD%9C-9659db1357e4/" class="btn btn-outline-primary" aria-label="Older" ><p>Firebase Firestoreï½œFunctions å¿«é€Ÿæ‰“é€ æ¸¬è©¦ç”¨ API æœå‹™æ•™å­¸èˆ‡æ¨æ’­çµ±è¨ˆå¯¦ä½œ</p></a> <a href="/posts/zrealm-dev/zreviewsbot-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-slack-app-review-%E8%A9%95%E5%83%B9%E9%80%9A%E7%9F%A5%E6%A9%9F%E5%99%A8%E4%BA%BA-ios-android-%E9%9B%99%E5%B9%B3%E5%8F%B0%E6%94%AF%E6%8F%B4-33f6aabb744f/" class="btn btn-outline-primary" aria-label="Newer" ><p>ZReviewsBotâ€Šâ€”â€ŠSlack App Review é€šçŸ¥æ©Ÿå™¨äºº</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Â© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span> <br/> Last updated: 2025-12-28 22:04:30 +08:00</p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">é–‹ç®±</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="watchOS 5 æ‰‹æŠŠæ‰‹é–‹ç™¼Apple Watch App å¾ç„¡åˆ°æœ‰" /><meta property="og:description" content="watchOS 5 æ‰‹æŠŠæ‰‹é–‹ç™¼Apple Watch App å¾ç„¡åˆ°æœ‰" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/%E5%8B%95%E6%89%8B%E5%81%9A%E4%B8%80%E6%94%AF-apple-watch-app-%E5%90%A7-e85d77b05061/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/%E5%8B%95%E6%89%8B%E5%81%9A%E4%B8%80%E6%94%AF-apple-watch-app-%E5%90%A7-e85d77b05061/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-02-06T00:23:30+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" /><meta property="twitter:title" content="å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://medium.com/@zhgchgli/"},"dateModified":"2024-04-13T15:37:01+08:00","datePublished":"2019-02-06T00:23:30+08:00","description":"watchOS 5 æ‰‹æŠŠæ‰‹é–‹ç™¼Apple Watch App å¾ç„¡åˆ°æœ‰","headline":"å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU0OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg==","url":"https://zhgchg.li/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/%E5%8B%95%E6%89%8B%E5%81%9A%E4%B8%80%E6%94%AF-apple-watch-app-%E5%90%A7-e85d77b05061/"},"url":"https://zhgchg.li/posts/zrealm-dev/%E5%8B%95%E6%89%8B%E5%81%9A%E4%B8%80%E6%94%AF-apple-watch-app-%E5%90%A7-e85d77b05061/"}</script><title>å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼ | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0"> <a href="https://medium.com/@zhgchgli" target="_blank" style="display: block;text-align: center;font-style: normal;/* text-decoration: underline; */font-size: 1.2em;color: var(--heading-color);">1K+ Followers on Medium</a> An iOS, web, and automation developer from Taiwan ğŸ‡¹ğŸ‡¼ who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼</h1><p class="post-desc fw-light mb-4">watchOS 5 æ‰‹æŠŠæ‰‹é–‹ç™¼Apple Watch App å¾ç„¡åˆ°æœ‰</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1549383810" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 6, 2019 </time> </span> <span> Updated <time data-ts="1712993821" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" class="popup img-link preview-img blur"><img data-src="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU0OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://medium.com/@zhgchgli/">ZhgChgLi</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="4997 words" > <em>27 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill-width" height="50" autoscale="on"></widgetic> <script async="" src="https://widgetic.com/sdk/sdk.js"></script><h3 id="å‹•æ‰‹åšä¸€æ”¯-apple-watch-app-å§swift"><span class="me-2">å‹•æ‰‹åšä¸€æ”¯ Apple Watch App å§ï¼(Swift)</span><a href="#å‹•æ‰‹åšä¸€æ”¯-apple-watch-app-å§swift" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>watchOS 5 æ‰‹æŠŠæ‰‹é–‹ç™¼Apple Watch App å¾ç„¡åˆ°æœ‰</p><h4 id="æœ€æ–°-apple-watch-series-6-é–‹ç®±ä½¿ç”¨å…©å¹´é«”é©—å¿ƒå¾—-é»æˆ‘å‰å¾€"><span class="me-2"><a href="/posts/eab0e984043/">[æœ€æ–°] Apple Watch Series 6 é–‹ç®±ï¼†ä½¿ç”¨å…©å¹´é«”é©—å¿ƒå¾— &gt;&gt;&gt;é»æˆ‘å‰å¾€</a></span><a href="#æœ€æ–°-apple-watch-series-6-é–‹ç®±ä½¿ç”¨å…©å¹´é«”é©—å¿ƒå¾—-é»æˆ‘å‰å¾€" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h3 id="å‰è¨€"><span class="me-2">å‰è¨€:</span><a href="#å‰è¨€" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>æš¨ä¸Šä¸€ç¯‡ <a href="/posts/a2920e33e73e/">Apple Watch å…¥æ‰‹é–‹ç®±æ–‡</a> å¾Œå·²ç¶“éäº†å¿«ä¸‰å€‹æœˆï¼Œæœ€è¿‘çµ‚æ–¼æ‰¾åˆ°æ©Ÿæœƒç ”ç©¶é–‹ç™¼Apple Watch Appå•¦ã€‚</p><p><a href="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*aNqsa7aR3Vi3NIIvaUFZLA.webp" alt="[çµå©šå§ â€” æœ€å¤§å©šç¦®ç±Œå‚™App](https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329#?platform=appleWatch){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU0OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><a href="https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E4%B8%8D%E6%89%BE%E6%9C%80%E8%B2%B4-%E5%8F%AA%E6%89%BE%E6%9C%80%E5%B0%8D/id1356057329#?platform=appleWatch" target="_blank">çµå©šå§ â€” æœ€å¤§å©šç¦®ç±Œå‚™App</a></p><p>è£œä¸€ä¸‹ä½¿ç”¨ä¸‰å€‹æœˆå¾Œçš„å¿ƒå¾—ï¼š 1. e-sim(LTE)ä¾ç„¶é‚„æƒ³ä¸åˆ°ä»€éº¼æ™‚å€™æœƒç”¨åˆ°ï¼Œæ‰€ä»¥ä¹Ÿé‚„æ²’ç”³è«‹æ²’ç”¨é 2.å¸¸ç”¨åŠŸèƒ½ï¼šé è¿‘è§£é–Macé›»è…¦ã€èˆ‰æ‰‹æŸ¥çœ‹é€šçŸ¥ã€Apple Pay 3.å¥åº·æé†’ï¼šéäº†ä¸‰å€‹æœˆå·²é–‹å§‹æ‡¶äº†ï¼Œé€šçŸ¥æé†’éƒ½çœ‹çœ‹ï¼Œæ²’é”æˆåœ“åœˆä¹Ÿç„¡æ„Ÿ 4.ç¬¬ä¸‰æ–¹Appæ”¯æ´åº¦ä¾ç„¶å¾ˆå·® 5.éŒ¶é¢å¯ä¾ç…§å¿ƒæƒ…ä»»æ„æ›´æ›å¢åŠ æ–°é®®æ„Ÿ 6.æ›´è©³ç´°çš„é‹å‹•ç´€éŒ„ï¼šä¾‹å¦‚èµ°é ä¸€é»è·¯å»è²·æ™šé¤ï¼Œæ‰‹éŒ¶æœƒè‡ªå‹•åµæ¸¬è©¢å•æ˜¯å¦è¦è¨˜éŒ„é‹å‹•</p><p>ä½¿ç”¨ä¸‰å€‹æœˆå¾Œæ•´é«”ä¾†èªªï¼Œé‚„æ˜¯å¦‚åŸé–‹ç®±æ–‡æ‰€å¯«å°±åƒæ˜¯å¤šå€‹ç”Ÿæ´»å°åŠ©æ‰‹ï¼Œå¹«ä½ è§£æ±ºç‘£ç¢çš„äº‹ï¼</p><h3 id="ç¬¬ä¸‰æ–¹appæ”¯æ´åº¦ä¾ç„¶å¾ˆå·®"><span class="me-2">ç¬¬ä¸‰æ–¹Appæ”¯æ´åº¦ä¾ç„¶å¾ˆå·®</span><a href="#ç¬¬ä¸‰æ–¹appæ”¯æ´åº¦ä¾ç„¶å¾ˆå·®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>åœ¨æˆ‘å¯¦éš›é–‹ç™¼éApple Watch Appä¹‹å‰é‚„å¾ˆç´æ‚¶ï¼Œç‚ºä½•Apple Watchä¸Šçš„Appéƒ½å¾ˆé™½æ˜¥ç”šè‡³å°±åªæ˜¯ã€Œå ªç”¨ã€ç½·äº†ï¼ŒåŒ…æ‹¬LINE(è¨Šæ¯ä¸åŒæ­¥è€Œä¸”å¾æœªæ›´æ–°)ã€Messenger(å°±æ˜¯å ªç”¨)ï¼›ç›´åˆ°æˆ‘å¯¦éš›é–‹ç™¼éApple Watch Appä¹‹å¾Œæ‰çŸ¥é“é€™äº›é–‹ç™¼è€…çš„è‹¦è¡·â€¦.</p><h3 id="é¦–å…ˆäº†è§£apple-watch-appçš„å®šä½åŒ–ç¹ç‚ºç°¡"><span class="me-2">é¦–å…ˆï¼Œäº†è§£Apple Watch Appçš„å®šä½ï¼ŒåŒ–ç¹ç‚ºç°¡</span><a href="#é¦–å…ˆäº†è§£apple-watch-appçš„å®šä½åŒ–ç¹ç‚ºç°¡" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Apple Watchçš„å®šä½ <strong>ã€Œä¸æ˜¯å–ä»£iPhoneï¼Œè€Œæ˜¯è¼”åŠ©ã€</strong> ä¸è«–æ˜¯å®˜æ–¹ä»‹ç´¹ã€å®˜æ–¹Appã€watchOS APIéƒ½æ˜¯é€™å€‹èµ°å‘ï¼›æ‰€ä»¥æ‰æœƒè¦ºå¾—ç¬¬ä¸‰æ–¹APPå¾ˆé™½æ˜¥ã€åŠŸèƒ½å¾ˆå°‘(æŠ±æ­‰ï¼Œæˆ‘å¤ªè²ªå¿ƒäº†Orz)</p><p>ä»¥ <a href="https://itunes.apple.com/tw/app/%E7%B5%90%E5%A9%9A%E5%90%A7-%E6%9C%80%E5%A4%A7%E5%A9%9A%E7%A6%AE%E7%B1%8C%E5%82%99app/id1356057329?mt=8" target="_blank">æˆ‘å€‘çš„A</a> ppç‚ºä¾‹ï¼Œæœ‰æœå°‹å•†å®¶ã€æŸ¥çœ‹å°ˆæ¬„ã€è¨è«–å€ã€ç·šä¸Šè©¢å•â€¦ç­‰ç­‰åŠŸèƒ½ï¼›ç·šä¸Šè©¢å•å°±æ˜¯æœ‰åƒ¹å€¼æ¬ä¸ŠApple Watchçš„é …ç›®ï¼Œå› ç‚ºä»–éœ€è¦å³æ™‚æ€§è€Œä¸”æ›´å¿«é€Ÿçš„å›è¦†ä»£è¡¨æ›´æœ‰æ©Ÿæœƒç²å¾—è¨‚å–®ï¼›æœå°‹å•†å®¶ã€æŸ¥çœ‹å°ˆæ¬„ã€è¨è«–å€é€™äº›åŠŸèƒ½ç›¸å°è¤‡é›œï¼Œåœ¨æ‰‹éŒ¶ä¸Šå°±ç®—åšçš„åˆ°ä¹Ÿæ„ç¾©ä¸å¤§(è¢å¹•èƒ½å‘ˆç¾çš„è³‡è¨Šå¤ªå°‘ã€ä¹Ÿä¸éœ€è¦å³æ™‚æ€§)</p><p>æ ¸å¿ƒæ¦‚å¿µé‚„æ˜¯ã€Œä»¥è¼”åŠ©ç‚ºä¸»ã€ï¼Œæ‰€ä»¥ä¸¦ä¸æ˜¯ä»€éº¼åŠŸèƒ½éƒ½éœ€è¦æ¬ä¸ŠApple Watchï¼›ç•¢ç«Ÿä½¿ç”¨è€…å¾ˆå°‘å¾ˆå°‘æ™‚é–“æœƒæ˜¯åªæœ‰æˆ´æ‰‹éŒ¶æ²’å¸¶æ‰‹æ©Ÿï¼Œè€Œé‡åˆ°é€™ç¨®æƒ…æ³æ™‚ï¼Œä½¿ç”¨è€…çš„éœ€æ±‚ä¹Ÿåªæœ‰é‡è¦çš„åŠŸèƒ½(åƒæŸ¥çœ‹å°ˆæ¬„æ–‡ç« é€™ç¨®æ²’æœ‰é‡è¦åˆ°ä¸€å®šè¦ç«‹åˆ»é¦¬ä¸Šç”¨æ‰‹éŒ¶çœ‹)</p><h3 id="è®“æˆ‘å€‘é–‹å§‹å§"><span class="me-2">è®“æˆ‘å€‘é–‹å§‹å§ï¼</span><a href="#è®“æˆ‘å€‘é–‹å§‹å§" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><strong><em>é€™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡é–‹ç™¼Apple Watch Appï¼Œæ–‡ç« å…§å®¹å¯èƒ½ä¸å¤ æ·±å…¥ï¼Œæ•¬è«‹å¤§å®¶æŒ‡æ•™ï¼ï¼</em></strong></p></blockquote><blockquote><p><strong><em>æœ¬ç¯‡åªé©åˆæœ‰é–‹ç™¼éiOS App/UIKitåŸºç¤çš„è®€è€…é–±è®€</em></strong></p></blockquote><blockquote><p><strong><em>æœ¬ç¯‡ä½¿ç”¨ï¼šiOS â‰¥ 9ã€watchOS â‰¥ 5</em></strong></p></blockquote><h4 id="ç‚ºioså°ˆæ¡ˆæ–°å»º-watchos-target"><span class="me-2">ç‚ºiOSå°ˆæ¡ˆæ–°å»º watchOS Target:</span><a href="#ç‚ºioså°ˆæ¡ˆæ–°å»º-watchos-target" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*yxwki7mCbfJbEfsTDM683A.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*yxwki7mCbfJbEfsTDM683A.webp" alt="File -&gt; New -&gt; Target -&gt; watchOS -&gt; WatchKit App" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9Ijg2NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>File -&gt; New -&gt; Target -&gt; watchOS -&gt; WatchKit App</p><p><em>*Apple Watch Appç„¡æ³•ç¨ç«‹å®‰è£ï¼Œä¸€å®šè¦ä¾é™„åœ¨ iOS App ä¹‹ä¸‹</em></p><p>æ–°å»ºå¥½ä¹‹å¾Œç›®éŒ„æœƒé•·é€™æ¨£ï¼š</p><p><a href="/assets/e85d77b05061/1*WIjSrYl5Hch0mGIjlNbyFQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*WIjSrYl5Hch0mGIjlNbyFQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OTYiIGhlaWdodD0iNDM4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>ä½ æœƒç™¼ç¾æœ‰å…©å€‹Targeté …ç›®ï¼Œç¼ºä¸€ä¸å¯ï¼š</p><ol><li>WatchKit App: è² è²¬å­˜æ”¾è³‡æºã€UIé¡¯ç¤º /Interface.storyboardï¼šåŒ iOSï¼Œè£¡é¢æœ‰ç³»çµ±é è¨­å»ºç«‹çš„è¦–åœ–æ§åˆ¶å™¨ /Assets.xcassetsï¼šåŒ iOSï¼Œå­˜æ”¾ç”¨åˆ°çš„è³‡æºé …ç›® /info.plistï¼šåŒ iOSï¼ŒWatchKit App ç›¸é—œè¨­å®š<li>WatchKit Extension: è² è²¬ç¨‹å¼å‘¼å«ã€é‚è¼¯è™•ç†( * .swift) /InterfaceController.swiftï¼šé è¨­çš„è¦–åœ–æ§åˆ¶å™¨ç¨‹å¼ /ExtensionDelegate.swiftï¼šé¡ä¼¼Swiftçš„AppDelegateï¼ŒApple Watch App å•Ÿå‹•å…¥å£ /NotificationController.swiftï¼šç”¨æ–¼è™•ç†Apple Watch Appä¸Šçš„æ¨æ’­é¡¯ç¤º /Assets.xcassetsï¼šé€™è£¡ä¸ä½¿ç”¨ï¼Œæˆ‘çµ±ä¸€æ”¾åœ¨WatchKit Appçš„Assets.xcassetsä¸‹ /info.plistï¼šåŒ iOSï¼ŒWatchKit Extension ç›¸é—œè¨­å®š /PushNotificationPayload.apnsï¼šæ¨æ’­è³‡æ–™ï¼Œå¯ç”¨åœ¨æ¨¡æ“¬å™¨ä¸Šæ¸¬è©¦æ¨æ’­åŠŸèƒ½</ol><p>ç´°ç¯€æœƒåœ¨å¾Œé¢åšä»‹ç´¹ï¼Œå…ˆå¤§æ¦‚äº†è§£ä¸€ä¸‹ç›®éŒ„åŠæ–‡ä»¶å…§å®¹åŠŸèƒ½å³å¯ã€‚</p><h4 id="è¦–åœ–æ§åˆ¶å™¨"><span class="me-2">è¦–åœ–æ§åˆ¶å™¨ï¼š</span><a href="#è¦–åœ–æ§åˆ¶å™¨" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>åœ¨AppleWatchä¸­è¦–åœ–æ§åˆ¶å™¨ä¸å«ViewControllerè€Œæ˜¯InterfaceController</strong> ï¼Œä½ å¯ä»¥åœ¨WatchKit App/Interface.storyboardä¸­æ‰¾åˆ°Interface Controller Scenceï¼Œæ§åˆ¶å®ƒçš„ç¨‹å¼å°±æ”¾åœ¨WatchKit Extension/InterfaceController.swiftä¸­(åŒiOSæ¦‚å¿µ)</p><p><a href="/assets/e85d77b05061/1*2ibd9b4yaRGxwSpgKMdyUw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*2ibd9b4yaRGxwSpgKMdyUw.webp" alt="Sceneé è¨­æœƒå’ŒNotification Controller Sceneæ“ åœ¨ä¸€èµ· (æˆ‘æœƒæŠŠå®ƒæ‹‰ä¸Šé¢ä¸€é»åˆ†é–‹)" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjYwOSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Sceneé è¨­æœƒå’ŒNotification Controller Sceneæ“ åœ¨ä¸€èµ· (æˆ‘æœƒæŠŠå®ƒæ‹‰ä¸Šé¢ä¸€é»åˆ†é–‹)</p><p>å¯åœ¨å³æ–¹è¨­å®šInterfaceControllerçš„æ¨™é¡Œé¡¯ç¤ºæ–‡å­—ï¼</p><p>æ¨™é¡Œé¡è‰²éƒ¨åˆ†åƒçš„æ˜¯Interface Builder Document/Global hintè¨­å®šï¼Œæ•´å€‹Appçš„é¢¨æ ¼é¡è‰²æœƒæ˜¯çµ±ä¸€çš„ï¼</p><p><a href="/assets/e85d77b05061/1*ZcS9q4gNSBo6MZLp1eITeA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*ZcS9q4gNSBo6MZLp1eITeA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NzkiIGhlaWdodD0iNzIxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="å…ƒä»¶åº«"><span class="me-2">å…ƒä»¶åº«ï¼š</span><a href="#å…ƒä»¶åº«" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*Armv40CxLqJ1wlbMI_o1oQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*Armv40CxLqJ1wlbMI_o1oQ.webp" alt="æ²’æœ‰å¤ªå¤šè¤‡é›œçš„å…ƒä»¶ï¼Œå…ƒä»¶åŠŸèƒ½ä¹Ÿéƒ½ç°¡å–®æ˜ç­" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDQiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>æ²’æœ‰å¤ªå¤šè¤‡é›œçš„å…ƒä»¶ï¼Œå…ƒä»¶åŠŸèƒ½ä¹Ÿéƒ½ç°¡å–®æ˜ç­</p><h4 id="ui-æ’ç‰ˆ"><span class="me-2">UI æ’ç‰ˆï¼š</span><a href="#ui-æ’ç‰ˆ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>è¬ä¸ˆé«˜æ¨“å¾Viewèµ·ï¼Œæ’ç‰ˆçš„éƒ¨åˆ†æ²’æœ‰ UIKit(iOS) ä¸­çš„Auto Layoutã€ç´„æŸã€åœ–å±¤ï¼Œå…¨éƒ½ä½¿ç”¨åƒæ•¸é€²è¡Œæ’ç‰ˆè¨­ç½®ï¼Œæ›´ç°¡å–®æœ‰åŠ›(æ’èµ·ä¾†æœ‰é»åƒ UIKit ä¸­çš„ UIStackView)</p><blockquote><p><strong>ä¸€åˆ‡æ’ç‰ˆç”±Groupçµ„æˆï¼Œé¡ä¼¼UIKitä¸­çš„ UIStackView ä½†èƒ½è¨­ç½®æ›´å¤šæ’ç‰ˆåƒæ•¸</strong></p></blockquote><p><a href="/assets/e85d77b05061/1*aoHxAFjEGgH3ZLQx9GhH_Q.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*aoHxAFjEGgH3ZLQx9GhH_Q.webp" alt="Groupçš„åƒæ•¸è¨­ç½®" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzQiIGhlaWdodD0iMTExOCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Groupçš„åƒæ•¸è¨­ç½®</p><ol><li>Layoutï¼šè¨­ç½®è¢«åŒ…åœ¨è£¡é¢çš„å­Viewæ’ç‰ˆæ–¹å¼ï¼ˆæ°´å¹³ã€å‚ç›´ã€åœ–å±¤å †ç–Šï¼‰<li>Insetsï¼šè¨­ç½®Groupçš„ä¸Šä¸‹å·¦å³é–“è·<li>Spacingï¼šè¨­ç½®è¢«åŒ…åœ¨è£¡é¢çš„å­Viewä¹‹é–“çš„é–“è·<li>Radiusï¼šè¨­ç½®Groupçš„åœ“è§’ï¼Œæ²’éŒ¯ï¼WatchKitè‡ªå¸¶åœ“è§’è¨­ç½®åƒæ•¸<li>Alignment/Horizontalï¼šè¨­ç½®æ°´å¹³å°é½Šæ–¹å¼ï¼ˆå·¦ã€ä¸­ã€å³ï¼‰èˆ‡é„°å±…ã€å¤–å±¤åŒ…è¦†çš„Viewè¨­ç½®æœƒæœ‰æ‰€é€£å‹•<li>Alignment/Verticalï¼šè¨­ç½®å‚ç›´å°é½Šæ–¹å¼ï¼ˆä¸Šã€ä¸­ã€ä¸‹ï¼‰èˆ‡é„°å±…ã€å¤–å±¤åŒ…è¦†çš„Viewè¨­ç½®æœƒæœ‰æ‰€é€£å‹•<li>Size/Widthï¼šè¨­ç½®Groupçš„å¤§å°ï¼Œæœ‰ä¸‰ç¨®æ¨¡å¼å¯é¸ã€ŒFixedï¼šæŒ‡å®šå¯¬åº¦ã€ã€ã€ŒSize To Fit Contentï¼šä¾ç…§å…§å®¹å­Viewå¤§å°æ±ºå®šå¯¬åº¦ã€ã€ã€ŒRelative to Containerï¼šåƒç…§å¤–å±¤åŒ…è¦†çš„Viewå¤§å°ç‚ºå¯¬åº¦(å¯è¨­%/+ -ä¿®æ­£å€¼)ã€<li>Size/Heightï¼šåŒSize/Widthï¼Œæ­¤é …æ˜¯è¨­ç½®é«˜åº¦</ol><h4 id="å­—å‹å­—é«”å¤§å°è¨­ç½®"><span class="me-2">å­—å‹/å­—é«”å¤§å°è¨­ç½®ï¼š</span><a href="#å­—å‹å­—é«”å¤§å°è¨­ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*8NfJeD4FsUw-SpAx_VFDCQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*8NfJeD4FsUw-SpAx_VFDCQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjQiIGhlaWdodD0iNjI4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>å¯ç›´æ¥å¥—ç”¨ç³»çµ±çš„Text Stylesï¼Œæˆ–ä½¿ç”¨Customï¼ˆä½†é€™é‚Šæˆ‘æ¸¬è©¦ä½¿ç”¨Customç„¡æ³•è¨­å®šå­—é«”å¤§å°ï¼‰ï¼›æ‰€ä»¥ <strong>æˆ‘æ˜¯ä½¿ç”¨System</strong> è‡ªè¨‚å„é¡¯ç¤ºLabelçš„å­—é«”å¤§å°</p><h4 id="åšä¸­å­¸ä»¥lineæ’ç‰ˆç‚ºä¾‹"><span class="me-2"><strong>åšä¸­å­¸ï¼šä»¥Lineæ’ç‰ˆç‚ºä¾‹</strong></span><a href="#åšä¸­å­¸ä»¥lineæ’ç‰ˆç‚ºä¾‹" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*oY9kLcnASy9j1WXxV4FGPA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*oY9kLcnASy9j1WXxV4FGPA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>æ’ç‰ˆéƒ¨åˆ†ä¸åƒ iOS é‚£éº¼è¤‡é›œï¼Œæ‰€ä»¥æˆ‘ç›´æ¥é€éç¯„ä¾‹ç¤ºç¯„çµ¦å¤§å®¶çœ‹ï¼Œå°±èƒ½ç›´æ¥ä¸Šæ‰‹ï¼›ä»¥ Line çš„ä¸»é æ’ç‰ˆç‚ºä¾‹å­ï¼š</p><p><em>åœ¨WatchKit App/Interface.storyboardä¸­æ‰¾åˆ°Interface Controller Scence:</em></p><p>1.æ•´å€‹é é¢ï¼Œç›¸ç•¶æ–¼ iOS App é–‹ç™¼ä¸­æœƒä½¿ç”¨åˆ°çš„ UITableViewï¼Œåœ¨Apple Watch App ä¸­ç°¡åŒ–äº†æ“ä½œï¼Œåå­—ä¹Ÿæ”¹å«åšã€ŒWKInterfaceTableã€ é¦–å…ˆå°±å…ˆæ‹‰ä¸€å€‹Tableåˆ°Interface Controller Scenceä¸­</p><p><a href="/assets/e85d77b05061/1*bui2UXp9QwBYSYC-mwyK6g.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*bui2UXp9QwBYSYC-mwyK6g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDc2IiBoZWlnaHQ9IjY3OCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>åŒUIKit UITableViewï¼Œæœ‰Tableæœ¬é«”ã€æœ‰Cell(Apple Watchä¸­å«åšRow)ï¼›ä½¿ç”¨èµ·ä¾†ç°¡åŒ–è¨±å¤šï¼Œ <strong>ä½ å¯ä»¥ç›´æ¥åœ¨æ­¤ä»‹é¢ä¸Šé€²è¡ŒCellçš„è¨­è¨ˆæ’ç‰ˆï¼</strong></p><p>2. åˆ†ææ’ç‰ˆæ¶æ§‹ï¼Œè¨­è¨ˆRowé¡¯ç¤ºæ¨£å¼ï¼š</p><p><a href="/assets/e85d77b05061/1*2bsyQ9Szfptugtg_KKxcgg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*2bsyQ9Szfptugtg_KKxcgg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MzQiIGhlaWdodD0iMjEyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>è¦æ’å‡ºä¸€å€‹å·¦é‚Šæœ‰åœ“è§’æ»¿ç‰ˆçš„Imageä¸”å †ç–Šä¸€å€‹Labelï¼Œå³é‚Šå¹³å‡åˆ†é…ä¸Šä¸‹å…©å€‹å€å¡Šï¼Œä¸Šæ–¹æ”¾Labelï¼Œä¸‹æ–¹ä¹Ÿæ”¾Labelçš„å€å¡Š</p><p>2â€“1: æ‹‰å‡ºå·¦å³å…©å€å¡Šçš„æ¶æ§‹</p><p><a href="/assets/e85d77b05061/1*ez1NpEq3fgAMEqNjwTvWdw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*ez1NpEq3fgAMEqNjwTvWdw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjM5NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>æ‹‰å…©å€‹Groupåˆ°Groupä¸­ï¼Œä¸¦å°Sizeåƒæ•¸åˆ†åˆ¥è¨­å®šï¼š</p><p>å·¦é‚Šç¶ è‰²éƒ¨åˆ†ï¼š</p><p><a href="/assets/e85d77b05061/1*axrBV1EHrPtOHvTnLtB79w.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*axrBV1EHrPtOHvTnLtB79w.webp" alt="Layoutè¨­å®šOverlapï¼Œè£¡é¢å­Viewè¦åšæœªè®€è¨Šæ¯Labelçš„åœ–å±¤å †ç–Šé¡¯ç¤º" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjQiIGhlaWdodD0iODgiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Layoutè¨­å®šOverlapï¼Œè£¡é¢å­Viewè¦åšæœªè®€è¨Šæ¯Labelçš„åœ–å±¤å †ç–Šé¡¯ç¤º</p><p><a href="/assets/e85d77b05061/1*Ti346bLg8AM2FInO6PNwLw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*Ti346bLg8AM2FInO6PNwLw.webp" alt="è¨­å›ºå®šé•·å¯¬40çš„æ­£æ–¹å½¢" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NTQiIGhlaWdodD0iMjM2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>è¨­å›ºå®šé•·å¯¬40çš„æ­£æ–¹å½¢</p><p>å³é‚Šç´…è‰²éƒ¨åˆ†ï¼š</p><p><a href="/assets/e85d77b05061/1*5aq_TTFEp3kq6RusiTkYcw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*5aq_TTFEp3kq6RusiTkYcw.webp" alt="Layoutè¨­å®šVerticalï¼Œè£¡é¢å­Viewè¦åšä¸Šä¸‹å…©å€‹é¡¯ç¤º" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjYiIGhlaWdodD0iODQiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>Layoutè¨­å®šVerticalï¼Œè£¡é¢å­Viewè¦åšä¸Šä¸‹å…©å€‹é¡¯ç¤º</p><p><a href="/assets/e85d77b05061/1*aXH2d1kDRLNl4XsizV9P_g.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*aXH2d1kDRLNl4XsizV9P_g.webp" alt="å¯¬åº¦è¨­å®šåƒç…§å¤–å±¤ï¼Œæ¯”ä¾‹100%ï¼Œæ‰£æ‰å·¦é‚Šç¶ è‰²éƒ¨åˆ†40" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjIiIGhlaWdodD0iMjM2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>å¯¬åº¦è¨­å®šåƒç…§å¤–å±¤ï¼Œæ¯”ä¾‹100%ï¼Œæ‰£æ‰å·¦é‚Šç¶ è‰²éƒ¨åˆ†40</p><p>å·¦å³å®¹å™¨å…§æ’ç‰ˆï¼š</p><p><a href="/assets/e85d77b05061/1*NR2vAZ3mqPMjCLqBCJ6ZxQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*NR2vAZ3mqPMjCLqBCJ6ZxQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQwMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>å·¦é‚Šéƒ¨åˆ†ï¼šæ‹‰å…¥ä¸€å€‹Imageï¼Œå†æ‹‰å…¥ä¸€å€‹åŒ…è¦†Lableçš„Groupå°é½Šè¨­å³ä¸‹(Groupè¨­åº•è‰²å†è¨­é–“è·åŠåœ“è§’)</p><p>å³é‚Šéƒ¨åˆ†ï¼šæ‹‰å…¥å…©å€‹Labelï¼Œä¸€å€‹å°é½Šè¨­å·¦ä¸Šï¼Œä¸€å€‹å°é½Šè¨­å·¦ä¸‹å³å¯</p><h4 id="ç‚ºrowå‘½ååŒuikit-uitableviewç‚ºcellè¨­å®šidentifier"><span class="me-2">ç‚ºRowå‘½å(åŒUIKit UITableViewç‚ºCellè¨­å®šidentifier)ï¼š</span><a href="#ç‚ºrowå‘½ååŒuikit-uitableviewç‚ºcellè¨­å®šidentifier" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*VTCVIJRAG-sGdBLjC26TKg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*VTCVIJRAG-sGdBLjC26TKg.webp" alt="é¸å®šRow-&gt;Identifier-&gt;è¼¸å…¥è‡ªè¨‚åç¨±" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQ1NyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>é¸å®šRow-&gt;Identifier-&gt;è¼¸å…¥è‡ªè¨‚åç¨±</p><h4 id="rowçš„å‘ˆç¾æ¨£å¼ä¸åªä¸€ç¨®å‘¢"><span class="me-2">Rowçš„å‘ˆç¾æ¨£å¼ä¸åªä¸€ç¨®å‘¢ï¼Ÿ</span><a href="#rowçš„å‘ˆç¾æ¨£å¼ä¸åªä¸€ç¨®å‘¢" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>éå¸¸ç°¡å–®ï¼Œåªè¦åœ¨æ‹‰ä¸€å€‹Rowæ”¾åœ¨Tableè£¡(å¯¦éš›è¦é¡¯ç¤ºå“ªå€‹æ¨£å¼çš„ROWç”±ç¨‹å¼æ§åˆ¶)ä¸¦è¼¸å…¥Identifierå‘½åå³å¯</p><p><a href="/assets/e85d77b05061/1*kQOKjxqmtI7M8BwYQ0yY0A.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*kQOKjxqmtI7M8BwYQ0yY0A.webp" alt="é€™é‚Šæˆ‘å†æ‹‰ä¸€å€‹Rowç”¨æ–¼å‘ˆç¾ç„¡è³‡æ–™æ™‚çš„æç¤º" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQ2MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>é€™é‚Šæˆ‘å†æ‹‰ä¸€å€‹Rowç”¨æ–¼å‘ˆç¾ç„¡è³‡æ–™æ™‚çš„æç¤º</p><h4 id="æ’ç‰ˆç›¸é—œè³‡è¨Š"><span class="me-2">æ’ç‰ˆç›¸é—œè³‡è¨Š</span><a href="#æ’ç‰ˆç›¸é—œè³‡è¨Š" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>watchKitçš„hiddenä¸æœƒä½”ä½ï¼Œå¯æ‹¿ä¾†åšäº¤äº’æ‡‰ç”¨ï¼ˆæœ‰ç™»å…¥æ‰é¡¯ç¤ºTableï¼›æ²’ç™»å…¥é¡¯ç¤ºæç¤ºLabelï¼‰</p><p><a href="/assets/e85d77b05061/1*RiCY7mH4_MyocNPN1GDuvA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*RiCY7mH4_MyocNPN1GDuvA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU5MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>æ’ç‰ˆåˆ°æ­¤å‘Šä¸€æ®µè½ï¼Œå¯ä¾ç…§å€‹äººè¨­è¨ˆåšä¿®æ”¹ï¼›ä¸Šæ‰‹å®¹æ˜“ï¼Œå¤šæ’å€‹å¹¾æ¬¡ã€ç©ç©å°é½Šåƒæ•¸ï¼Œå°±èƒ½ç†Ÿæ‚‰ï¼</p><h4 id="ç¨‹å¼æ§åˆ¶éƒ¨åˆ†"><span class="me-2">ç¨‹å¼æ§åˆ¶éƒ¨åˆ†ï¼š</span><a href="#ç¨‹å¼æ§åˆ¶éƒ¨åˆ†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>æ¥çºŒRowï¼Œæˆ‘å€‘éœ€è¦å»ºç«‹ä¸€å€‹Classå°Rowé€²è¡Œåƒç…§æ“ä½œï¼š</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">ContactRow</span><span class="p">:</span><span class="kt">NSObject</span> <span class="p">{</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="/assets/e85d77b05061/1*-AnyG0_PLubAX7f-579BMw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*-AnyG0_PLubAX7f-579BMw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjI3MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">ContactRow</span><span class="p">:</span><span class="kt">NSObject</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">id</span><span class="p">:</span><span class="kt">String</span><span class="p">?</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">unReadGroup</span><span class="p">:</span> <span class="kt">WKInterfaceGroup</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">unReadLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">imageView</span><span class="p">:</span> <span class="kt">WKInterfaceImage</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">nameLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">timeLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
<span class="p">}</span>
</pre></table></code></div></div><p>æ‹‰outletã€å„²å­˜è®Šæ•¸</p><p>Tableéƒ¨åˆ†ã„§æ¨£æ‹‰Outletåˆ°Controllerä¸­ï¼š</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">InterfaceController</span><span class="p">:</span> <span class="kt">WKInterfaceController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">Table</span><span class="p">:</span> <span class="kt">WKInterfaceTable</span><span class="o">!</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">awake</span><span class="p">(</span><span class="n">withContext</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">Any</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">awake</span><span class="p">(</span><span class="nv">withContext</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
        
        <span class="c1">// Configure interface objects here.</span>
    <span class="p">}</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">willActivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is about to be visible to user</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">willActivate</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">struct</span> <span class="kt">ContactStruct</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">name</span><span class="p">:</span><span class="kt">String</span>
        <span class="k">var</span> <span class="nv">image</span><span class="p">:</span><span class="kt">String</span>
        <span class="k">var</span> <span class="nv">time</span><span class="p">:</span><span class="kt">String</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">loadData</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//Get API Call Back...</span>
        <span class="c1">//postData {</span>
        <span class="k">let</span> <span class="nv">data</span><span class="p">:[</span><span class="kt">ContactStruct</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">//api returned data...</span>
        
        <span class="k">self</span><span class="o">.</span><span class="kt">Table</span><span class="o">.</span><span class="nf">setNumberOfRows</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="nv">withRowType</span><span class="p">:</span> <span class="s">"ContactRow"</span><span class="p">)</span>
        <span class="c1">//å¦‚æœä½ æœ‰å¤šç¨®ROWéœ€è¦å‘ˆç¾å‰‡ç”¨ï¼š</span>
            <span class="c1">//self.Table.setRowTypes(["ContactRow","ContactRow2","ContactRow3"])</span>
        <span class="c1">//</span>
        <span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">data</span><span class="o">.</span><span class="nf">enumerated</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">row</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="kt">Table</span><span class="o">.</span><span class="nf">rowController</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">offset</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">ContactRow</span> <span class="p">{</span>
                <span class="n">row</span><span class="o">.</span><span class="n">nameLabel</span><span class="o">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="c1">//assign value to lable/image......</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="c1">//}</span>
    <span class="p">}</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didDeactivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is no longer visible</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">didDeactivate</span><span class="p">()</span>
        <span class="nf">loadData</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="c1">//è™•ç†Rowé»é¸æ™‚:</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">table</span><span class="p">(</span><span class="n">_</span> <span class="nv">table</span><span class="p">:</span> <span class="kt">WKInterfaceTable</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="nv">rowIndex</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">row</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="nf">rowController</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">rowIndex</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">ContactRow</span><span class="p">,</span><span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">id</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">pushController</span><span class="p">(</span><span class="nv">withName</span><span class="p">:</span> <span class="s">"showDetail"</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="n">id</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Tableçš„æ“ä½œç°¡åŒ–è¨±å¤šæ²’æœ‰delegate/datasourceï¼Œè¨­å®šè³‡æ–™æ–¹å¼åªè¦å‘¼å«setNumberOfRows/setRowTypesæŒ‡å®šRowæ•¸é‡å’Œå½¢æ…‹ï¼Œå†ä½¿ç”¨rowController(at:) è¨­å®šæ¯åˆ—çš„è³‡æ–™å…§å®¹å³å¯ï¼</p><p>Tableçš„Rowé¸æ“‡äº‹ä»¶ä¹Ÿåªéœ€ override func table( _ table: WKInterfaceTable, didSelectRowAt rowIndex: Int) å³å¯æ“ä½œï¼(Tableä¹Ÿåªæœ‰é€™å€‹äº‹ä»¶)</p><h4 id="å¦‚ä½•è·³é "><span class="me-2">å¦‚ä½•è·³é ï¼Ÿ</span><a href="#å¦‚ä½•è·³é " class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*1KovG3qshPRsCgUXkbDYFw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*1KovG3qshPRsCgUXkbDYFw.webp" alt="é¦–å…ˆç‚ºInterface Controllerè¨­å®šIdentifier" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjYyNyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>é¦–å…ˆç‚ºInterface Controllerè¨­å®šIdentifier</p><p>watchKitæœ‰å…©ç¨®è·³é æ¨¡å¼ï¼š</p><p>1.é¡ä¼¼iOS UIKit push self.pushController(withName: <strong>Interface Controller Identifier</strong> , context: <strong>Any?</strong> )</p><p><a href="/assets/e85d77b05061/1*snXj8xFP0MtF3_sVWK1xUw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*snXj8xFP0MtF3_sVWK1xUw.webp" alt="pushæ–¹å¼å¯å·¦ä¸Šè¿”å›" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>pushæ–¹å¼å¯å·¦ä¸Šè¿”å›</p><p>è¿”å›ä¸Šä¸€é åŒiOS UIKitï¼šself.pop( )</p><p>è¿”å›æ ¹é é¢ï¼šself.popToRootController( )</p><p>é–‹æ–°é é¢ï¼šself.presentController( )</p><p>2. <a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/WatchKitProgrammingGuide/InterfaceStyles.html" target="_blank">é ç±¤é¡¯ç¤ºæ–¹å¼</a> WKInterfaceController.reloadRootControllers(withNames: [ <strong>Interface Controller Identifier</strong> ], contexts: [ <strong>Any?</strong> ] )</p><p>äº¦æˆ–æ˜¯åœ¨Storyboardä¸Šï¼Œåœ¨ç¬¬ä¸€é çš„Interface Controllerä¸ŠæŒ‰Control+Clickæ‹–æ›³åˆ°ç¬¬äºŒé é¸æ“‡ã€Œnext pageã€ä¹Ÿå¯</p><p><a href="/assets/e85d77b05061/1*teUOM4Wql2hexR51g7v1lQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*teUOM4Wql2hexR51g7v1lQ.webp" alt="é ç±¤é¡¯ç¤ºæ–¹å¼å¯ä»¥å·¦å³åˆ‡æ›é é¢" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>é ç±¤é¡¯ç¤ºæ–¹å¼å¯ä»¥å·¦å³åˆ‡æ›é é¢</p><p>å…©ç¨®è·³é æ–¹å¼ä¸èƒ½æ··ç”¨ï¼</p><h4 id="è·³é åƒæ•¸"><span class="me-2">è·³é åƒæ•¸ï¼Ÿ</span><a href="#è·³é åƒæ•¸" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>ä¸åƒiOSéœ€è¦ä½¿ç”¨è‡ªè¨‚delegateæˆ–segueæ–¹å¼å‚³éåƒæ•¸ï¼ŒwatchKitè·³é å¸¶åƒæ•¸æ–¹å¼å°±æ˜¯å°‡åƒæ•¸æ”¾å…¥ä¸Šæ–¹æ–¹æ³•ä¸­çš„ <strong>contexts</strong> ä¸­å³å¯ï¼</p><p>æ¥æ”¶åƒæ•¸åœ¨ <strong>InterfaceController</strong> çš„ awake(withContext context: Any?)</p><p>ä¾‹å¦‚æˆ‘åœ¨Aé é¢è¦è·³åˆ°Bé é¢ä¸¦å¸¶å…¥id:Intæ™‚ï¼š</p><p>A é é¢:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">self</span><span class="o">.</span><span class="nf">pushController</span><span class="p">(</span><span class="nv">withName</span><span class="p">:</span> <span class="s">"showDetail"</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
</pre></table></code></div></div><p>B é é¢:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">override</span> <span class="kd">func</span> <span class="nf">awake</span><span class="p">(</span><span class="n">withContext</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">Any</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">awake</span><span class="p">(</span><span class="nv">withContext</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="n">context</span> <span class="k">as?</span> <span class="kt">Int</span> <span class="k">else</span> <span class="p">{</span>
           <span class="nf">print</span><span class="p">(</span><span class="s">"åƒæ•¸éŒ¯èª¤ï¼"</span><span class="p">)</span>
           <span class="k">self</span><span class="o">.</span><span class="nf">popToRootController</span><span class="p">()</span>
           <span class="k">return</span>
        <span class="p">}</span>
        <span class="c1">// Configure interface objects here.</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="ç¨‹å¼æ§åˆ¶å…ƒä»¶éƒ¨åˆ†"><span class="me-2">ç¨‹å¼æ§åˆ¶å…ƒä»¶éƒ¨åˆ†</span><a href="#ç¨‹å¼æ§åˆ¶å…ƒä»¶éƒ¨åˆ†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>ç›¸æ¯”iOS UIKitä¸€æ¨£ç°¡åŒ–è¨±å¤šï¼Œæœ‰é–‹ç™¼éiOSçš„æ‡‰è©²ä¸Šæ‰‹å¾ˆå¿«ï¼ ä¾‹å¦‚labelè®ŠæˆsetText( ) p.s. è€Œä¸”å±…ç„¶æ²’æœ‰getTextçš„æ–¹æ³•ï¼Œåªèƒ½extensionè®Šæ•¸æˆ–æ”¾åœ¨å¤–éƒ¨è®Šæ•¸å„²å­˜</p><h4 id="èˆ‡iphoneä¹‹é–“åŒæ­¥è³‡æ–™å‚³é"><span class="me-2">èˆ‡iPhoneä¹‹é–“åŒæ­¥/è³‡æ–™å‚³é</span><a href="#èˆ‡iphoneä¹‹é–“åŒæ­¥è³‡æ–™å‚³é" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å¦‚æœæœ‰é–‹ç™¼éiOS ç›¸é—œ Extension çš„è©±ï¼›ä¸‹æ„è­˜ä¸€å®šæ˜¯ç”¨App Groupså…±äº«UserDefaultsçš„æ–¹å¼ï¼Œç•¶åˆæˆ‘ä¹Ÿèˆˆæ²–æ²–çš„é€™æ¨£åšï¼Œç„¶å¾Œå¡äº†å¥½ä¹…ç™¼ç¾è³‡æ–™ä¸€ç›´éä¸å»ï¼Œç›´åˆ°ä¸Šç¶²ä¸€æŸ¥æ‰ç™¼ç¾ï¼ŒwatchOS&gt;2ä¹‹å¾Œå°±ä¸å†æ”¯æ´æ­¤æ–¹æ³•äº†â€¦.</p><p>è¦ä½¿ç”¨æ–°çš„WatchConnectivityæ–¹å¼è®“æ‰‹æ©Ÿè·Ÿæ‰‹éŒ¶ä¹‹é–“é€²è¡Œé€šè¨Š(é¡ä¼¼socketæ¦‚å¿µ)ï¼ŒiOSæ‰‹æ©ŸåŠæ‰‹éŒ¶watchOSå…©ç«¯éƒ½éœ€è¦å¯¦åšï¼Œæˆ‘å€‘å¯«æˆsingletonæ¨¡å¼å¦‚ä¸‹ï¼š</p><p><strong>æ‰‹æ©Ÿç«¯ï¼š</strong></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchConnectivity</span>

<span class="kd">class</span> <span class="kt">WatchSessionManager</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WCSessionDelegate</span> <span class="p">{</span>
    <span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">9.3</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">activationDidCompleteWith</span> <span class="nv">activationState</span><span class="p">:</span> <span class="kt">WCSessionActivationState</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
        <span class="c1">//æ‰‹æ©Ÿç«¯sessionå•Ÿç”¨å®Œæˆ</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didReceiveUserInfo</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="p">{</span>
        <span class="c1">//æ‰‹æ©Ÿç«¯æ¥å—åˆ°æ‰‹éŒ¶å‚³å›çš„UserInfo</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didReceiveMessage</span> <span class="nv">message</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="nv">replyHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//æ‰‹æ©Ÿç«¯æ¥å—åˆ°æ‰‹éŒ¶å›å‚³çš„Message</span>
    <span class="p">}</span>
    
    <span class="c1">//å¦å¤–é‚„æœ‰didReceiveMessageData,didReceiveFileåŒæ¨£éƒ½æ˜¯è™•ç†æ”¶åˆ°æ‰‹éŒ¶å›å‚³çš„è³‡æ–™</span>
    <span class="c1">//çœ‹ä½ çš„è³‡æ–™å‚³éæ¥æ”¶éœ€æ±‚æ±ºå®šè¦ç”¨å“ªå€‹</span>
    
    <span class="kd">func</span> <span class="nf">sendUserInfo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">validSession</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">validSession</span><span class="p">,</span><span class="n">validSession</span><span class="o">.</span><span class="n">isReachable</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">userDefaultsTransfer</span><span class="p">?</span><span class="o">.</span><span class="n">isTransferring</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">{</span>
            <span class="n">userDefaultsTransfer</span><span class="p">?</span><span class="o">.</span><span class="nf">cancel</span><span class="p">()</span>
        <span class="p">}</span>
        
        <span class="k">var</span> <span class="nv">list</span><span class="p">:[</span><span class="kt">String</span><span class="p">:</span><span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:]</span>
        <span class="c1">//å°‡UserDefaultsæ”¾å…¥list....</span>
        
        <span class="k">self</span><span class="o">.</span><span class="n">userDefaultsTransfer</span> <span class="o">=</span> <span class="n">validSession</span><span class="o">.</span><span class="nf">transferUserInfo</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionReachabilityDidChange</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//èˆ‡æ‰‹éŒ¶APPé€£æ¥ç‹€æ…‹æ”¹è®Šæ™‚(æ‰‹éŒ¶é–‹å•ŸAPPæ™‚/æ‰‹éŒ¶é—œé–‰APPæ™‚)</span>
        <span class="nf">sendUserInfo</span><span class="p">()</span>
        <span class="c1">//æˆ‘æ˜¯ç•¶ç‹€æ…‹æ”¹è®Šï¼Œå¦‚ç‚ºæ‰‹éŒ¶é–‹å•ŸAPPæ™‚å°±åŒæ­¥ä¸€æ¬¡UserDefaults</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didFinish</span> <span class="nv">userInfoTransfer</span><span class="p">:</span> <span class="kt">WCSessionUserInfoTransfer</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
        <span class="c1">//å®ŒæˆåŒæ­¥UserDefaults(transferUserInfo)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionDidBecomeInactive</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionDidDeactivate</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">sharedManager</span> <span class="o">=</span> <span class="kt">WatchSessionManager</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">?</span> <span class="o">=</span> <span class="kt">WCSession</span><span class="o">.</span><span class="nf">isSupported</span><span class="p">()</span> <span class="p">?</span> <span class="kt">WCSession</span><span class="o">.</span><span class="k">default</span> <span class="p">:</span> <span class="kc">nil</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">validSession</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="n">session</span><span class="p">,</span> <span class="n">session</span><span class="o">.</span><span class="n">isPaired</span> <span class="o">&amp;&amp;</span> <span class="n">session</span><span class="o">.</span><span class="n">isWatchAppInstalled</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">session</span>
        <span class="p">}</span>
        <span class="c1">//å›å‚³æœ‰æ•ˆä¸”é€£æ¥ä¸­ä¸”æ‰‹éŒ¶APPé–‹å•Ÿä¸­çš„session</span>
        <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">startSession</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">activate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>WatchConnectivity æ‰‹æ©Ÿç«¯çš„ Code</p><p>ä¸¦åœ¨iOS/AppDelegate.swiftçš„application( _ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?)ä¸­åŠ å…¥WatchSessionManager.sharedManager.startSession( ) ä»¥åœ¨å•Ÿå‹•æ‰‹æ©ŸAPPå¾Œé€£æ¥ä¸Šsession</p><p><strong>æ‰‹éŒ¶ç«¯ï¼š</strong></p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchConnectivity</span>

<span class="kd">class</span> <span class="kt">WatchSessionManager</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WCSessionDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">activationDidCompleteWith</span> <span class="nv">activationState</span><span class="p">:</span> <span class="kt">WCSessionActivationState</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">sessionReachabilityDidChange</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="n">session</span><span class="o">.</span><span class="n">isReachable</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didFinish</span> <span class="nv">userInfoTransfer</span><span class="p">:</span> <span class="kt">WCSessionUserInfoTransfer</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">,</span> <span class="n">didReceiveUserInfo</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="p">{</span>
        <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
            <span class="c1">//UserDefaults:</span>
            <span class="c1">//print(userInfo)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">sharedManager</span> <span class="o">=</span> <span class="kt">WatchSessionManager</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">WCSession</span><span class="p">?</span> <span class="o">=</span> <span class="kt">WCSession</span><span class="o">.</span><span class="nf">isSupported</span><span class="p">()</span> <span class="p">?</span> <span class="kt">WCSession</span><span class="o">.</span><span class="k">default</span> <span class="p">:</span> <span class="kc">nil</span>
    
    <span class="kd">func</span> <span class="nf">startSession</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">activate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></table></code></div></div><p>WatchConnectivity æ‰‹éŒ¶ç«¯çš„ Code</p><p>ä¸¦åœ¨WatchOS Extension/ExtensionDelegate.swiftä¸­çš„applicationDidFinishLaunching( ) åŠ å…¥ WatchSessionManager.sharedManager.startSession( ) ä»¥åœ¨å•Ÿå‹•æ‰‹éŒ¶APPå¾Œé€£æ¥ä¸Šsession</p><h4 id="watchconnectivity-è³‡æ–™å‚³éæ–¹å¼"><span class="me-2">WatchConnectivity è³‡æ–™å‚³éæ–¹å¼</span><a href="#watchconnectivity-è³‡æ–™å‚³éæ–¹å¼" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å‚³è³‡æ–™ç”¨ï¼šsendMessage,sendMessageData,transferUserInfo,transferFile æ”¶è³‡æ–™ç”¨ï¼šdidReceiveMessageData,didReceive,didReceiveMessage å…©ç«¯å‚³æ¥æ”¶æ–¹æ³•éƒ½ã„§æ¨£</p><p><a href="/assets/e85d77b05061/1*eVT-62WCBy1ZZC90abJPqA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*eVT-62WCBy1ZZC90abJPqA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NzYiIGhlaWdodD0iMTkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>å¯ä»¥çœ‹åˆ°æ‰‹éŒ¶å‚³è³‡æ–™åˆ°æ‰‹æ©Ÿéƒ½é€šï¼Œä½†æ‰‹æ©Ÿå‚³è³‡æ–™åˆ°æ‰‹éŒ¶åƒ…é™æ‰‹éŒ¶APPé–‹å•Ÿä¸­</p><h4 id="watchosæ¨æ’­è™•ç†"><span class="me-2">watchOSæ¨æ’­è™•ç†</span><a href="#watchosæ¨æ’­è™•ç†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å°ˆæ¡ˆç›®éŒ„åº•ä¸‹çš„PushNotificationPayload.apnsé€™æ™‚å°±æ´¾ä¸Šç”¨å ´äº†ï¼Œé€™æ˜¯ç”¨ä¾†åœ¨æ¨¡æ“¬å™¨ä¸Šæ¸¬è©¦æ¨æ’­ä¹‹ç”¨ï¼Œåœ¨æ¨¡æ“¬å™¨ä¸Šéƒ¨ç½²Watch App targetï¼Œå®‰è£å®Œå•Ÿå‹•Appå°±æœƒæ”¶åˆ°ä¸€å‰‡ä»¥é€™å€‹æª”æ¡ˆå…§å®¹çš„æ¨æ’­ï¼Œè®“é–‹ç™¼è€…æ›´å®¹æ˜“æ¸¬è©¦æ¨æ’­åŠŸèƒ½ï¼</p><p><a href="/assets/e85d77b05061/1*1nlJOqwVqpMP6WtwdRcLPA.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*1nlJOqwVqpMP6WtwdRcLPA.webp" alt="å¦‚è¦ä¿®æ”¹/å•Ÿç”¨/åœç”¨ PushNotificationPayload.apnsï¼Œè«‹é¸æ“‡Targetå¾ŒEdit Scheme" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjY3MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>å¦‚è¦ä¿®æ”¹/å•Ÿç”¨/åœç”¨ PushNotificationPayload.apnsï¼Œè«‹é¸æ“‡Targetå¾ŒEdit Scheme</p><p><strong>watchOS æ¨æ’­è™•ç†ï¼š</strong></p><p>åŒiOSæˆ‘å€‘å¯¦åšUNUserNotificationCenterDelegateï¼Œåœ¨watchOSä¸­æˆ‘å€‘ä¹Ÿå¯¦ä½œä¸€æ¨£çš„æ–¹æ³•ï¼Œåœ¨watchOS Extension/ExtensionDelegate.swiftä¸­</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchKit</span>
<span class="kd">import</span> <span class="kt">UserNotifications</span>
<span class="kd">import</span> <span class="kt">WatchConnectivity</span>

<span class="kd">class</span> <span class="kt">ExtensionDelegate</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WKExtensionDelegate</span><span class="p">,</span> <span class="kt">UNUserNotificationCenterDelegate</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">applicationDidFinishLaunching</span><span class="p">()</span> <span class="p">{</span>
        
        <span class="kt">WatchSessionManager</span><span class="o">.</span><span class="n">sharedManager</span><span class="o">.</span><span class="nf">startSession</span><span class="p">()</span> <span class="c1">//å‰é¢æåˆ°çš„WatchConnectivityé€£ç·š</span>
      
        <span class="kt">UNUserNotificationCenter</span><span class="o">.</span><span class="nf">current</span><span class="p">()</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span> <span class="c1">//è¨­å®šUNUserNotificationCenter delegate</span>
        <span class="c1">// Perform any final initialization of your application.</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">userNotificationCenter</span><span class="p">(</span><span class="n">_</span> <span class="nv">center</span><span class="p">:</span> <span class="kt">UNUserNotificationCenter</span><span class="p">,</span> <span class="n">willPresent</span> <span class="nv">notification</span><span class="p">:</span> <span class="kt">UNNotification</span><span class="p">,</span> <span class="n">withCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">UNNotificationPresentationOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">completionHandler</span><span class="p">([</span><span class="o">.</span><span class="n">sound</span><span class="p">,</span> <span class="o">.</span><span class="n">alert</span><span class="p">])</span>
        <span class="c1">//åŒiOSï¼Œæ­¤åšæ³•å¯è®“æ¨æ’­åœ¨APPå‰æ™¯æ™‚ä¾ç„¶æœƒé¡¯ç¤º</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">userNotificationCenter</span><span class="p">(</span><span class="n">_</span> <span class="nv">center</span><span class="p">:</span> <span class="kt">UNUserNotificationCenter</span><span class="p">,</span> <span class="n">didReceive</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">UNNotificationResponse</span><span class="p">,</span> <span class="n">withCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//é»æ“Šæ¨æ’­æ™‚</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">info</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">notification</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">userInfo</span><span class="p">[</span><span class="s">"aps"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">NSDictionary</span><span class="p">,</span><span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s">"alert"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span><span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s">"data"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="kt">String</span><span class="o">&gt;</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">completionHandler</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="c1">//response.actionIdentifierå¯å¾—é»æ“Šäº‹ä»¶Identifier</span>
        <span class="c1">//é è¨­é»æ“Šäº‹ä»¶ï¼šUNNotificationDefaultActionIdentifier</span>
        
        <span class="k">if</span> <span class="n">alert</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"new_ask"</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">WKExtension</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="n">rootInterfaceController</span><span class="p">?</span><span class="o">.</span><span class="nf">pushController</span><span class="p">(</span><span class="nv">withName</span><span class="p">:</span> <span class="s">"showDetail"</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
            <span class="c1">//å–å¾—ç›®å‰root interface controller ä¸¦ push</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
           <span class="c1">//å…¶ä»–è™•ç†....</span>
           <span class="c1">//WKExtension.shared().rootInterfaceController?.presentController(withName: "", context: nil)</span>
            
        <span class="p">}</span>
        
        <span class="nf">completionHandler</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>ExtensionDelegate.swift</p><p><strong>watchOS æ¨æ’­é¡¯ç¤ºï¼Œåˆ†æˆä¸‰ç¨®ï¼š</strong></p><ol><li>staticï¼š é è¨­æ¨æ’­é¡¯ç¤ºæ–¹å¼</ol><p><a href="/assets/e85d77b05061/1*uQN8Km08rio4tylAw48LyQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*uQN8Km08rio4tylAw48LyQ.webp" alt="æœƒåŒæ‰‹æ©Ÿæ¨æ’­ï¼Œé€™é‚Šæ‰‹æ©Ÿç«¯iOSæœ‰å¯¦åšUNUserNotificationCenter.setNotificationCategoriesåœ¨é€šçŸ¥ä¸‹æ–¹å¢åŠ æŒ‰éˆ•ï¼›Apple Watché è¨­äº¦ç„¶æœƒå‡ºç¾" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NDgiIGhlaWdodD0iNDcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>æœƒåŒæ‰‹æ©Ÿæ¨æ’­ï¼Œé€™é‚Šæ‰‹æ©Ÿç«¯iOSæœ‰å¯¦åšUNUserNotificationCenter.setNotificationCategoriesåœ¨é€šçŸ¥ä¸‹æ–¹å¢åŠ æŒ‰éˆ•ï¼›Apple Watché è¨­äº¦ç„¶æœƒå‡ºç¾</p><ol><li>dynamicï¼šå‹•æ…‹è™•ç†æ¨æ’­é¡¯ç¤ºæ¨£å¼ï¼ˆé‡çµ„å…§å®¹ã€é¡¯ç¤ºåœ–ç‰‡ï¼‰<li>interactiveï¼šwatchOS â‰¥ 5 å¾Œæ”¯æ´ï¼Œåœ¨dynamicçš„åŸºç¤ä¸‹å†å¢åŠ æ”¯æ´æŒ‰éˆ•</ol><p><a href="/assets/e85d77b05061/1*PlYKw5M3XBVDtjOa2tklgg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*PlYKw5M3XBVDtjOa2tklgg.webp" alt="å¯åœ¨Interface.storyboardä¸­çš„Static Notification Interface Controller Sceneè¨­å®šæ¨æ’­è™•ç†æ–¹å¼" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjczMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>å¯åœ¨Interface.storyboardä¸­çš„Static Notification Interface Controller Sceneè¨­å®šæ¨æ’­è™•ç†æ–¹å¼</p><p>staticæ²’ä»€éº¼å¥½èªªçš„ï¼Œå°±æ˜¯èµ°é è¨­çš„é¡¯ç¤ºæ–¹å¼ï¼Œé€™é‚Šå…ˆä»‹ç´¹dynamicï¼Œå‹¾é¸ã€ŒHas Dynamic Interfaceã€å¾Œæœƒå‡ºç¾ã€ŒDynamic Interfaceã€å¯åœ¨æ­¤è¦–åœ–è¨­è¨ˆä½ è‡ªè¨‚çš„æ¨æ’­å‘ˆç¾æ–¹å¼ï¼ˆä¸èƒ½ä½¿ç”¨Buttonï¼‰ï¼š</p><p><a href="/assets/e85d77b05061/1*RYSdWHxgmZX6Ht6m11Qpig.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*RYSdWHxgmZX6Ht6m11Qpig.webp" alt="æˆ‘çš„è‡ªè¨‚æ¨æ’­å‘ˆç¾è¨­è¨ˆ" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5ODgiIGhlaWdodD0iNzQ0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>æˆ‘çš„è‡ªè¨‚æ¨æ’­å‘ˆç¾è¨­è¨ˆ</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">WatchKit</span>
<span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">UserNotifications</span>

<span class="kd">class</span> <span class="kt">NotificationController</span><span class="p">:</span> <span class="kt">WKUserNotificationInterfaceController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">imageView</span><span class="p">:</span> <span class="kt">WKInterfaceImage</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">titleLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">contentLabel</span><span class="p">:</span> <span class="kt">WKInterfaceLabel</span><span class="o">!</span>
    
    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Initialize variables here.</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">"çµå©šå§"</span><span class="p">)</span> <span class="c1">//è¨­å®šå³ä¸Šæ–¹æ¨™é¡Œ</span>
        <span class="c1">// Configure interface objects here.</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">willActivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is about to be visible to user</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">willActivate</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didDeactivate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This method is called when watch view controller is no longer visible</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">didDeactivate</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didReceive</span><span class="p">(</span><span class="n">_</span> <span class="nv">notification</span><span class="p">:</span> <span class="kt">UNNotification</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">watchOSApplicationExtension</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">notificationActions</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1">//æ¸…é™¤iOSå¯¦åšçš„UNUserNotificationCenter.setNotificationCategoriesåœ¨é€šçŸ¥ä¸‹æ–¹å¢åŠ çš„æŒ‰éˆ•</span>
        <span class="p">}</span>
        
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">info</span> <span class="o">=</span> <span class="n">notification</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">userInfo</span><span class="p">[</span><span class="s">"aps"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">NSDictionary</span><span class="p">,</span><span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s">"alert"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="kt">String</span><span class="o">&gt;</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="c1">//æ¨æ’­è³‡è¨Š</span>
        
        <span class="k">self</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">alert</span><span class="p">[</span><span class="s">"title"</span><span class="p">])</span>
        <span class="k">self</span><span class="o">.</span><span class="n">contentLabel</span><span class="o">.</span><span class="nf">setText</span><span class="p">(</span><span class="n">alert</span><span class="p">[</span><span class="s">"body"</span><span class="p">])</span>
        
        <span class="k">if</span> <span class="k">#available</span><span class="p">(</span><span class="n">watchOSApplicationExtension</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">alert</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"new_msg"</span> <span class="p">{</span>
              <span class="c1">//å¦‚æœæ˜¯æ–°è¨Šæ¯æ¨æ’­å‰‡åœ¨é€šçŸ¥ä¸‹æ–¹å¢åŠ å›è¦†æŒ‰éˆ•</span>
              <span class="k">self</span><span class="o">.</span><span class="n">notificationActions</span> <span class="o">=</span> <span class="p">[</span><span class="kt">UNNotificationAction</span><span class="p">(</span><span class="nv">identifier</span><span class="p">:</span> <span class="s">"replyAction"</span><span class="p">,</span><span class="nv">title</span><span class="p">:</span> <span class="s">"å›è¦†"</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">foreground</span><span class="p">])]</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
              <span class="c1">//å…¶ä»–å‰‡å¢åŠ æŸ¥çœ‹æŒ‰éˆ•</span>
              <span class="k">self</span><span class="o">.</span><span class="n">notificationActions</span> <span class="o">=</span> <span class="p">[</span><span class="kt">UNNotificationAction</span><span class="p">(</span><span class="nv">identifier</span><span class="p">:</span> <span class="s">"openAction"</span><span class="p">,</span><span class="nv">title</span><span class="p">:</span> <span class="s">"æŸ¥çœ‹"</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">foreground</span><span class="p">])]</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        
        <span class="c1">// This method is called when a notification needs to be presented.</span>
        <span class="c1">// Implement it if you use a dynamic notification interface.</span>
        <span class="c1">// Populate your dynamic notification interface as quickly as possible.</span>
        
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>ç¨‹å¼éƒ¨åˆ†ï¼Œã„§æ¨£æ‹‰outletåˆ°controllerä¸¦å¯¦åšåŠŸèƒ½</p><p>å†ä¾†è¬›åˆ°interactiveï¼ŒåŒdynamicï¼Œåªæ˜¯èƒ½å¤šåŠ Buttonï¼Œèƒ½è·Ÿdynamicè¨­åŒå€‹Classæ§åˆ¶ç¨‹å¼ï¼›interactiveæˆ‘æ²’æœ‰ä½¿ç”¨ï¼Œå› ç‚ºæˆ‘çš„æŒ‰éˆ•æ˜¯ç”¨ç¨‹å¼self.notificationActionsåŠ ä¸Šå»çš„ï¼Œå·®ç•°å¦‚ä¸‹ï¼š</p><p><a href="/assets/e85d77b05061/1*_1Crgx61kE6F509Jd2qxPQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*_1Crgx61kE6F509Jd2qxPQ.webp" alt="å·¦ä½¿ç”¨interactiveï¼Œå³ä½¿ç”¨self.notificationActions" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NTMiIGhlaWdodD0iNDcyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>å·¦ä½¿ç”¨interactiveï¼Œå³ä½¿ç”¨self.notificationActions</p><p>å…©å€‹åšæ³•éƒ½éœ€watchOS â‰¥ 5 æ”¯æ´ï¼</p><p>ä½¿ç”¨self.notificationActionså¢åŠ æŒ‰éˆ•å‰‡æŒ‰éˆ•äº‹ä»¶è™•ç†ç”±ExtensionDelegateä¸­çš„ <code class="language-plaintext highlighter-rouge">userNotificationCenter(_ center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping () -&gt; Void)</code> è™•ç†ï¼Œä¸¦ä»¥identifierè­˜åˆ¥å‹•ä½œ</p><h4 id="é¸å–®åŠŸèƒ½"><span class="me-2">é¸å–®åŠŸèƒ½ï¼Ÿ</span><a href="#é¸å–®åŠŸèƒ½" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*qHUly8lLEa5L7FSPJCrbcw.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*qHUly8lLEa5L7FSPJCrbcw.webp" alt="åœ¨å…ƒä»¶åº«ä¸­æ‹‰å…¥Menuï¼Œå†æ‹‰å…¥é¸å–®é …ç›®Menu Itemï¼Œå†æ‹‰IBActionåˆ°ç¨‹å¼æ§åˆ¶" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQwOSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>åœ¨å…ƒä»¶åº«ä¸­æ‹‰å…¥Menuï¼Œå†æ‹‰å…¥é¸å–®é …ç›®Menu Itemï¼Œå†æ‹‰IBActionåˆ°ç¨‹å¼æ§åˆ¶</p><p>åœ¨é é¢é‡å£“å°±æœƒå‡ºç¾ï¼š</p><p><a href="/assets/e85d77b05061/1*9aj7kUPsv9d8XUvgCpqfOg.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*9aj7kUPsv9d8XUvgCpqfOg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h4 id="å…§å®¹è¼¸å…¥"><span class="me-2">å…§å®¹è¼¸å…¥ï¼Ÿ</span><a href="#å…§å®¹è¼¸å…¥" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>ä½¿ç”¨å…§å»ºçš„presentTextInputControlleræ–¹æ³•å³å¯ï¼</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">replyBtnClick</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">target</span> <span class="o">=</span> <span class="n">target</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span>
    <span class="p">}</span>
    
    <span class="k">self</span><span class="o">.</span><span class="nf">presentTextInputController</span><span class="p">(</span><span class="nv">withSuggestions</span><span class="p">:</span> <span class="p">[</span><span class="s">"ç¨å¾Œå›è¦†æ‚¨"</span><span class="p">,</span><span class="s">"è¬è¬"</span><span class="p">,</span><span class="s">"æ­¡è¿èˆ‡æˆ‘è¯çµ¡"</span><span class="p">,</span><span class="s">"å¥½çš„"</span><span class="p">,</span><span class="s">"OK!"</span><span class="p">],</span> <span class="nv">allowedInputMode</span><span class="p">:</span> <span class="kt">WKTextInputMode</span><span class="o">.</span><span class="n">plain</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="k">in</span>
        
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">results</span> <span class="o">=</span> <span class="n">results</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="c1">//æœ‰è¼¸å…¥å€¼æ™‚</span>
        
        <span class="k">let</span> <span class="nv">txts</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="nf">filter</span><span class="p">({</span> <span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="k">in</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">txt</span> <span class="o">=</span> <span class="n">txt</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">,</span><span class="n">txt</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
                <span class="k">return</span> <span class="kc">true</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">})</span><span class="o">.</span><span class="nf">map</span><span class="p">({</span> <span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="k">in</span>
            <span class="k">return</span> <span class="n">txt</span> <span class="k">as?</span> <span class="kt">String</span> <span class="p">??</span> <span class="s">""</span>
        <span class="p">})</span>
        <span class="c1">//é è™•ç†è¼¸å…¥</span>
        
        
        <span class="n">txts</span><span class="o">.</span><span class="nf">forEach</span><span class="p">({</span> <span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="/assets/e85d77b05061/1*CWr9RIb55Sn-FoMrTmc7sQ.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*CWr9RIb55Sn-FoMrTmc7sQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjgiIGhlaWdodD0iNDQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><h3 id="ç¸½çµ"><span class="me-2">ç¸½çµ</span><a href="#ç¸½çµ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><strong><em>è¬è¬ä½ çœ‹åˆ°é€™ï¼è¾›è‹¦äº†ï¼</em></strong></p></blockquote><p>åˆ°é€™è£¡æ–‡ç« å·²å‘Šä¸€æ®µè½ï¼Œå¤§ç•¥æäº†ä¸€ä¸‹UIæ’ç‰ˆã€ç¨‹å¼ã€æ¨æ’­ã€ä»‹é¢æ‡‰ç”¨éƒ¨åˆ†ï¼Œæœ‰é–‹ç™¼éiOSçš„ä¸Šæ‰‹çœŸçš„å¾ˆå¿«ï¼Œå¹¾ä¹å·®ä¸å¤šè€Œä¸”è¨±å¤šæ–¹æ³•éƒ½åšäº†ç°¡åŒ–ä½¿ç”¨èµ·ä¾†æ›´ç°¡æ½”ï¼Œä½†èƒ½åšçš„äº‹ç¢ºå¯¦ä¹Ÿè®Šå°‘äº†(åƒæ˜¯ç›®å‰é‚„ä¸çŸ¥é“æ€éº¼é‡å°Tableåšè¼‰å…¥æ›´å¤š)ï¼›ç›®å‰èƒ½åšçš„äº‹ç¢ºå¯¦å¾ˆå°‘ï¼Œå¸Œæœ›å®˜æ–¹åœ¨æœªä¾†èƒ½é–‹æ”¾æ›´å¤šAPIçµ¦é–‹ç™¼è€…ä½¿ç”¨â¤ï¸â¤ï¸â¤ï¸</p><h4 id="murmur"><span class="me-2">MurMur:</span><a href="#murmur" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/e85d77b05061/1*-J9qZ846ZysJEhMTSZeE3w.webp" class="popup img-link blur"><img data-src="/assets/e85d77b05061/1*-J9qZ846ZysJEhMTSZeE3w.webp" alt="Apple Watch App Target éƒ¨ç½²åˆ°æ‰‹éŒ¶çœŸçš„æœ‰å¤ æ…¢ â€” [Narcos](https://www.netflix.com/tw/title/80025172){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NjAiIGhlaWdodD0iOTQ1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Apple Watch App Target éƒ¨ç½²åˆ°æ‰‹éŒ¶çœŸçš„æœ‰å¤ æ…¢ â€” <a href="https://www.netflix.com/tw/title/80025172" target="_blank">Narcos</a></p><p>æœ‰ä»»ä½•å•é¡ŒåŠæŒ‡æ•™æ­¡è¿ <a href="https://www.zhgchg.li/contact" target="_blank">èˆ‡æˆ‘è¯çµ¡</a> ã€‚</p><hr /><p>æœ¬æ–‡é¦–æ¬¡ç™¼è¡¨æ–¼ Medium â¡ï¸ <a href="https://medium.com/p/e85d77b05061" target="_blank"><strong>å‰å¾€æŸ¥çœ‹</strong></a></p><p>ç”± <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> èˆ‡ <a href="https://github.com/ZhgChgLi/medium-to-jekyll-starter.github.io" target="_blank">Medium-to-jekyll-starter</a> æä¾›è‡ªå‹•è½‰æ›èˆ‡åŒæ­¥æŠ€è¡“ã€‚</p><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2019-02-05-e85d77b05061.md" target="_blank">Improve this page on Github.</a></p><p><a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" style="display:block !important;" class="img-link shimmer" ><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&amp;emoji=ğŸº&amp;slug=zhgchgli&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Bree&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a beer" loading="lazy"></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill-width" height="50" autoscale="on"></widgetic> <script async="" src="https://widgetic.com/sdk/sdk.js"></script><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); border-bottom: 1px solid var(--main-border-color);transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1K+ Followers</span></a></div><div style="font-size: 0.8em; cursor:default; text-align: right;"> 7,887 <span style="font-size: 0.9em;">Total Views</span><br /> <span style="font-size: 0.8em;">Last Statistics Date: 2025-08-14 | 6,942 Views on <a href="https://medium.com/p/e85d77b05061" target="_blank">Medium.</a></span></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/watchos/" class="post-tag no-text-decoration" >watchos</a> <a href="/tags/apple-watch-apps/" class="post-tag no-text-decoration" >apple-watch-apps</a> <a href="/tags/watchkit/" class="post-tag no-text-decoration" >watchkit</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E5%8B%95%E6%89%8B%E5%81%9A%E4%B8%80%E6%94%AF%20Apple%20Watch%20App%20%E5%90%A7%EF%BC%81%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2F%25E5%258B%2595%25E6%2589%258B%25E5%2581%259A%25E4%25B8%2580%25E6%2594%25AF-apple-watch-app-%25E5%2590%25A7-e85d77b05061%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E5%8B%95%E6%89%8B%E5%81%9A%E4%B8%80%E6%94%AF%20Apple%20Watch%20App%20%E5%90%A7%EF%BC%81%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2F%25E5%258B%2595%25E6%2589%258B%25E5%2581%259A%25E4%25B8%2580%25E6%2594%25AF-apple-watch-app-%25E5%2590%25A7-e85d77b05061%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2F%25E5%258B%2595%25E6%2589%258B%25E5%2581%259A%25E4%25B8%2580%25E6%2594%25AF-apple-watch-app-%25E5%2590%25A7-e85d77b05061%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/z-travel-diaries/en/travel-diary-8-days-and-7-nights-in-busan-south-korea-2025-8ace34a1a3d8/">Travel Diary: 8 Days and 7 Nights in Busan, South Korea 2025</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/%E9%81%8A%E8%A8%98-2025-%E9%9F%93%E5%9C%8B%E9%87%9C%E5%B1%B1-8-%E5%A4%A9-7-%E5%A4%9C%E8%87%AA%E7%94%B1%E8%A1%8C-8ace34a1a3d8/">éŠè¨˜ 2025 éŸ“åœ‹é‡œå±± 8 å¤© 7 å¤œè‡ªç”±è¡Œ</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/%E9%81%8A%E8%A8%98-9-11-%E5%90%8D%E5%8F%A4%E5%B1%8B%E4%B8%80%E6%97%A5%E5%BF%AB%E9%96%83%E8%87%AA%E7%94%B1%E8%A1%8C-7b8a0563c157/">éŠè¨˜ 9/11 åå¤å±‹ä¸€æ—¥å¿«é–ƒè‡ªç”±è¡Œ</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/%E9%81%8A%E8%A8%98-2023-%E4%B9%9D%E5%B7%9E-10-%E6%97%A5%E8%87%AA%E7%94%B1%E8%A1%8C%E7%8D%A8%E6%97%85-d78e0b15a08a/">éŠè¨˜ 2023 ä¹å· 10 æ—¥è‡ªç”±è¡Œç¨æ—…</a><li class="text-truncate lh-lg"> <a href="/posts/z-%E5%BA%A6%E6%97%85%E8%A1%8C%E9%81%8A%E8%A8%98/%E9%81%8A%E8%A8%98-2023-%E4%BA%AC%E9%98%AA%E7%A5%9E-8-%E6%97%A5%E8%87%AA%E7%94%B1%E8%A1%8C-76d66c2e34af/">éŠè¨˜ 2023 äº¬é˜ªç¥ 8 æ—¥è‡ªç”±è¡Œ</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/github/">github</a> <a class="post-tag btn btn-outline-primary" href="/tags/jekyll/">jekyll</a> <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/avplayer-%E9%82%8A%E6%92%AD%E9%82%8A-cache-%E5%AF%A6%E6%88%B0-ee47f8f1e2d2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1609856872" data-df="ll" > Jan 5, 2021 </time><h4 class="pt-0 my-2">AVPlayer é‚Šæ’­é‚Š Cache å¯¦æˆ°</h4><div class="text-muted"><p>AVPlayer/AVQueuePlayer with AVURLAsset å¯¦ä½œ AVAssetResourceLoaderDelegate é”æˆé‚Šæ’­æ”¾éŸ³æ¨‚/å½±ç‰‡é‚Šç·©å­˜</p></div></div></a></article><article class="col"> <a href="/posts/en/avplayer-streaming-and-caching-practical-guide-ee47f8f1e2d2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1609856872" data-df="ll" > Jan 5, 2021 </time><h4 class="pt-0 my-2">AVPlayer Streaming and Caching Practical Guide</h4><div class="text-muted"><p>Implementing AVPlayer/AVQueuePlayer with AVURLAsset and AVAssetResourceLoaderDelegate to achieve music/video streaming while caching.</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-life/apple-watch-series-4-%E5%BE%9E%E5%85%A5%E6%89%8B%E5%88%B0%E4%B8%8A%E6%89%8B%E5%85%A8%E6%96%B9%E4%BD%8D%E5%BF%83%E5%BE%97-a2920e33e73e/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1543241921" data-df="ll" > Nov 26, 2018 </time><h4 class="pt-0 my-2">Apple Watch Series 4 å¾å…¥æ‰‹åˆ°ä¸Šæ‰‹å…¨æ–¹ä½å¿ƒå¾—</h4><div class="text-muted"><p>ç‚ºä»€éº¼è¦è²·ï¼Ÿå¥½ç”¨å—ï¼Ÿå“ªè£¡å¥½ç”¨ï¼Ÿæ€éº¼ç”¨ï¼Ÿ&amp; WatchOS APPæ¨è–¦</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-life/apple-watch-series-4-%E5%BE%9E%E5%85%A5%E6%89%8B%E5%88%B0%E4%B8%8A%E6%89%8B%E5%85%A8%E6%96%B9%E4%BD%8D%E5%BF%83%E5%BE%97-a2920e33e73e/" class="btn btn-outline-primary" aria-label="Older" ><p>Apple Watch Series 4 å¾å…¥æ‰‹åˆ°ä¸Šæ‰‹å…¨æ–¹ä½å¿ƒå¾—</p></a> <a href="/posts/zrealm-dev/ios-tintadjustmentmode-%E5%B1%AC%E6%80%A7-6012b7b4f612/" class="btn btn-outline-primary" aria-label="Newer" ><p>iOS tintAdjustmentMode å±¬æ€§</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Â© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>. <br/> All Medium articles were converted using <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown.</a><br/>Last updated: 2025-08-15 01:02:02 +08:00</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/github/">github</a> <a class="post-tag btn btn-outline-primary" href="/tags/jekyll/">jekyll</a> <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

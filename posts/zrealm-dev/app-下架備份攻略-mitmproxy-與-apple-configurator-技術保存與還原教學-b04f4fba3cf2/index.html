<!doctype html><html lang="zh-tw" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="zh_tw" /><meta name="description" content="iOS App 即將下架？透過 mitmproxy 嗅探 API 資料與 Apple Configurator 備份 .ipa 檔，實現 App 永久留存與資料回放，保存產品生命週期最後回憶，避免資料遺失。" /><meta property="og:description" content="iOS App 即將下架？透過 mitmproxy 嗅探 API 資料與 Apple Configurator 備份 .ipa 檔，實現 App 永久留存與資料回放，保存產品生命週期最後回憶，避免資料遺失。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-05-15T00:20:45+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" /><meta property="twitter:title" content="App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-05-15T00:20:45+08:00","datePublished":"2024-05-15T00:20:45+08:00","description":"iOS App 即將下架？透過 mitmproxy 嗅探 API 資料與 Apple Configurator 備份 .ipa 檔，實現 App 永久留存與資料回放，保存產品生命週期最後回憶，避免資料遺失。","headline":"App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/"},"url":"https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/"}</script><title>App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/"><link rel="alternate" hreflang="ja" href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/app%E7%B5%82%E7%82%B9%E9%A7%85%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8-mitmproxy%E3%81%A8apple-configurator%E3%81%A7%E4%B8%8B%E6%9E%B6%E5%89%8D%E3%81%AE%E7%8A%B6%E6%85%8B%E3%82%92%E6%B0%B8%E4%B9%85%E4%BF%9D%E5%AD%98-b04f4fba3cf2/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/"><link rel="alternate" hreflang="x-default" href="https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"如何用 Apple Configurator 2 備份已下架 App 的 .ipa 檔案避免永久遺失？","acceptedAnswer":{"@type":"Answer","text":"透過 Apple Configurator 2 將已安裝在 iPhone 上的 App 下載到 Mac，並在下載過程中從指定快取路徑提取 .ipa 檔案，即使 App 下架也能保留安裝檔，避免因刪除或換機而永久失去。"}},{"@type":"Question","name":"如何使用 mitmproxy 錄製並回放 App 下架前的 API 請求與回應資料？","acceptedAnswer":{"@type":"Answer","text":"先在手機設定代理指向執行 mitmproxy 的 Mac，安裝並信任 mitmproxy 根憑證後，透過 mitmdump 搭配 rodo.py 腳本錄製 API 請求與回應，並排除會影響 Hash 計算的參數，錄製完成後可回放資料模擬 API 回應，達成 App 下架前資料的完整備份與還原。"}},{"@type":"Question","name":"mitmproxy 如何處理 HTTPS 流量並繞過 SSL Pinning 以捕捉加密請求？","acceptedAnswer":{"@type":"Answer","text":"透過安裝 mitmproxy 自簽根憑證並在手機中啟用信任，mitmproxy 可進行中間人攻擊解密 HTTPS 流量；若 App 實作 SSL Pinning，則需將 Pinning 憑證加入 mitmproxy 配置，才能成功攔截並分析加密請求。"}},{"@type":"Question","name":"如何確保錄製的 API Response Data 回放時能正確匹配 App 請求？","acceptedAnswer":{"@type":"Answer","text":"分析 API 請求中會影響 Hash 計算的參數，將如時間戳、裝置 ID 等不影響內容的參數排除於 Hash 計算外，透過 mitmproxy-rodo 的 config.json 設定精準匹配，確保回放時能正確回應對應的 API 資料。"}},{"@type":"Question","name":"App 下架後如何透過技術手段完整緬懷並復現產品最後狀態？","acceptedAnswer":{"@type":"Answer","text":"結合錄影保存操作畫面、Apple Configurator 2 備份 .ipa 安裝檔，以及 mitmproxy 錄製並回放 API Response Data，能同時保存 App 骨架與內容資料，實現下架前產品狀態的完整備份與復現，達成技術層面的緬懷。"}}]} </script><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item" style="padding:0 15px 0 15px;"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background:#EDF4FF;color:#0A84FF;font-size:15px;transition:background-color .2s,color .2s;" onmouseover="this.style.backgroundColor='#0A84FF';this.style.color='#ffffff';" onmouseout="this.style.backgroundColor='#EDF4FF';this.style.color='#0A84FF';"> <i class="fa-brands fa-medium"></i> <span><span style="font-size: 18px; font-weight: boild;">Follow Me on Medium!</span><br/><u>1,051+</u> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首頁</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分類</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>標籤</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>歸檔</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>關於我</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>聯絡我</span> </a><li class="nav-item"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;"> <a href="https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #666;background:#111;color:#fff;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a></div><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;margin-top:5px;"> <a href="https://en.zhgchg.li/posts/zrealm-dev/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/app%E7%B5%82%E7%82%B9%E9%A7%85%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8-mitmproxy%E3%81%A8apple-configurator%E3%81%A7%E4%B8%8B%E6%9E%B6%E5%89%8D%E3%81%AE%E7%8A%B6%E6%85%8B%E3%82%92%E6%B0%B8%E4%B9%85%E4%BF%9D%E5%AD%98-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首頁</a> </span> <span>App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜尋..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學</h1><p class="post-desc fw-light mb-4">iOS App 即將下架？透過 mitmproxy 嗅探 API 資料與 Apple Configurator 備份 .ipa 檔，實現 App 永久留存與資料回放，保存產品生命週期最後回憶，避免資料遺失。</p><div class="post-meta text-muted"> <span> 發佈於 <time data-ts="1715703645" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024 年 05 月 15 日 </time> </span> <span> 更新於 <time data-ts="1715703645" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024 年 05 月 14 日 </time> </span><div class="mt-3 mb-3"> <a href="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" class="popup img-link preview-img blur"><img data-src="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> 作者 <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3386 字" > <em>18 分鐘</em>閱讀</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節目錄 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">App 下架備份攻略｜mitmproxy 與 Apple Configurator 技術保存與還原教學</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;"><div aria-label="Views" style="display:inline-flex;align-items:center;gap:6px;font-size:.85rem;"> <span style="display:inline-flex;align-items:center;justify-content:center;"> 瀏覽次數: <span style="margin-left:4px;" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="最後更新時間: 2026-01-05 11:20:55 +08:00"><u>986+</u></span> </span></div><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px;flex-wrap:wrap;"> <a href="https://zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E8%88%87-apple-configurator-%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #dc3545;background:#dc3545;color:#fff !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-%E4%B8%8B%E6%9E%B6%E5%A4%87%E4%BB%BD%E6%94%BB%E7%95%A5-mitmproxy-%E4%B8%8E-apple-configurator-%E6%8A%80%E6%9C%AF%E4%BF%9D%E5%AD%98%E4%B8%8E%E8%BF%98%E5%8E%9F%E6%95%99%E5%AD%A6-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a> <a href="https://en.zhgchg.li/posts/zrealm-dev/app-lifecycle-management-mitmproxy-apple-configurator-for-preserving-removed-apps-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/app%E7%B5%82%E7%82%B9%E9%A7%85%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8-mitmproxy%E3%81%A8apple-configurator%E3%81%A7%E4%B8%8B%E6%9E%B6%E5%89%8D%E3%81%AE%E7%8A%B6%E6%85%8B%E3%82%92%E6%B0%B8%E4%B9%85%E4%BF%9D%E5%AD%98-b04f4fba3cf2/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div></div><blockquote class="prompt-info"><p>基於 SEO 考量，本文標題與描述經 AI 調整，原始版本請參考內文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目錄</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#app-產品進入終點站能做什麼事緬懷">App 產品進入終點站，能做什麼事緬懷？</a></li><li class="has-children"><details><summary>前言 <a href="#前言">#</a></summary><ul><li><a href="#緬懷">緬懷</a></li></ul></details></li><li><a href="#非技術方式--錄影">非技術方式 — 錄影</a></li><li class="has-children"><details><summary>技術方式 <a href="#技術方式">#</a></summary><ul><li><a href="#聲明">聲明</a></li><li><a href="#骨-備份-ipa-app-安裝檔">[骨] 備份 .ipa App 安裝檔</a></li><li><a href="#骨-還原-ipa-app-安裝檔">[骨] 還原 .ipa App 安裝檔</a></li><li><a href="#肉-備份最後的-api-response-data">[肉] 備份最後的 API Response Data</a></li><li><a href="#肉-回放擷取到的-api-response-data">[肉] 回放擷取到的 API Response Data</a></li></ul></details></li><li class="has-children"><details><summary>緬懷 <a href="#緬懷-1">#</a></summary><ul><li><a href="#歡迎協助貢獻">歡迎協助貢獻</a></li></ul></details></li></ul></nav><hr /><h3 id="app-產品進入終點站能做什麼事緬懷"><span class="me-2">App 產品進入終點站，能做什麼事緬懷？</span><a href="#app-產品進入終點站能做什麼事緬懷" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用 mitmproxy + apple configurator 讓 App 永遠停留在下架前的狀態</p><h3 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.webp" alt="咒術迴戰" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgwIiBoZWlnaHQ9IjU0MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>咒術迴戰</p><p>工作時間久、經手過的產品多，也開始遇到有曾經參與過的產品要進入終點站(下架)；從零到有開發一個產品如同孕育一個新生命，團隊一起努力了 3–4 個月將孩子生下來；雖然後期已交由其他保母(工程師)繼續培養，最近聽到它即將進入產品生命週期的終點還是有些許遺憾。</p><blockquote><p><strong><em>人生也是如此，我們永遠都不知道明天是太陽先升起還是意外先來臨；唯一能做的就是珍惜當下，把事情做好。</em></strong></p></blockquote><h4 id="緬懷"><span class="me-2">緬懷</span><a href="#緬懷" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>凡走過必留下痕跡，我們希望能在產品進入終點站之前做些什麼，讓大家還有機會回憶也讓它至少留下存在過的證明；以下方式都需要 App 還在線上，如果已經下架就真的只剩回憶了。</p><h3 id="非技術方式--錄影"><span class="me-2">非技術方式 — 錄影</span><a href="#非技術方式--錄影" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>除了直接用 <a href="https://support.apple.com/zh-tw/102653" target="_blank">iPhone 內建的螢幕錄影功能</a> 之外，我們也可以使用 QuickTime Player 將手機接上 Mac 使用電腦進行錄影、匯出影片。</p><ol><li>在 Mac 上打開 QuickTime Player App</ol><p><a href="/assets/b04f4fba3cf2/1*UVkfiLbcYU8YuZEPdbJaOg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*UVkfiLbcYU8YuZEPdbJaOg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjIiIGhlaWdodD0iMTc3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>2. 左上角工具列選擇「檔案」-&gt;「新增影片錄製」</p><p><a href="/assets/b04f4fba3cf2/1*VcRN0FExy-CA7sExHtMT6w.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*VcRN0FExy-CA7sExHtMT6w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjQiIGhlaWdodD0iMzc0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>3. 跳出錄影介面後點擊 🔴 旁的「v」，螢幕與揚聲器選擇您接上的手機</p><p><a href="/assets/b04f4fba3cf2/1*SN0XL8Zt0UlBizXiIqZiyA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*SN0XL8Zt0UlBizXiIqZiyA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzODciIGhlaWdodD0iNDE1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>4. 此時錄影介面就會出現手機畫面</p><p><a href="/assets/b04f4fba3cf2/1*MSuecaACmg3ZNMnGpDkRFQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*MSuecaACmg3ZNMnGpDkRFQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTYiIGhlaWdodD0iOTkxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>點擊「🔴」開始錄影，回到手機上操作要錄影的內容。</p><p><a href="/assets/b04f4fba3cf2/1*bxL9Dq1IWgbrlSfKO6skLQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*bxL9Dq1IWgbrlSfKO6skLQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMTMiIGhlaWdodD0iNzMiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>錄影中會顯示當前影片大小，欲結束錄影再按一次「🔴」即可停止。</p><p><a href="/assets/b04f4fba3cf2/1*VxWQNHF_PX5CZAkjJEXPbQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*VxWQNHF_PX5CZAkjJEXPbQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDciIGhlaWdodD0iOTg3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>可以透過 QuickTime Player 工具列簡單的裁剪影片，最後按下「Command」+「s」匯出儲存影片到指定位置，即完成錄影留念。</p><p>影片留念的好處是未來回憶比圖片更容易串連起來，錄的越深就紀錄的越仔細，若要將更別畫面轉成圖片也可以直接截圖，很方便。</p><h3 id="技術方式"><span class="me-2">技術方式</span><a href="#技術方式" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>App 技術備份可分為兩個方向；「骨」App 本身其實只是個骨架、「肉」由 API Response Data 組成才是 App 內容資料的核心。</p><ul><li>骨會隨著 App 從 App Store 商城下架而消失。<li>肉會隨著 API 主機、伺服器關閉而消失。</ul><p>因此我們也分成備份骨跟肉兩個技術方式。</p><h4 id="聲明"><span class="me-2">聲明</span><a href="#聲明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>本文僅為技術研究分享，不鼓勵利用任何技術進行非法、侵權行為。</em></p></blockquote><h4 id="骨-備份-ipa-app-安裝檔"><span class="me-2">[骨] 備份 .ipa App 安裝檔</span><a href="#骨-備份-ipa-app-安裝檔" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>App 在商城下架後已下載 App 的手機只要不主動刪除 App，就會一直存在在該手機上，換手機用轉移的方式也會一併轉移過去。</p><p>但如果我們不小心刪除該 App 或是換手機沒轉移，那就真的永遠跟他說再見了；此時如果有手動備份商城的 .ipa 檔案就能再次續命。</p><p>很久以前 <a href="https://zhgchg.li/posts/zrealm-dev/ios-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%85%A8%E6%94%BB%E7%95%A5-%E8%B6%8A%E7%8D%84%E6%8F%90%E5%8F%96ipa%E6%AA%94-ui%E5%88%86%E6%9E%90%E5%88%B0%E5%8F%8D%E7%B7%A8%E8%AD%AF%E6%8A%80%E8%A1%93%E8%A9%B3%E8%A7%A3-7498e1ff93ce/">逆向工程的文章</a> 有提到過，但這次只需單純備份 .ipa 檔案不需敲殼，全部都是使用 Apple 官方提供的工具完成。</p><p><strong>1.安裝 <a href="https://apps.apple.com/tw/app/apple-configurator/id1037126344?mt=12" target="_blank">Apple Configurator 2</a></strong></p><p><a href="/assets/b04f4fba3cf2/1*_RzuFIVGV9T_-xJ53H8fGA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*_RzuFIVGV9T_-xJ53H8fGA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9Ijc3NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>首先去 Mac App Store 下載安裝「 <a href="https://apps.apple.com/tw/app/apple-configurator/id1037126344?mt=12" target="_blank">Apple Configurator 2</a> 」</p><p><strong>2. 將 iPhone 接上 Mac 並點擊信任電腦</strong></p><p><a href="/assets/b04f4fba3cf2/1*EiSQmOkDCW73kYhJWbTipQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*EiSQmOkDCW73kYhJWbTipQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDY4IiBoZWlnaHQ9IjY5NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>接上成功後就會出現 iPhone 的主畫面。</p><p><strong>3. 確認你的手機已安裝欲備份 .ipa 檔案的 App</strong></p><p><a href="/assets/b04f4fba3cf2/1*QD9M4uM9eyKSixzu8AdKbw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*QD9M4uM9eyKSixzu8AdKbw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjgiIGhlaWdodD0iMTA2MiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>我們需要在 Apple Configurator 2 卡出取代畫面，才能取得下載到暫存中的 .ipa 檔案，因此我們要先確保手機上有安裝目標 App。</p><p><strong>4. 回到 Mac 上的 Apple Configurator 2</strong></p><p>點兩下上面顯示的 iPhone 主畫面進入資訊頁。</p><p><a href="/assets/b04f4fba3cf2/1*X_y5uGhRRIq7VQuW4PkYBg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*X_y5uGhRRIq7VQuW4PkYBg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5OTIiIGhlaWdodD0iNjI1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>切換到「App」-&gt; 右上角「+ 加入」-&gt;「App」</p><p>完成 App Store 帳號登入後可以取得您曾經購買過的 App 列表。</p><p><a href="/assets/b04f4fba3cf2/1*uAyjPD75-MGokHCbDoC_4g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*uAyjPD75-MGokHCbDoC_4g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MjMiIGhlaWdodD0iNTExIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>搜尋找到欲備份的目標 App，選擇後點「加入」。</p><p><a href="/assets/b04f4fba3cf2/1*T-v1CNrmc7T4MpeyAX0c7A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*T-v1CNrmc7T4MpeyAX0c7A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzUiIGhlaWdodD0iMjUyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>此時會出現等待視窗，正在 XXX 上加入 App、正在下載「XXX」。</p><p><strong>5. 提取 .ipa 檔案</strong></p><blockquote><p><strong><em>放著等他下載完成後，會跳出詢問是否要取代現有已安裝 App 視窗。</em></strong></p></blockquote><p><a href="/assets/b04f4fba3cf2/1*9f54be4lixn4ezKhwRJrtg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*9f54be4lixn4ezKhwRJrtg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOTAiIGhlaWdodD0iNDMwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><strong><em>此時不要按任何動作。此時不要按任何動作。此時不要按任何動作。</em></strong></p></blockquote><p>我們打開一個 Finder：</p><p>左上角工具列選擇「前往」-&gt; 「前往檔案夾」</p><p><a href="/assets/b04f4fba3cf2/1*JgXWca5hKROuoOgLThkQnw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*JgXWca5hKROuoOgLThkQnw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTciIGhlaWdodD0iNDkyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>貼上以下路徑：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>~/Library/Group Containers/K36BKF7T3D.group.com.apple.configurator/Library/Caches/Assets/TemporaryItems/MobileApps
</pre></table></code></div></div><p>就可以找到下載下來正準備要安裝的目標 App .ipa 檔案：</p><p><a href="/assets/b04f4fba3cf2/1*zV5yWozKqXtwekI33NWwVg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*zV5yWozKqXtwekI33NWwVg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDMyIiBoZWlnaHQ9IjU2NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>將其複製出來即可完成 App .ipa 檔案備份。</p><p>完成檔案複製後再回去 Apple Configurator 2 點擊停止，終止操作。</p><h4 id="骨-還原-ipa-app-安裝檔"><span class="me-2">[骨] 還原 .ipa App 安裝檔</span><a href="#骨-還原-ipa-app-安裝檔" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>一樣是將欲還原 App 的手機接上 Mac 並打開 Apple Configurator 2，進入 App 加入介面。</p><p><a href="/assets/b04f4fba3cf2/1*6miYYw5QL6iqLQqrtHOi2A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*6miYYw5QL6iqLQqrtHOi2A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MjMiIGhlaWdodD0iNTExIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>還原的話要選擇左下角「從我的 Mac 選擇…」</p><p><a href="/assets/b04f4fba3cf2/1*7a_25rE2eDpMFZqBC3sP6g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*7a_25rE2eDpMFZqBC3sP6g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MTIiIGhlaWdodD0iNTYwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>選擇備份的 App .ipa 檔案，按「加入」。</p><p><a href="/assets/b04f4fba3cf2/1*AcGEAuowmvvGRb-E22wu2g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*AcGEAuowmvvGRb-E22wu2g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzUiIGhlaWdodD0iMjUyIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>等待傳送、安裝完成，回到手機上就能重新打開 App，復活成功！</p><h4 id="肉-備份最後的-api-response-data"><span class="me-2">[肉] 備份最後的 API Response Data</span><a href="#肉-備份最後的-api-response-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>這邊會運用到之前在 <a href="https://zhgchg.li/posts/zrealm-dev/end-to-end-testing-%E7%94%A8-snapshot-api-local-mock-server-%E8%A7%A3%E6%B1%BA-ios-app-%E6%B8%AC%E8%A9%A6%E8%B3%87%E6%96%99%E4%B8%8D%E7%A9%A9%E5%AE%9A%E5%95%8F%E9%A1%8C-5a5c4b25a83d/"><strong>App End-to-End Testing Local Snapshot API Mock Server</strong></a> <strong>文章(細節原理可參考)</strong> 中所使用到的方式跟當時弄的開源專案：</p><p><a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank" class="img-link shimmer" ><img src="https://repository-images.githubusercontent.com/686628812/44cf2ec7-4de1-4a10-b213-bf7dd30748a4" alt="" loading="lazy"></a></p><p>同之前用錄製 API Request &amp; Response 來跑 E2E Testing 的技術，我們也可以用它來紀錄 App 下架、停機前最後的 API Request &amp; Response Data。</p><p><strong>1. 安裝 <a href="https://mitmproxy.org/" target="_blank">mitmproxy</a></strong></p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">brew</span> <span class="nx">install</span> <span class="nx">mitmproxy</span>
</pre></table></code></div></div><p>mitmproxy 是一套開源的中間人攻擊，網路請求嗅探工具。</p><p>如果你不熟悉 Mitmproxy 中間人攻擊的工作原理可先參考我之前的文章：「 <a href="https://zhgchg.li/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/">APP有用HTTPS傳輸，但資料還是被偷了。</a> 」或 <a href="https://docs.mitmproxy.org/stable/overview-getting-started/" target="_blank">Mimproxy 官方文件</a> 。</p><p>如果是用在純網路請求嗅探，用不習慣 mimproxy 介面也可以改用「 <a href="https://proxyman.io/" target="_blank">Proxyman</a> 」可參考之前 <a href="https://zhgchg.li/posts/zrealm-dev/python-%E6%90%AD%E9%85%8D-google-cloud-platform-%E8%88%87-line-bot-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E8%87%AA%E5%8B%95%E7%B0%BD%E5%88%B0%E8%85%B3%E6%9C%AC%E8%88%87%E6%8E%92%E7%A8%8B-70a1409b149a/">另一篇文章</a> 的用法。</p><p><strong>2. 完成 mitmproxy 憑證設定</strong></p><blockquote><p><em>針對 HTTPS 加密連線我們需要使用根憑證抽換進行中間人攻擊，因此第一次使用須先完成手機端根憑證下載與啟用。</em></p></blockquote><blockquote><p><em>*如果您的 App &amp; API Server 有實作 SSL Pinning 也需要將 Pinning 憑證加入到 mitmproxy。</em></p></blockquote><ul><li>首先確保 iPhone 手機與 Mac 電腦是連接在相同的網路環境<li>若無 WiFi 電腦連接實體網路，也可以 <a href="https://applealmond.com/posts/92291" target="_blank">打開 Mac 的 WiFi 分享功能</a> 讓手機連到 Mac 的網路</ul><p>在 Terminal 啟動 <code class="language-plaintext highlighter-rouge">mitmproxy</code> or <code class="language-plaintext highlighter-rouge">mitmweb</code> (Web GUI 版)。</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">mitmproxy</span>
</pre></table></code></div></div><p><a href="/assets/b04f4fba3cf2/1*xruNW5ZUPNuxVJvKOyPQTA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*xruNW5ZUPNuxVJvKOyPQTA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NTEiIGhlaWdodD0iMzkwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>看到這畫面代表 mitmproxy 服務已啟動，目前沒有流量進來所以是空的，掛在這個畫面不要關閉 Terminal。</p><ul><li>到 Mac 網路設定查看 Mac 的 IP 位址</ul><p>回到手機 WiFi 設定點擊「i」進入詳細設定，找到最下方「設定代理伺服器」：</p><p><a href="/assets/b04f4fba3cf2/1*zXVilpUXnXakpWib007BPA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*zXVilpUXnXakpWib007BPA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*QV6reSNc0AJg7sQa2qiCjQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*QV6reSNc0AJg7sQa2qiCjQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>伺服器輸入 Mac 電腦的 IP 位址<li>連接埠輸入 8080<li>儲存</ul><p><strong>在手機上打開 Safari 輸入： <a href="http://mitm.it/" target="_blank">http://mitm.it/</a></strong></p><p>如果出現：</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">If</span> <span class="n">you</span> <span class="n">can</span> <span class="n">see</span> <span class="k">this</span><span class="p">,</span> <span class="n">traffic</span> <span class="k">is</span> <span class="n">not</span> <span class="n">passing</span> <span class="n">through</span> <span class="n">mitmproxy</span><span class="p">.</span>
</pre></table></code></div></div><p>代表手機的網路代理伺服器沒有設定成功或是 Mac 上沒啟動 <code class="language-plaintext highlighter-rouge">mitmproxy</code> 。</p><p>正常情況會出現：</p><p><a href="/assets/b04f4fba3cf2/1*Ks5IHpi2AoPj4wXu5ZH9VA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*Ks5IHpi2AoPj4wXu5ZH9VA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><blockquote><p><em>此時只有 HTTP 流量能被嗅探，HTTPS 流量會報錯，我們繼續往下設定。</em></p></blockquote><p>代表連接成功，我們找到 iOS 區塊點擊「Get mimproxy-ca-cert.pem」</p><p><a href="/assets/b04f4fba3cf2/1*HvIg0jtUQ5ops519YUA52A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*HvIg0jtUQ5ops519YUA52A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*tU3gi3PBvrbUc-tqKjUD9w.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*tU3gi3PBvrbUc-tqKjUD9w.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>點擊「允許」</ul><p>下載完成後進入到手機的設定，會出現「已下載描述檔」點擊進入。</p><p><a href="/assets/b04f4fba3cf2/1*JzX7U1jCtda915mGz5CPjw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*JzX7U1jCtda915mGz5CPjw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*mWmVPZ-au302NGHXgCxAow.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*mWmVPZ-au302NGHXgCxAow.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*SMnr82MEIo4YaYOvTpILeQ.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*SMnr82MEIo4YaYOvTpILeQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>點擊進入，右上角「安裝」，輸入手機密碼完成安裝。</ul><p>回到設定 -&gt; 「一般」-&gt;「關於本機」-&gt; 最下方「憑證信任設定」-&gt; 啟用「mitmproxy」。</p><p><a href="/assets/b04f4fba3cf2/1*UOcYlpOolfWithLb517__g.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*UOcYlpOolfWithLb517__g.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*LAoe10TplFdfWXEHMRAvWw.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*LAoe10TplFdfWXEHMRAvWw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>「繼續」完成啟用。</ul><p>至此我們就完成中間人攻擊所有的前置準備工作。</p><blockquote><p><em>要記得當前你手機所有的流量都會經過代理從你的 Mac 電腦出去， <strong>操作完畢記得回到手機上的網路設定把代理伺服器設定關掉</strong> ，否則手機網路 WiFi 會全部連不上對外網路。</em></p></blockquote><p>回到 Terminal mitmproxy，一邊操做手機上的 App 就能看到所有被捕捉的 API 請求紀錄。</p><p><a href="/assets/b04f4fba3cf2/1*-aRzC2HWRCvGok-L9jbjHA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*-aRzC2HWRCvGok-L9jbjHA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MzYiIGhlaWdodD0iMzg0Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>每個請求都能進入查看詳細 Request &amp; Response 內容：</p><p><a href="/assets/b04f4fba3cf2/1*IyO00OEpAadapGKNtOV_Mg.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*IyO00OEpAadapGKNtOV_Mg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MzYiIGhlaWdodD0iMzc5Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>以上是 mitmproxy 基礎設定與實際工作。</p><p><strong>3. 嗅探、了解 API 架構</strong></p><p>再來就要透過 mitmproxy 的 <code class="language-plaintext highlighter-rouge">mitmdump</code> 服務結合我之前開發的 <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank"><strong>mitmproxy-rodo</strong></a> <a href="https://docs.mitmproxy.org/stable/addons-overview/" target="_blank">addons</a> 錄製請求和回放請求。</p><blockquote><p><a href="https://zhgchg.li/posts/zrealm-dev/end-to-end-testing-%E7%94%A8-snapshot-api-local-mock-server-%E8%A7%A3%E6%B1%BA-ios-app-%E6%B8%AC%E8%A9%A6%E8%B3%87%E6%96%99%E4%B8%8D%E7%A9%A9%E5%AE%9A%E5%95%8F%E9%A1%8C-5a5c4b25a83d/"><em>我的實現原理</em></a> <em>是將 Request 請求參數計算成 Hash 值，在回放時再次將請求拿去計算 Hash 如果在本地有找到相同 Hash 值的備份 Response 則返回，如果有多個相同 Hash 值的請求會按照順序儲存＆回放。</em></p></blockquote><p>我們可以先透過以上方法嗅探 App 的 API (或使用 <a href="https://proxyman.io/" target="_blank">Proxyman</a> )，觀察有哪些欄位跟哪些欄位可能會影響 Hash Mapping，可以將其記錄下來，在後續設定排除， <strong>例如有的 API 固定會帶 <code class="language-plaintext highlighter-rouge">?ts</code> 這參數不影響回傳內容，但會影響 Hash 值計算導致無法找到本地的備份，我們就需要挑出來在後面的設定中排除掉</strong> 。</p><p><strong>4.設定 <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank">mitmproxy-rodo</a> :</strong></p><p>使用我寫好的錄製、回放開源 Script。</p><blockquote><p><strong><em>細節參數設定請參考該開源專案的說明。</em></strong></p></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git clone git@github.com:ZhgChgLi/mitmproxy-rodo.git
<span class="nb">cd </span>mitmproxy-rodo
</pre></table></code></div></div><p>將上一步驟 3. 挑出來的參數填入到 config.json 設定檔案中：</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"ignored"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"iterable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"enables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"formData"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"connect_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_name"</span><span class="p">,</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"formData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"aidck"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ver_name"</span><span class="p">,</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>以上參數在計算 Hash 值時都會被排除，也能針對個別 Endpoint 路徑設定特定排除規則。</p><p><strong>5. 啟用錄製，在 Terminal 下改執行：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-s</span> rodo.py <span class="nt">--set</span> <span class="nv">dumper_folder</span><span class="o">=</span>zhgchgli <span class="nt">--set</span> <span class="nv">config_file</span><span class="o">=</span>config.json <span class="nt">--set</span> <span class="nv">record</span><span class="o">=</span><span class="nb">true</span> <span class="s2">"~d zhgchg.li"</span>
</pre></table></code></div></div><ul><li>結尾的 <code class="language-plaintext highlighter-rouge">"~d zhgchg.li"</code> 意思是只截取 * .zhgchg.li 的流量。<li><code class="language-plaintext highlighter-rouge">dumper_folder</code> : 輸出目的目錄名稱</ul><p><strong>6. 回到手機上操作目標 App 執行欲錄製的流程路徑</strong></p><ul><li>建議重啟、重安裝 App 用最乾淨的方式開始操作<li>建議可以搭配錄影，以利記得復現步驟</ul><p><a href="/assets/b04f4fba3cf2/1*SeivG1XaRcd5uq2uMkyrSA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*SeivG1XaRcd5uq2uMkyrSA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MjciIGhlaWdodD0iMzU2Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>邊操作的同時，就能看到輸出目錄會有很多擷取下來的 API Response Data，會照著 Domain -&gt; API 路徑 -&gt; HTTP 方法 -&gt; Hash 值 -&gt; Header-X / Content-X 存放(若相同 Hash 請求兩次，會按照順序儲存下來)。</p><ul><li>重新錄製可以直接刪出輸出目錄，讓他重新擷取。<li><strong>如果回傳的資料包含個資，請記得調整擷取內容去識別化。</strong></ul><h4 id="肉-回放擷取到的-api-response-data"><span class="me-2">[肉] 回放擷取到的 API Response Data</span><a href="#肉-回放擷取到的-api-response-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>錄製完畢後請務必要嘗試回放一次，測試資料是否正常，若 Hash Hit 很低(回放時幾乎都沒找到對應的 Response)，可以重複嗅探步驟找到那個每次執行 App 都不確定影響 Hash 值的變數並將其排除。</p><p><strong>執行回放：</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-s</span> rodo.py <span class="nt">--set</span> <span class="nv">dumper_folder</span><span class="o">=</span>zhgchgli <span class="nt">--set</span> <span class="nv">config_file</span><span class="o">=</span>config.json
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">dumper_folder</code> : 輸出目的目錄名稱<li>預設本地沒有 Hash Mapping 到的 Response Data 會直接回傳 404 讓 App 空白，這樣才能知道擷取的資料有沒有效。</ul><p><a href="/assets/b04f4fba3cf2/1*0Cjy_5RZRq3tvE1Pc0lQ9A.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*0Cjy_5RZRq3tvE1Pc0lQ9A.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p><a href="/assets/b04f4fba3cf2/1*JKorlo3EBeSWXhB9Exw4ZA.webp" class="popup img-link blur"><img data-src="/assets/b04f4fba3cf2/1*JKorlo3EBeSWXhB9Exw4ZA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1OTAiIGhlaWdodD0iOTk1Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>錄製擷取時有經過過的路徑頁面，回放時能重新顯示：OK!<li>錄製擷取時沒經過過的路徑頁面，回放時顯示網路錯誤：OK!</ul><h3 id="緬懷-1"><span class="me-2">緬懷</span><a href="#緬懷-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>至此，我們已經可以自行透過還原骨與最後的肉，來復現當年 App 走進終點站前的最後時光，以此緬懷那個大家一起同心協力生產出來的時光。</p><p>以此篇文章紀念第一份工作的團隊與當年從網頁後端開發邊做邊學轉職 iOS App 開發，獨立從無到有在 3–4 個月的短暫時間，與 Android、設計、PM 主管、後端同事一同順利生產出的產品，雖然它即將進入生命週期的終點站，但我永遠都會記得當年的酸甜苦辣與第一次看到他上線、有人使用的那個感動。</p><blockquote><p>「謝謝」</p></blockquote><h4 id="歡迎協助貢獻"><span class="me-2">歡迎協助貢獻</span><a href="#歡迎協助貢獻" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>如果你也有相同的遺憾，希望本篇文章也能幫助到你，因為 <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank">mitmproxy-rodo</a> 當初只是 POC 概念驗證下開發出的工具，歡迎協助貢獻、提出遇到的 Bug 或開 PR 修改 Bug。</p><p><a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main?source=post_page-----5a5c4b25a83d--------------------------------" target="_blank" class="img-link shimmer" ><img src="https://repository-images.githubusercontent.com/686628812/44cf2ec7-4de1-4a10-b213-bf7dd30748a4" alt="" loading="lazy"></a></p><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/b04f4fba3cf2/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="/contact" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-tip"><p>👉👉👉 <a href="https://medium.com/@zhgchgli" target="_blank"><strong>Follow Me On Medium!</strong> (1,051+ Followers)</a> 👈👈👈</p></blockquote><blockquote class="prompt-info"><p>本文首次發表於 Medium (<a href="https://medium.com/p/b04f4fba3cf2" target="_blank"><strong>點此查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2024-05-14-b04f4fba3cf2.md" target="_blank">Improve this page on Github.</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/man-in-the-middle-attack/" class="post-tag no-text-decoration" >man-in-the-middle-attack</a> <a href="/tags/mitmproxy/" class="post-tag no-text-decoration" >mitmproxy</a> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/app-development/" class="post-tag no-text-decoration" >app-development</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者以 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh-hant"> CC BY 4.0 </a> 授權。</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=App%20%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5%EF%BD%9Cmitmproxy%20%E8%88%87%20Apple%20Configurator%20%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fb04f4fba3cf2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=App%20%E4%B8%8B%E6%9E%B6%E5%82%99%E4%BB%BD%E6%94%BB%E7%95%A5%EF%BD%9Cmitmproxy%20%E8%88%87%20Apple%20Configurator%20%E6%8A%80%E8%A1%93%E4%BF%9D%E5%AD%98%E8%88%87%E9%82%84%E5%8E%9F%E6%95%99%E5%AD%B8%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fb04f4fba3cf2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fb04f4fba3cf2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="複製連結" data-title-succeed="連結已成功複製！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-certificates-identifiers%E8%88%87profiles%E8%A9%B3%E8%A7%A3-fastlane-match%E7%B5%B1%E4%B8%80%E7%AE%A1%E7%90%86%E6%86%91%E8%AD%89%E8%88%87ci-cd%E6%95%B4%E5%90%88%E5%AF%A6%E6%88%B0-823ac523ccc8/">iOS Certificates, Identifiers & Profiles 是什麼及 Fastlane Match 統一管理憑證與 CI/CD 的一些筆記</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-life/line-bank-%E5%85%A5%E9%87%91-firstrade-%E6%95%99%E5%AD%B8-%E5%BF%AB%E9%80%9F%E5%88%B0%E5%B8%B3-%E4%BD%8E%E6%89%8B%E7%BA%8C%E8%B2%BB150%E5%85%83-%E5%B8%B3%E6%88%B6%E5%8D%87%E7%B4%9A%E8%88%87%E6%89%8B%E7%BA%8C%E8%B2%BB%E8%A3%9C%E5%8A%A9%E7%94%B3%E8%AB%8B%E5%85%A8%E6%94%BB%E7%95%A5-e4d139fe0685/">手把手教學 — LINE Bank 入金 Firstrade 快速到帳、手續費只要 150 元及帳戶升級/約定轉帳/手續費補助申請教學</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AF%A6%E4%BD%9C%E8%87%AA%E5%8B%95%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B8%AC%E8%A9%A6%E8%88%87%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%B8-4b001d2e8440/">CI/CD 實戰指南（三）：使用 GitHub Actions 實作 App iOS CI 與 CD 工作流程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/medium-api-%E7%88%AC%E5%8F%96%E8%B3%87%E6%96%99%E8%88%87%E7%AA%81%E7%A0%B4-cloudflare-%E9%98%B2%E8%AD%B7-%E5%AE%8C%E6%95%B4-graphql-%E6%93%8D%E4%BD%9C%E6%95%99%E5%AD%B8-88f0fb935120/">Medium API 資料爬蟲與 Cloudflare 攻防的心路歷程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/">CI/CD 使用 App Store Connect API Webhook 串接自動化工作流程</a></ul></section><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節目錄 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">延伸閱讀</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/slack-app-%E6%95%B4%E5%90%88-chatgpt-%E5%88%A9%E7%94%A8-openai-api-%E8%88%87-google-cloud-functions-%E8%87%AA%E5%BB%BA%E6%99%BA%E8%83%BD%E5%8A%A9%E7%90%86-bd94cc88f9c9/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1708089421" data-df="YYYY 年 M 月 D 日" > 2024 年 02 月 16 日 </time><h4 class="pt-0 my-2">Slack App 整合 ChatGPT｜利用 OpenAI API 與 Google Cloud Functions 自建智能助理</h4><div class="text-muted"><p>針對團隊協作痛點，打造可自訂 OpenAI API Key 的 Slack ChatGPT 機器人，運用 Google Cloud Functions 快速部署，實現即時問答與上下文串接，提升工作效率並保障資料安全。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/python-%E6%90%AD%E9%85%8D-google-cloud-platform-%E8%88%87-line-bot-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E8%87%AA%E5%8B%95%E7%B0%BD%E5%88%B0%E8%85%B3%E6%9C%AC%E8%88%87%E6%8E%92%E7%A8%8B-70a1409b149a/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1613822151" data-df="YYYY 年 M 月 D 日" > 2021 年 02 月 20 日 </time><h4 class="pt-0 my-2">Python 搭配 Google Cloud Platform 與 Line Bot｜打造每日自動簽到腳本與排程</h4><div class="text-muted"><p>透過 Python 結合 Google Cloud Function、Cloud Scheduler 及 Line Bot，自動完成每日簽到任務並即時通知，解決手動操作繁瑣問題，提升工作效率並節省時間成本。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/app-https%E5%82%B3%E8%BC%B8%E4%BB%8D%E9%81%AD%E7%AB%8A%E5%8F%96-mitmproxy%E4%B8%AD%E9%96%93%E4%BA%BA%E6%94%BB%E6%93%8A%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%98%B2%E7%AF%84%E6%8A%80%E5%B7%A7-46410aaada00/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1568973661" data-df="YYYY 年 M 月 D 日" > 2019 年 09 月 20 日 </time><h4 class="pt-0 my-2">APP HTTPS傳輸仍遭竊取｜mitmproxy中間人攻擊實戰教學與防範技巧</h4><div class="text-muted"><p>iOS與MacOS環境下，利用mitmproxy實現中間人攻擊，成功嗅探APP API資料傳輸，揭露HTTPS傳輸漏洞；並解析SSL Pinning與資料加密兩大防護策略，提升APP資料安全，阻擋90%爬蟲與攻擊威脅。</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-robotic-process-automation/google-apps-script-%E6%89%93%E9%80%A0%E6%AF%8F%E6%97%A5%E6%95%B8%E6%93%9A%E5%A0%B1%E8%A1%A8%E8%87%AA%E5%8B%95%E5%8C%96-rpa-%E5%BF%AB%E9%80%9F%E4%B8%B2%E6%8E%A5-google-analytics-%E8%88%87-google-sheet-f6713ba3fee3/" class="btn btn-outline-primary" aria-label="上一篇" ><p>Google Apps Script｜打造每日數據報表自動化 RPA｜快速串接 Google Analytics 與 Google Sheet</p></a> <a href="/posts/zrealm-dev/plane-so-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-self-hosted-%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E9%A1%9E-asana-jira-%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%95%B4%E8%A7%A3%E6%9E%90-9d0f23784359/" class="btn btn-outline-primary" aria-label="下一篇" ><p>Plane.so 免費開源且支援 Self-Hosted 的類 Asana/Jira 專案管理工具</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2026</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有註明，本網站上的所有文章皆由作者依據 創用 CC 姓名標示 4.0 國際授權條款（CC BY 4.0）授權使用。" >版權所有。</span> <br/> 瀏覽次數: <u>787,052+</u>, 最後更新時間: <u>2026-01-05 11:20:55 +08:00</u></p><p>本站使用 <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> 主題建置於 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>。<br/> Medium 文章由 <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> 轉換而成。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">發現有新的內容版本。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'zh-TW';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOHdowL84CU-q5', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">找不到符合的結果。</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>

<!doctype html><html lang="zh-tw" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="zh_tw" /><meta name="description" content="針對 iOS 開發者面臨的建置等待與通知延遲問題，透過 App Store Connect API Webhook 實現即時事件推送，結合 Fastlane 與 CI/CD 工具，打造零等待成本的自動化工作流程，提升團隊開發效率與發布準確度。" /><meta property="og:description" content="針對 iOS 開發者面臨的建置等待與通知延遲問題，透過 App Store Connect API Webhook 實現即時事件推送，結合 Fastlane 與 CI/CD 工具，打造零等待成本的自動化工作流程，提升團隊開發效率與發布準確度。" /><link rel="canonical" href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/" /><meta property="og:url" content="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zhgchg.li/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-12-27T17:02:01+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zhgchg.li/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp" /><meta property="twitter:title" content="App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2025-12-27T17:05:14+08:00","datePublished":"2025-12-27T17:02:01+08:00","description":"針對 iOS 開發者面臨的建置等待與通知延遲問題，透過 App Store Connect API Webhook 實現即時事件推送，結合 Fastlane 與 CI/CD 工具，打造零等待成本的自動化工作流程，提升團隊開發效率與發布準確度。","headline":"App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zhgchg.li/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/"},"url":"https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/"}</script><title>App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-automate-ci-cd-workflows-seamlessly-7c0974856393/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%88%E7%8E%87%E4%B8%8E%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/"><link rel="alternate" hreflang="x-default" href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"如何利用 App Store Connect API Webhook 省去 CI/CD 等待建置完成的時間？","acceptedAnswer":{"@type":"Answer","text":"開發者可設定 Webhook 監聽建置狀態變更，當建置完成時即時接收通知並觸發送審流程，避免傳統輪詢等待約 20 分鐘的無效資源浪費，提升 CI/CD 執行效率並降低成本。"}},{"@type":"Question","name":"App Store Connect Webhook 如何幫助團隊同步 GitFlow Release 流程與實際 App 發布時機？","acceptedAnswer":{"@type":"Answer","text":"透過 Webhook 監聽 App 發布狀態，收到 Ready for Sale 通知後自動觸發 GitFlow master 分支合併，確保程式碼分支與實際上線版本同步，避免手動操作失誤或時程落差。"}},{"@type":"Question","name":"在大團隊中，如何用 App Store Connect Webhook 解決開發者無法收到審核拒絕通知的問題？","acceptedAnswer":{"@type":"Answer","text":"利用 Webhook 直接推送建置失敗或審核拒絕事件至團隊通訊工具（如 Slack），即使開發者沒有 App Store Connect 釋出權限，也能即時掌握狀態，避免錯過重要通知。"}},{"@type":"Question","name":"如何驗證 App Store Connect API Webhook 請求的真實性以防止偽造？","acceptedAnswer":{"@type":"Answer","text":"設定 Webhook 時使用 Secret 密鑰，伺服器端對收到的 Request Body 進行 HMAC-SHA256 計算並比對 x-apple-signature 標頭，確保請求來源為官方通知，避免惡意攻擊。"}},{"@type":"Question","name":"App Store Connect Webhook 事件 Payload 資訊不足時，如何取得完整的 App 版本或建置詳細資料？","acceptedAnswer":{"@type":"Answer","text":"Webhook 只會推送事件狀態與關聯連結，需自行使用 App Store Connect API 透過 Payload 中的 Relationships Link 查詢完整版本號、拒審原因等詳細資訊，實現更精確的自動化流程。"}}]} </script><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:2px"> <a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #dc3545;background:#dc3545;color:#fff;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%88%E7%8E%87%E4%B8%8E%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://en.zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-automate-ci-cd-workflows-seamlessly-7c0974856393/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a></div><li class="nav-item"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background: #EDF4FF; color: #0A84FF;"> <i class="fa-brands fa-medium"></i> <span>Follow Me!<br/><strong>1,050+</strong> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首頁</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分類</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>標籤</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>歸檔</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>關於我</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>聯絡我</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首頁</a> </span> <span>App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜尋..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程</h1><p class="post-desc fw-light mb-4">針對 iOS 開發者面臨的建置等待與通知延遲問題，透過 App Store Connect API Webhook 實現即時事件推送，結合 Fastlane 與 CI/CD 工具，打造零等待成本的自動化工作流程，提升團隊開發效率與發布準確度。</p><div class="post-meta text-muted"> <span> 發佈於 <time data-ts="1766826121" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025 年 12 月 27 日 </time> </span> <span> 更新於 <time data-ts="1766826314" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025 年 12 月 27 日 </time> </span><div class="mt-3 mb-3"> <a href="/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp" class="popup img-link preview-img blur"><img data-src="/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> 作者 <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="5451 字" > <em>30 分鐘</em>閱讀</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章節目錄 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">App Store Connect API Webhook 串接｜提升 iOS CI/CD 自動化效率與通知流程</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><blockquote class="prompt-tip"><p><a href="https://en.zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-automate-ci-cd-workflows-seamlessly-7c0974856393/"><strong>Click here</strong></a> to view the English version of this article.</p></blockquote><blockquote class="prompt-tip"><p><a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%88%E7%8E%87%E4%B8%8E%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/"><strong>点击这里</strong></a>查看本文章简体中文版本。</p></blockquote><blockquote class="prompt-info"><p>基於 SEO 考量，本文標題與描述經 AI 調整，原始版本請參考內文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目錄</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li class="has-children"><details><summary>[CI/CD] 使用 App Store Connect API Webhook 串接自動化工作流程 <a href="#cicd-使用-app-store-connect-api-webhook-串接自動化工作流程">#</a></summary><ul><li><a href="#前言">前言</a></li><li><a href="#wwdc-2025-automate-your-development-process-with-the-app-store-connect-api">WWDC 2025 Automate your development process with the App Store Connect API</a></li><li><a href="#app-store-connect-api--webhook-notifications-">App Store Connect API / Webhook notifications </a></li></ul></details></li><li class="has-children"><details><summary>5 個應用案例 <a href="#5-個應用案例">#</a></summary><ul><li><a href="#1-建置處理完成後觸發送審">1. 建置處理完成後觸發送審</a></li><li><a href="#2-gitflow-release-流程對齊-app-release-時機點">2. GitFlow Release 流程對齊 App Release 時機點</a></li><li><a href="#3-app-release-messages">3. App Release Messages</a></li><li><a href="#4-build-failed--review-rejected-notifier">4. Build Failed / Review Rejected Notifier</a></li><li><a href="#5-testflight-feedback-notifier">5. Testflight Feedback Notifier</a></li></ul></details></li><li class="has-children"><details><summary>App Store Connect API Webhook 設定 <a href="#app-store-connect-api-webhook-設定">#</a></summary><ul><li><a href="#建立-app-store-connect-api-webhook-通知">建立 App Store Connect API Webhook 通知</a></li><li><a href="#測試-app-store-connect-api-webhook-通知">測試 App Store Connect API Webhook 通知</a></li><li><a href="#app-store-connect-api-webhook-通知發送紀錄">App Store Connect API Webhook 通知發送紀錄</a></li><li><a href="#驗證-app-store-connect-api-webhook-通知">驗證 App Store Connect API Webhook 通知</a></li></ul></details></li><li class="has-children"><details><summary>App Store Connect API Webhook 通知 Payload <a href="#app-store-connect-api-webhook-通知-payload">#</a></summary><ul><li><a href="#建置版本上傳--process-complete">建置版本上傳 — Process Complete</a></li><li><a href="#建置版本上傳--process-failed">建置版本上傳 — Process Failed</a></li><li><a href="#app-版本狀態--prepare-for-submission-準備提交">App 版本狀態 — Prepare For Submission (準備提交)</a></li><li><a href="#app-版本狀態--ready-for-review-準備送審">App 版本狀態 — Ready For Review (準備送審)</a></li><li><a href="#app-版本狀態--waiting-for-review-已送審等待審核">App 版本狀態 — Waiting For Review (已送審，等待審核)</a></li><li><a href="#app-版本狀態--developer-rejected-開發者拒絕">App 版本狀態 — Developer Rejected (開發者拒絕)</a></li><li><a href="#app-版本狀態--in-review-官方正在審核">App 版本狀態 — In Review (官方正在審核)</a></li><li><a href="#app-版本狀態--pending-developer-release-審核完畢等待發佈">App 版本狀態 — Pending Developer Release (審核完畢等待發佈)</a></li><li><a href="#app-版本狀態--ready-for-distribution-app-準備發佈-aka-ready-for-sale">App 版本狀態 — Ready for Distribution (App 準備發佈) a.k.a Ready For Sale</a></li></ul></details></li><li class="has-children"><details><summary>App Store Connect API Webhook 工作流程串接 <a href="#app-store-connect-api-webhook-工作流程串接">#</a></summary><ul><li><a href="#方法-1--借用-fastlane-串接-app-store-connect-api">方法 1 — 借用 Fastlane 串接 App Store Connect API</a></li><li><a href="#方法-2-在-webhook-endpoint-自行處理">方法 2— 在 Webhook Endpoint 自行處理</a></li></ul></details></li><li class="has-children"><details><summary>App Store Connect API Response <a href="#app-store-connect-api-response">#</a></summary><ul><li><a href="#建置版本上傳--process-complete-1">建置版本上傳 — Process Complete</a></li><li><a href="#建置版本上傳--process-failed-1">建置版本上傳 — Process Failed</a></li><li><a href="#app-版本狀態">App 版本狀態</a></li></ul></details></li><li class="has-children"><details><summary>Done <a href="#done">#</a></summary><ul><li><a href="#延伸閱讀">延伸閱讀</a></li></ul></details></li></ul></nav><hr /><h3 id="cicd-使用-app-store-connect-api-webhook-串接自動化工作流程"><span class="me-2">[CI/CD] 使用 App Store Connect API Webhook 串接自動化工作流程</span><a href="#cicd-使用-app-store-connect-api-webhook-串接自動化工作流程" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>App Store Connect Webhook 應用案例分析與實際串接使用教學。</p><p><a href="/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*IqytjX72CmAx9WOx4Rm3gg.webp" alt="Photo by [Volodymyr Hryshchenko](https://unsplash.com/@lunarts?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText){:target=&quot;_blank&quot;}" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjgwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>Photo by <a href="https://unsplash.com/@lunarts?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Volodymyr Hryshchenko</a></p><h4 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>蘋果近年持續擴充 App Store Connect API，對開發者是一大福音。早期連憑證管理都得靠「Hardcore」的 Web Session（有期限、還要收簡訊驗證碼），很難整合進 CI/CD；像商城評價也只能依賴不穩定的 RSS。</p><p>這幾年幾乎每年都有新功能補齊，從開發、測試到部署流程，甚至後期的評價、財務、數據報表都逐步原生支援，另外也強化了使用者管理、群組、TestFlight 等能力；讓 <strong>App Store Connect API 可以更好的提升 Apple 開發者開發體驗</strong> 。</p><blockquote><p><em>延伸閱讀：「 <a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-%E5%BF%AB%E9%80%9F%E8%AE%80%E5%8F%96%E8%88%87%E7%AE%A1%E7%90%86-customer-reviews-%E6%8F%90%E5%8D%87-ios-app-%E8%A9%95%E5%83%B9%E6%95%B4%E5%90%88%E6%95%88%E7%8E%87-f1365e51902c/">App Store Connect API 現已支援 讀取和管理 Customer Reviews</a> 」</em></p></blockquote><h4 id="wwdc-2025-automate-your-development-process-with-the-app-store-connect-api"><span class="me-2"><a href="https://developer.apple.com/videos/play/wwdc2025/324/" target="_blank">WWDC 2025 Automate your development process with the App Store Connect API</a></span><a href="#wwdc-2025-automate-your-development-process-with-the-app-store-connect-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="https://developer.apple.com/videos/play/wwdc2025/324/" target="_blank" class="img-link shimmer" ><img src="https://devimages-cdn.apple.com/wwdc-services/images/3055294D-836B-4513-B7B0-0BC5666246B0/9859/9859_wide_250x141_2x.jpg" alt="" loading="lazy"></a></p><p><strong>2025 WWDC 更帶來引頸期盼的重磅功能 — Webhook 通知：</strong></p><ul><li><strong>建置版本上傳狀態 (The <a href="https://developer.apple.com/help/app-store-connect/reference/app-uploads/build-upload-statuses" target="_blank">status of a build upload</a> changes. )</strong> 當建置版本上傳狀態更改時收到相關資料。 <code class="language-plaintext highlighter-rouge">Complete / Failed / Processing</code><li><strong>App 版本狀態 (The <a href="https://developer.apple.com/help/app-store-connect/reference/app-information/app-and-submission-statuses#app-statuses" target="_blank">status of an app version</a> changes. )</strong> 當 App 版本狀態更改時收到相關資料。 <code class="language-plaintext highlighter-rouge">Prepare for Submission / Ready for Review / Waiting for Review / Ready for Distribution / Rejected…</code><li><strong>TestFlight 版本狀態 (New <a href="https://developer.apple.com/help/app-store-connect/test-a-beta-version/view-tester-feedback" target="_blank">TestFlight feedback</a> is submitted by a tester. )</strong> 當測試人員留下回饋(當機回饋/截圖回饋)時收到相關資料。<li><strong>Apple-hosted 的資源包狀態改變 (The <a href="https://developer.apple.com/help/app-store-connect/reference/app-uploads/apple-hosted-asset-pack-statuses" target="_blank">status of an Apple-hosted asset pack version</a> changes. )</strong> 當 Apple 託管的素材包版本出現特定變更時收到相關資料。</ul><h4 id="app-store-connect-api--webhook-notifications-"><span class="me-2"><a href="https://developer.apple.com/documentation/AppStoreConnectAPI/webhook-notifications" target="_blank">App Store Connect API / Webhook notifications</a> :</span><a href="#app-store-connect-api--webhook-notifications-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>Webhooks enable a system to send real-time data to another system over the web.</em></p></blockquote><blockquote><p><em>Webhook 讓一個系統能夠透過網路即時將資料傳送給另一個系統。</em></p></blockquote><blockquote><p><em>Unlike traditional APIs, where one system must make a request when receiving data, a webhook enables you to push data to the receiving system as soon as an event occurs.</em></p></blockquote><blockquote><p><em>與傳統 API 不同的是，傳統 API 需要由接收資料的一方主動發送請求，而 Webhook 則能在事件發生的當下，立即將資料推送給接收系統。</em></p></blockquote><blockquote><p><em>Webhooks are event-driven, meaning they are triggered by a specific action or event and immediately send the relevant data to a predefined URL, also called the “webhook URL” or “callback URL”.</em></p></blockquote><blockquote><p><em>Webhook 是事件驅動的，表示它們會在特定動作或事件被觸發時，立即將相關資料傳送到一個預先設定的 URL，該 URL 也稱為「Webhook URL」或「Callback URL」。</em></p></blockquote><blockquote><p><em>A notification webhook is an endpoint you create on your server.</em></p></blockquote><blockquote><p><em>通知型 Webhook 是你在自己伺服器上建立的一個端點（endpoint）。</em></p></blockquote><blockquote><p><em>This webhook endpoint receives HTTP POST requests from App Store Connect.</em></p></blockquote><blockquote><p><em>這個 Webhook 端點會接收來自 App Store Connect 的 HTTP POST 請求。</em></p></blockquote><blockquote><p><em>The POST requests describe important events about your app.</em></p></blockquote><blockquote><p><em>這些 POST 請求會描述與你的 App 相關的重要事件。</em></p></blockquote><blockquote><p><em>Use the webhooks notifications endpoint to configure the notifications for events happening to your apps.</em></p></blockquote><blockquote><p><em>你可以使用 Webhook 通知端點，來設定當你的 App 發生各種事件時所要接收的通知。</em></p></blockquote><h3 id="5-個應用案例"><span class="me-2">5 個應用案例</span><a href="#5-個應用案例" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="1-建置處理完成後觸發送審"><span class="me-2">1. 建置處理完成後觸發送審</span><a href="#1-建置處理完成後觸發送審" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>Before:</strong></p><p><a href="/assets/7c0974856393/1*usYZtMkzAu-bA4fVX8ZbUQ.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*usYZtMkzAu-bA4fVX8ZbUQ.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQ2NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>以往在實現 App CI/CD 打包送審時，打包上傳後 <strong>需要等待 Apple 處理完成</strong> 才能繼續送審；Fastlane 默認的做法是 Polling App Store Connect 檢查上傳的建置狀態，直到 Complete 後才會繼續執行送審 Lane。</p><blockquote><p><strong><em>等待時間大約 20 分鐘</em></strong> <em>，如果是 Self-hosted CI/CD 沒什麼差，但如果是使用雲端服務，這 20 分鐘的等待非常的浪費資源，以 GitHub Runner mac-OS 1 分鐘 US$ 0.062， <strong>光等待送審每次就產生無意義的花費 1.24 US$。</strong></em></p></blockquote><p><a href="/assets/7c0974856393/1*2-Zn2ApgVYd5S5KzxMLEMQ.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*2-Zn2ApgVYd5S5KzxMLEMQ.webp" alt="Ref: [Build Completed Processing 通知信 搭配 Gmail Filter + Google Apps Script](https://zhgchg.li/posts/zrealm-dev/google-apps-script-%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E8%BD%89%E7%99%BC-gmail-%E9%83%B5%E4%BB%B6%E5%88%B0-slack-channel-%E5%AE%A2%E8%A3%BD%E5%8C%96%E9%80%9A%E7%9F%A5-d414bdbdb8c9/)" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTQiIGhlaWdodD0iMzQwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Ref: <a href="https://zhgchg.li/posts/zrealm-dev/google-apps-script-%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E8%BD%89%E7%99%BC-gmail-%E9%83%B5%E4%BB%B6%E5%88%B0-slack-channel-%E5%AE%A2%E8%A3%BD%E5%8C%96%E9%80%9A%E7%9F%A5-d414bdbdb8c9/">Build Completed Processing 通知信 搭配 Gmail Filter + Google Apps Script</a></p><p>在沒有 Webhook 可以主動通知的年代，之前曾用過「 <a href="https://zhgchg.li/posts/zrealm-dev/google-apps-script-%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E8%BD%89%E7%99%BC-gmail-%E9%83%B5%E4%BB%B6%E5%88%B0-slack-channel-%E5%AE%A2%E8%A3%BD%E5%8C%96%E9%80%9A%E7%9F%A5-d414bdbdb8c9/">Build Completed Processing 通知信搭配 Gmail Filter + Google Apps Script 來觸發</a> 」可以達到效果，但是過程有點 Hardcore。</p><p><strong>After:</strong></p><p><a href="/assets/7c0974856393/1*ADkNoScFn4M_dIgv3sAKaw.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*ADkNoScFn4M_dIgv3sAKaw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjMwMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li>有了 Webhook 之後，打包上傳的步驟上傳完畢即可結束。<li><strong>App Store Connect Build Process Complete 後會發 Webhook 通知，我們收到通知後再繼續執行送審步驟。</strong><li><strong>零乾等成本</strong></ul><h4 id="2-gitflow-release-流程對齊-app-release-時機點"><span class="me-2">2. GitFlow Release 流程對齊 App Release 時機點</span><a href="#2-gitflow-release-流程對齊-app-release-時機點" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>Before:</strong></p><blockquote><p><em>GitFlow 最後一步上線時需要把 develop 分支 merge 回 master 分支，master 分支對應的是當前線上版。</em></p></blockquote><p>以往只能定時手動/自動執行，例如週一 PM 會發佈 App，週一固定把 develop 回 master；手動執行很煩、自動執行的話假設延期？週一剛好放假？實際 App 沒有 Release 但是 develop 先回 master 了。</p><p>在大多數情況不太重要，只有很極端的狀況，例如這時間中間又要插 Hotfix 就會有可能有落差；但若要追求完整穩定的 CI/CD 開發流程，這也是一個值得探討的案例。</p><p><strong>另一條思路同上，用「 <a href="https://zhgchg.li/posts/zrealm-dev/google-apps-script-%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E8%BD%89%E7%99%BC-gmail-%E9%83%B5%E4%BB%B6%E5%88%B0-slack-channel-%E5%AE%A2%E8%A3%BD%E5%8C%96%E9%80%9A%E7%9F%A5-d414bdbdb8c9/">App is Ready for Sale 通知信搭配 Gmail Filter + Google Apps Script 來觸發</a> 」是可行的。</strong></p><p><strong>After:</strong></p><p><a href="/assets/7c0974856393/1*6JjHC6GKc4fKXrh-WWCJVA.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*6JjHC6GKc4fKXrh-WWCJVA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjIyNCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li>有了 Webhook 之後，可以直接在收到 App 發布通知後觸發 CI/CD Action (Master to Develop)。<li>可以確保 App 是真的上線才回 Master</ul><h4 id="3-app-release-messages"><span class="me-2">3. App Release Messages</span><a href="#3-app-release-messages" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>App 上線發佈給使用者後，還有另一個很常見內部工作流程，發布通知給相關團隊、版本包含的任務、Complete 相關任務。</em></p></blockquote><p><strong>Before:</strong></p><p>同上，只能手動或定時自動或使用信件 <a href="https://zhgchg.li/posts/zrealm-dev/google-apps-script-%E6%95%99%E5%AD%B8-%E8%87%AA%E5%8B%95%E8%BD%89%E7%99%BC-gmail-%E9%83%B5%E4%BB%B6%E5%88%B0-slack-channel-%E5%AE%A2%E8%A3%BD%E5%8C%96%E9%80%9A%E7%9F%A5-d414bdbdb8c9/"><strong>搭配 Gmail Filter + Google Apps Script 來觸發</strong></a> 。</p><p><strong>After:</strong></p><p><a href="/assets/7c0974856393/1*UuGPKonNhXRUMZ71rDQcdw.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*UuGPKonNhXRUMZ71rDQcdw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQ0MyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li>有了 Webhook 之後，可以在收到 App 發布通知後串接 Jira/Asana API 撈取對應版號的單批次 Complete 並且發佈包含的任務單完成釋出訊息到 Slack。</ul><h4 id="4-build-failed--review-rejected-notifier"><span class="me-2">4. Build Failed / Review Rejected Notifier</span><a href="#4-build-failed--review-rejected-notifier" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>前面 1,2 有提到以往有機會透過收信件通知來觸發工作流程，但在團隊規模很大權限控管嚴格的組織裡， <strong>iOS 開發者只會有「開發者」後台權限，無法釋出、管理 App，因此也無法收到任何 App 狀態改變的信件通知；其中也包含上傳的建置版本被拒或是送審被拒的通知信</strong> 。</em></p></blockquote><p><strong>Before:</strong></p><p>以往只能靠好心人 (a.k.a PM) 轉發信件給工程，如果好心人也沒注意到可能就真的到要上線時才發現 App 被拒絕了無法上線！</p><p><strong>After:</strong></p><p><a href="/assets/7c0974856393/1*unKq9zdc8tJEqlNmfXiRYA.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*unKq9zdc8tJEqlNmfXiRYA.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjU4MiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li>這個案例相對簡單，就是收到 Webhook 通知之後，轉發訊息到 Slack。</ul><h4 id="5-testflight-feedback-notifier"><span class="me-2">5. Testflight Feedback Notifier</span><a href="#5-testflight-feedback-notifier" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>類似 4. 只是改接 Testflight Feedback Webhook 通知。</em></p></blockquote><p><strong>Before:</strong></p><p>以往開發者只能自己上去 App Store Connect Testflight 後台查看測試使用者的回饋或閃退問題， <strong>非常容易被忽略（甚至曾經發生過一年前回報的建議問題一年後才有人看到）</strong> 。</p><p><strong>After:</strong></p><ul><li>收到 Testflight Feedback Webhook 通知之後，轉發訊息到 Slack 。</ul><p>— — —</p><blockquote><p><em>其他應用方式歡迎大家天馬行空發想，再來將介紹如何串接使用。</em></p></blockquote><h3 id="app-store-connect-api-webhook-設定"><span class="me-2">App Store Connect API Webhook 設定</span><a href="#app-store-connect-api-webhook-設定" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><em>權限要求： <strong>需要 Admin, Account Holder 權限才能設定</strong> 。</em></p></blockquote><h4 id="建立-app-store-connect-api-webhook-通知"><span class="me-2">建立 App Store Connect API Webhook 通知</span><a href="#建立-app-store-connect-api-webhook-通知" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><a href="https://appstoreconnect.apple.com/access/users" target="_blank">前往 App Store Connect 管理後台</a><li>前往「使用者與存取權限 (Users and Access)」 -&gt; 「整合 (Integrations)」<li>點擊「其他整合 (Additional)」 下的 「Webhooks」<li>點擊「建立 Webhook」按鈕</ol><p><a href="/assets/7c0974856393/1*e_6oin7tJjAB2gXl3txJow.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*e_6oin7tJjAB2gXl3txJow.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MTYiIGhlaWdodD0iNzY3Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><ul><li>名稱：輸入 Webhook 名稱<li>承載 URL(Payload URL)：輸入你的 Webhook 通知接收服務網址<li>密鑰(Secret) 字串：Webhook Request 驗證密鑰(可 <a href="https://www.random.org/strings/?num=1&amp;len=32&amp;digits=on&amp;upperalpha=on&amp;loweralpha=on&amp;unique=on&amp;format=html&amp;rnd=new" target="_blank">隨機產生一個字串</a> 來用)<li>App：選擇預接收 Webhook 通知的 App<li><strong>觸發事件：</strong></ul><div class="language-css highlighter-rouge"><div class="code-header"> <span data-label-text="CSS"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="nt">TestFlight</span> <span class="nt">回饋</span>
<span class="nt">當測試人員留下回饋時收到相關資料</span><span class="err">。</span>
<span class="o">[]</span> <span class="nt">當機回饋</span>
<span class="o">[]</span> <span class="nt">截圖回饋</span>

<span class="o">[]</span> <span class="nt">TestFlight</span> <span class="nt">版本狀態</span>
<span class="nt">當</span> <span class="nt">TestFlight</span> <span class="nt">版本狀態更改時收到相關資料</span><span class="err">。</span><span class="nt">進一步瞭解</span>

<span class="o">[]</span><span class="nt">App</span> <span class="nt">版本狀態</span>
<span class="nt">當</span> <span class="nt">App</span> <span class="nt">版本狀態更改時收到相關資料</span><span class="err">。</span><span class="nt">進一步瞭解</span>

<span class="o">[]</span><span class="nt">建置版本上傳狀態</span>
<span class="nt">當建置版本上傳狀態更改時收到相關資料</span><span class="err">。</span><span class="nt">進一步瞭解</span>

<span class="nt">背景素材</span>
<span class="nt">當</span> <span class="nt">Apple</span> <span class="nt">託管的素材包版本出現特定變更時收到相關資料</span><span class="err">。</span><span class="nt">進一步瞭解</span>

<span class="o">[]</span><span class="nt">更新App</span> <span class="nt">Store</span> <span class="nt">發佈版本</span>
<span class="o">[]</span><span class="nt">更新外部</span> <span class="nt">TestFlight</span> <span class="nt">發佈版本</span>
<span class="o">[]</span><span class="nt">建立內部</span> <span class="nt">TestFlight</span> <span class="nt">發佈版本</span>
<span class="o">[]</span><span class="nt">更新素材包版本</span>
</pre></table></code></div></div><p>依照需求勾選，也可以全選收到通知後再判斷要不要處理。</p><p><strong>最後點擊「新增」建立 Webhook。</strong></p><h4 id="測試-app-store-connect-api-webhook-通知"><span class="me-2">測試 App Store Connect API Webhook 通知</span><a href="#測試-app-store-connect-api-webhook-通知" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>進入 Webhook 頁。</p><p><a href="/assets/7c0974856393/1*-pEVZ24cpSPBabtzMwll4Q.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*-pEVZ24cpSPBabtzMwll4Q.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NzkiIGhlaWdodD0iNTQ4Ij48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>點擊右上角「測試」接收測試通知。</p><p><strong>測試通知內容如下：</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="err">Headers:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"content-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"x-apple-jingle-correlation-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PNSCHDQW3MY2AX6VSRFHYYNUL4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"x-apple-request-uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b64238e-16db-31a0-5fd5-944a7c61b45f"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"x-apple-signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hmacsha256=cf50020f0bbd3c5274860594f616f1806965c1f9fb765d8d278f512dff5b4c0e"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">Body:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"webhookPingCreated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"65726e27-cb79-47f2-a3e4-c8ced9f356e8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-26T15:47:38.472168681Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h4 id="app-store-connect-api-webhook-通知發送紀錄"><span class="me-2">App Store Connect API Webhook 通知發送紀錄</span><a href="#app-store-connect-api-webhook-通知發送紀錄" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Webhook 頁下方的「最近的提交項目」會顯示最近發送的 Webhook 事件。</p><p><a href="/assets/7c0974856393/1*lacj5lpaDwJtN0hgA5EAVg.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*lacj5lpaDwJtN0hgA5EAVg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjUwMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><h4 id="驗證-app-store-connect-api-webhook-通知"><span class="me-2">驗證 App Store Connect API Webhook 通知</span><a href="#驗證-app-store-connect-api-webhook-通知" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>建立 Webhook 時我們有輸入一個「密鑰(Secret) 字串」建議對請求進行驗證，防止這個 Webhook URL 外洩，有心之人能隨意偽造發送 Webhook 事件到你的服務上。</p><p><strong>驗證方式：</strong></p><blockquote><p><em>對 Request Body 用你設定的密鑰字串做 HMAC-SHA256 並輸出 HEX 進位字串，用這個字串比對 Request Headers 中的 <code class="language-plaintext highlighter-rouge">x-apple-signature</code> 值的 <code class="language-plaintext highlighter-rouge">hmacsha256=</code> 後面帶的字串。</em></p></blockquote><p><strong>實現方式 — Nodejs:</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">crypto</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">crypto</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">verifyAppleWebhook</span><span class="p">(</span><span class="nx">rawBody</span><span class="p">,</span> <span class="nx">appleSignature</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">hex</span> <span class="o">=</span> <span class="nx">crypto</span>
    <span class="p">.</span><span class="nf">createHmac</span><span class="p">(</span><span class="dl">'</span><span class="s1">sha256</span><span class="dl">'</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="nx">rawBody</span><span class="p">,</span> <span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">digest</span><span class="p">(</span><span class="dl">'</span><span class="s1">hex</span><span class="dl">'</span><span class="p">);</span>

  <span class="k">return</span> <span class="s2">`hmacsha256=</span><span class="p">${</span><span class="nx">hex</span><span class="p">}</span><span class="s2">`</span> <span class="o">===</span> <span class="nx">appleSignature</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>實現方式 — Cloudflare Worker:</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">bufferToHex</span><span class="p">(</span><span class="nx">buffer</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[...</span><span class="k">new</span> <span class="nc">Uint8Array</span><span class="p">(</span><span class="nx">buffer</span><span class="p">)]</span>
    <span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nf">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nf">padStart</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nf">hmacSha256Hex</span><span class="p">(</span><span class="nx">secret</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">enc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextEncoder</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">subtle</span><span class="p">.</span><span class="nf">importKey</span><span class="p">(</span>
    <span class="dl">'</span><span class="s1">raw</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">enc</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="nx">secret</span><span class="p">),</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">HMAC</span><span class="dl">'</span><span class="p">,</span> <span class="na">hash</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SHA-256</span><span class="dl">'</span> <span class="p">},</span>
    <span class="kc">false</span><span class="p">,</span>
    <span class="p">[</span><span class="dl">'</span><span class="s1">sign</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">subtle</span><span class="p">.</span><span class="nf">sign</span><span class="p">(</span>
    <span class="dl">'</span><span class="s1">HMAC</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">key</span><span class="p">,</span>
    <span class="nx">enc</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span>
  <span class="p">);</span>

  <span class="k">return</span> <span class="nf">bufferToHex</span><span class="p">(</span><span class="nx">signature</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nf">verifyAppleWebhook</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">appleSignature</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">X-Apple-Signature</span><span class="dl">'</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">rawBody</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">request</span><span class="p">.</span><span class="nf">clone</span><span class="p">().</span><span class="nf">text</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">calculated</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">hmacSha256Hex</span><span class="p">(</span><span class="nx">secret</span><span class="p">,</span> <span class="nx">rawBody</span><span class="p">);</span>

  <span class="k">return</span> <span class="dl">"</span><span class="s2">hmacsha256=</span><span class="dl">"</span><span class="o">+</span><span class="nx">calculated</span> <span class="o">===</span> <span class="nx">appleSignature</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li>Cloudflare Worker 無 crypto module，要使用 Web Crypto API（crypto.subtle）</ul><p><strong>實現方式 — Google Apps Script Web App ❌</strong></p><p>礙於技術限制，Google Apps Script Web App <code class="language-plaintext highlighter-rouge">doGet(e)/doPost(e)</code> 無法從中取得 Request Headers，因此無法使用此方法對請求來源進行驗證。</p><p>最多只能自己在 URL Query 加一些密鑰參數做很簡單的判斷保護。</p><h3 id="app-store-connect-api-webhook-通知-payload"><span class="me-2">App Store Connect API Webhook 通知 Payload</span><a href="#app-store-connect-api-webhook-通知-payload" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>這邊有搜集了幾個 App 上傳、送審過程會收到的事件 Payload，提供給大家做自動化開發時可以直接參考。</p><blockquote><p><em>Webhook 只會發送事件跟狀態名稱，不會給其他詳細資訊，例如：版本號、拒審原因…等等； <strong>我們需要自己再打 App Store Connect API 帶上 Event Payload 裡的 Relationships Link 才能取得完整資訊。</strong></em></p></blockquote><h4 id="建置版本上傳--process-complete"><span class="me-2">建置版本上傳 — Process Complete</span><a href="#建置版本上傳--process-complete" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buildUploadStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"oldState"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"newState"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"buildUploads"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h4 id="建置版本上傳--process-failed"><span class="me-2">建置版本上傳 — Process Failed</span><a href="#建置版本上傳--process-failed" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildUploadStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"oldState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"newState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildUploads"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>多半為 Binary 遭拒，例如有用到麥克風但是沒宣告之類的。</p><h4 id="app-版本狀態--prepare-for-submission-準備提交"><span class="me-2">App 版本狀態 — Prepare For Submission (準備提交)</span><a href="#app-版本狀態--prepare-for-submission-準備提交" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PREPARE_FOR_SUBMISSION"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DEVELOPER_REJECTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-18T05:01:47.118Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>當新版本號建立好，準備提交送審時，這階段可填寫版本資訊、更新內容、選擇要送審的 Build。</p><h4 id="app-版本狀態--ready-for-review-準備送審"><span class="me-2"><strong>App 版本狀態 — Ready For Review (準備送審)</strong></span><a href="#app-版本狀態--ready-for-review-準備送審" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"READY_FOR_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PREPARE_FOR_SUBMISSION"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-18T03:41:12.516Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>送審資料確定，準備送審時。</p><h4 id="app-版本狀態--waiting-for-review-已送審等待審核"><span class="me-2">App 版本狀態 — Waiting For Review (已送審，等待審核)</span><a href="#app-版本狀態--waiting-for-review-已送審等待審核" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"WAITING_FOR_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"READY_FOR_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-18T03:41:21.179Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>App 已完成送審，正在等待審查。</p><h4 id="app-版本狀態--developer-rejected-開發者拒絕"><span class="me-2">App 版本狀態 — Developer Rejected (開發者拒絕)</span><a href="#app-版本狀態--developer-rejected-開發者拒絕" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DEVELOPER_REJECTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"WAITING_FOR_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-18T03:50:30.552Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>開發者撤回正在送審的版本。</p><h4 id="app-版本狀態--in-review-官方正在審核"><span class="me-2">App 版本狀態 — In Review (官方正在審核)</span><a href="#app-版本狀態--in-review-官方正在審核" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"WAITING_FOR_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-18T22:05:50.038Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h4 id="app-版本狀態--pending-developer-release-審核完畢等待發佈"><span class="me-2">App 版本狀態 — Pending Developer Release (審核完畢等待發佈)</span><a href="#app-版本狀態--pending-developer-release-審核完畢等待發佈" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING_DEVELOPER_RELEASE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_REVIEW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-18T22:34:18.785Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><blockquote><p><em>Pending Developer Release 事件的時間 減掉 Waiting For Review 事件的時間就 等於 App 送審到可發佈狀態中間等待的時間了。</em></p></blockquote><h4 id="app-版本狀態--ready-for-distribution-app-準備發佈-aka-ready-for-sale"><span class="me-2">App 版本狀態 — Ready for Distribution (App 準備發佈) a.k.a Ready For Sale</span><a href="#app-版本狀態--ready-for-distribution-app-準備發佈-aka-ready-for-sale" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersionAppVersionStateUpdated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"newValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"READY_FOR_DISTRIBUTION"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"oldValue"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING_DEVELOPER_RELEASE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-23T06:03:50.925Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>App 已準備發佈 (幾乎等同 Ready For Sale，沒有 Ready For Sale 這個事件)。</p><blockquote><p><em>Your app has been accepted and is ready for distribution.</em></p></blockquote><blockquote><p><em>To distribute your app, your <a href="https://developer.apple.com/help/app-store-connect/manage-agreements/view-agreements-status" target="_blank">agreements</a> must be in effect. The Account Holder can accept the latest agreements in the Business section.</em></p></blockquote><h3 id="app-store-connect-api-webhook-工作流程串接"><span class="me-2">App Store Connect API Webhook 工作流程串接</span><a href="#app-store-connect-api-webhook-工作流程串接" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="方法-1--借用-fastlane-串接-app-store-connect-api"><span class="me-2">方法 1 — 借用 Fastlane 串接 App Store Connect API</span><a href="#方法-1--借用-fastlane-串接-app-store-connect-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>這邊最快的方式是直接用 CI/CD 服務觸發，然後借用 Fastlane 自帶的 Spaceship 串接 App Store Connect API。</p><blockquote><p><em>如果你本來 <a href="https://docs.fastlane.tools/app-store-connect-api/" target="_blank">Fastlane 就有使用 App Store Connect API</a> 管理 Match 憑證、送審，這個方法可以直接無痛使用；如果沒有要先 <a href="https://docs.fastlane.tools/app-store-connect-api/" target="_blank">參考官方文件</a> 產生 API Key 跟安全存放在 CI/CD 服務的密鑰中。</em></p></blockquote><p><a href="/assets/7c0974856393/1*FrJoXtV2lrk09KnAt2Hydg.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*FrJoXtV2lrk09KnAt2Hydg.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjMyMyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><ul><li><strong>App Store Connect</strong> 1. App 有狀態改變時 2. 觸發 Webhook<li><strong>Webhook Endpoint</strong> <code class="language-plaintext highlighter-rouge">可以是 自架服務/API 或是 簡單用 FAAS 服務 (Cloudflare Worker / AWS Lambda / Cloud Functions / Google Apps Script)</code> 3. 驗證 Webhook (optional) 4. 處理 Webhook 事件、轉發事件請求到 CI/CD 服務上執行 <code class="language-plaintext highlighter-rouge">e.g. 透過 GitHub API 觸發 GitHub Actions..</code><li><strong>CI/CD Service</strong> <code class="language-plaintext highlighter-rouge">GitHub Actions / Bitbucket Pipeline / Gitlab Runner…</code> 5. 觸發 Action 6. 執行 Fastlane 腳本，復用 Fastlane Spaceship 驗證<li><strong>App Store Connect</strong> 7. 打 App Store Connect API 取得完整資訊<li><strong>CI/CD Service</strong> 8. 後續步驟，例如發通知、觸發另一個 Action</ul><p><strong>Fastlane Example:</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre>  <span class="c1"># Usage:</span>
  <span class="c1">#   bundle exec fastlane appStoreConnectWebhookHandler \</span>
  <span class="c1">#     data:'{"data":{"type":"buildUploadStateUpdated","id":"xxx-xxx-xxx-xx-xxx","version":1,"attributes":{"oldState":"PROCESSING","newState":"COMPLETE"},"relationships":{"instance":{"data":{"type":"buildUploads","id":"xxx-xxx-xxx-xx-xxx"},"links":{"self":"https://api.appstoreconnect.apple.com/v1/buildUploads/xxx-xxx-xxx-xx-xxx"}}}}}'</span>
  <span class="c1"># Notes:</span>
  <span class="c1"># - `data:` must be a JSON string.</span>
  <span class="c1"># - This lane is intended for local debugging (it prints the GET response).</span>
  <span class="n">desc</span> <span class="s2">"[Automation] Handle App Store Connect webhook payload and fetch related instance via ASC API"</span>
  <span class="n">lane</span> <span class="ss">:appStoreConnectWebhookHandler</span> <span class="k">do</span> <span class="o">|</span><span class="n">options</span><span class="o">|</span>
    <span class="k">begin</span>
      <span class="n">data</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:data</span><span class="p">]</span>
      <span class="no">UI</span><span class="p">.</span><span class="nf">user_error!</span><span class="p">(</span><span class="s2">"Missing data"</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">.</span><span class="nf">empty?</span>
      <span class="n">data</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
      <span class="n">url</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="s2">"relationships"</span><span class="p">,</span> <span class="s2">"instance"</span><span class="p">,</span> <span class="s2">"links"</span><span class="p">,</span> <span class="s2">"self"</span><span class="p">).</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">strip</span>
      <span class="no">UI</span><span class="p">.</span><span class="nf">user_error!</span><span class="p">(</span><span class="s2">"Missing instance self url in JSON"</span><span class="p">)</span> <span class="k">if</span> <span class="n">url</span><span class="p">.</span><span class="nf">empty?</span>

      <span class="n">api_key</span> <span class="o">=</span> <span class="n">app_store_connect_api_key</span><span class="p">(</span>
        <span class="ss">key_id: </span><span class="s2">"xxxx"</span><span class="p">,</span>
        <span class="ss">issuer_id: </span><span class="s2">"xxxx-xxxx-xxxx-xxxx-165aa6465141"</span><span class="p">,</span>
        <span class="ss">key_filepath: </span><span class="s2">"./AuthKey_xxxx.p8"</span><span class="p">,</span>
        <span class="ss">duration: </span><span class="mi">1200</span><span class="p">,</span> <span class="c1"># optional (maximum 1200)</span>
        <span class="ss">in_house: </span><span class="kp">false</span> <span class="c1"># optional but may be required if using match/sigh</span>
      <span class="p">)</span>

      <span class="n">loadAppStoreConnectAPIKey</span>
      <span class="c1">#</span>
      <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
      <span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
      <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
      <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_PEER</span>
      <span class="n">store</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">X509</span><span class="o">::</span><span class="no">Store</span><span class="p">.</span><span class="nf">new</span>
      <span class="n">store</span><span class="p">.</span><span class="nf">set_default_paths</span>
      <span class="n">http</span><span class="p">.</span><span class="nf">cert_store</span> <span class="o">=</span> <span class="n">store</span>

      <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
      <span class="n">token</span> <span class="o">=</span> <span class="no">Spaceship</span><span class="o">::</span><span class="no">ConnectAPI</span><span class="p">.</span><span class="nf">token</span>
      <span class="no">UI</span><span class="p">.</span><span class="nf">user_error!</span><span class="p">(</span><span class="s2">"App Store Connect API token is not available. Make sure app_store_connect_api_key is configured correctly."</span><span class="p">)</span> <span class="k">if</span> <span class="n">token</span><span class="p">.</span><span class="nf">nil?</span>
      <span class="n">request</span><span class="p">[</span><span class="s1">'Authorization'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">token</span><span class="p">.</span><span class="nf">text</span><span class="si">}</span><span class="s2">"</span>

      <span class="n">request</span><span class="p">[</span><span class="s1">'Content-Type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
      <span class="n">request</span><span class="p">[</span><span class="s1">'Accept'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>

      <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
      <span class="no">UI</span><span class="p">.</span><span class="nf">message</span><span class="p">(</span><span class="s2">"📡 GET </span><span class="si">#{</span><span class="n">url</span><span class="si">}</span><span class="s2"> Response: [</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2">] </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
      <span class="no">UI</span><span class="p">.</span><span class="nf">message</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
      <span class="c1">#</span>

      <span class="n">response</span>
      <span class="c1">## handle response...do next actions...</span>
      
    <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
        <span class="no">UI</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">"❌ Failed handle App Store Connect API Webhook: </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">end</span>

  <span class="k">end</span>
</pre></table></code></div></div><h4 id="方法-2-在-webhook-endpoint-自行處理"><span class="me-2">方法 2— 在 Webhook Endpoint 自行處理</span><a href="#方法-2-在-webhook-endpoint-自行處理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>第二個方法就是直接在 Webhook Endpoint 服務上處理完所有事情，但 <strong>缺點是需要把 App Store Connect API Key 放到服務上跟要自己做 Token 驗證</strong> 。</p><p><a href="/assets/7c0974856393/1*AUw59sLt97RquLhoRBp5Rw.webp" class="popup img-link blur"><img data-src="/assets/7c0974856393/1*AUw59sLt97RquLhoRBp5Rw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjQ3NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p><strong>Ruby Example:</strong></p><div class="language-php highlighter-rouge"><div class="code-header"> <span data-label-text="PHP"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="k">require</span> <span class="s1">'jwt'</span>
<span class="k">require</span> <span class="s1">'net/http'</span>
<span class="k">require</span> <span class="s1">'time'</span>

<span class="n">keyFile</span> <span class="o">=</span> <span class="nc">File</span><span class="mf">.</span><span class="nf">read</span><span class="p">(</span><span class="s1">'./AuthKey_XXXX.p8'</span><span class="p">)</span> <span class="c1"># replace to your .p8 private key file (donwload from app stroe connect)</span>
<span class="n">privateKey</span> <span class="o">=</span> <span class="nc">OpenSSL</span><span class="o">::</span><span class="nc">PKey</span><span class="o">::</span><span class="no">EC</span><span class="mf">.</span><span class="k">new</span><span class="p">(</span><span class="n">keyFile</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">iss</span><span class="o">:</span> <span class="s1">'YOUR_ISSUE_ID'</span><span class="p">,</span> <span class="c1"># replace to your issue id (get in app store connect user access-&gt;key-&gt;app store connect api page)</span>
            <span class="n">iat</span><span class="o">:</span> <span class="nc">Time</span><span class="mf">.</span><span class="n">now</span><span class="mf">.</span><span class="n">to_i</span><span class="p">,</span>
            <span class="n">exp</span><span class="o">:</span> <span class="nc">Time</span><span class="mf">.</span><span class="n">now</span><span class="mf">.</span><span class="n">to_i</span> <span class="o">+</span> <span class="mi">60</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span>
            <span class="n">aud</span><span class="o">:</span> <span class="s1">'appstoreconnect-v1'</span>
          <span class="p">}</span>

<span class="n">token</span> <span class="o">=</span> <span class="no">JWT</span><span class="mf">.</span><span class="n">encode</span> <span class="n">payload</span><span class="p">,</span> <span class="n">privateKey</span><span class="p">,</span> <span class="s1">'ES256'</span><span class="p">,</span> <span class="n">header_fields</span><span class="o">=</span><span class="p">{</span><span class="n">kid</span><span class="o">:</span><span class="s2">"YOUR_KEY_ID"</span><span class="p">,</span> <span class="n">typ</span><span class="o">:</span><span class="s2">"JWT"</span><span class="p">}</span> <span class="c1"># replace to your key id (get in app store connect user access-&gt;key-&gt;app store connect api page)</span>
<span class="n">puts</span> <span class="n">token</span>

<span class="n">decoded_token</span> <span class="o">=</span> <span class="no">JWT</span><span class="mf">.</span><span class="n">decode</span> <span class="n">token</span><span class="p">,</span> <span class="n">privateKey</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="p">{</span> <span class="n">algorithm</span><span class="o">:</span> <span class="s1">'ES256'</span> <span class="p">}</span>
<span class="n">puts</span> <span class="n">decoded_token</span>

<span class="c1"># 替換成 Webhook Payload 中的 relationships link</span>
<span class="n">uri</span> <span class="o">=</span> <span class="nf">URI</span><span class="p">(</span><span class="s2">"https://api.appstoreconnect.apple.com/v1/apps/APPID/customerReviews"</span><span class="p">)</span> <span class="c1"># repleace APPID to your app id in app store connect -&gt; your app -&gt; app information -&gt; apple id</span>
<span class="n">https</span> <span class="o">=</span> <span class="nc">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="mf">.</span><span class="k">new</span><span class="p">(</span><span class="n">uri</span><span class="mf">.</span><span class="n">host</span><span class="p">,</span> <span class="n">uri</span><span class="mf">.</span><span class="n">port</span><span class="p">)</span>
<span class="n">https</span><span class="mf">.</span><span class="n">use_ssl</span> <span class="o">=</span> <span class="kc">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="nc">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="nc">Get</span><span class="mf">.</span><span class="k">new</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s1">'Authorization'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Bearer #</span><span class="si">{</span><span class="nv">token</span><span class="si">}</span><span class="s2">"</span><span class="p">;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="mf">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="n">puts</span> <span class="n">response</span><span class="mf">.</span><span class="n">read_body</span>
</pre></table></code></div></div><blockquote><p><em>App Store Connect API Key 產生方式、Token 產生方式、API 使用請參考「 <a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-%E5%BF%AB%E9%80%9F%E8%AE%80%E5%8F%96%E8%88%87%E7%AE%A1%E7%90%86-customer-reviews-%E6%8F%90%E5%8D%87-ios-app-%E8%A9%95%E5%83%B9%E6%95%B4%E5%90%88%E6%95%88%E7%8E%87-f1365e51902c/">App Store Connect API 現已支援 讀取和管理 Customer Reviews</a> 」。</em></p></blockquote><h3 id="app-store-connect-api-response"><span class="me-2">App Store Connect API Response</span><a href="#app-store-connect-api-response" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>這裡附上一些收到 Webhook Event 後再打 Relationships Link 取得完整資訊的一些 Response 範例。</p><h4 id="建置版本上傳--process-complete-1"><span class="me-2">建置版本上傳 — Process Complete</span><a href="#建置版本上傳--process-complete-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><code class="language-plaintext highlighter-rouge">https://api.appstoreconnect.apple.com/v1/buildUploads/xxx-xx-xx-xx-xxx</code></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildUploads"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xx-xx-xx-xxx-xx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cfBundleShortVersionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.101.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cfBundleVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-25T08:26:43-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"infos"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETE"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uploadedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-25T08:28:35-08:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"buildUploadFiles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xxx-xx/relationships/buildUploadFiles"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xxx-xx/buildUploadFiles"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xxx-xx"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xxx-xx"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h4 id="建置版本上傳--process-failed-1"><span class="me-2">建置版本上傳 — Process Failed</span><a href="#建置版本上傳--process-failed-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><code class="language-plaintext highlighter-rouge">https://api.appstoreconnect.apple.com/v1/buildUploads/xxx-xx-xx-xx-xxx</code></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildUploads"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xx-xx-xx-xx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cfBundleShortVersionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.101.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cfBundleVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-12T09:03:32-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90683"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Missing purpose string in Info.plist. Your app’s code references one or more APIs that access sensitive user data, or the app has one or more entitlements that permit such access. The Info.plist file for the “My.app” bundle should contain a NSMicrophoneUsageDescription key with a user-facing purpose string explaining clearly and completely why your app needs the data. If you’re using external libraries or SDKs, they may reference APIs that require a purpose string. While your app might not use these APIs, a purpose string is still required. For details, visit: https://developer.apple.com/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources."</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"infos"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uploadedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-12T09:05:26-08:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"buildUploadFiles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xx-xxx/relationships/buildUploadFiles"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xx-xxx/buildUploadFiles"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xx-xxx"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/buildUploads/xx-xx-xx-xx-xxx"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>ITMS-90683 為例。</p><h4 id="app-版本狀態"><span class="me-2">App 版本狀態</span><a href="#app-版本狀態" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><code class="language-plaintext highlighter-rouge">https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xx-xx-xx-xxx</code></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已複製！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"appStoreVersions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-xxx-xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"versionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.101.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"appStoreState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"READY_FOR_SALE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"appVersionState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"READY_FOR_DISTRIBUTION"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"copyright"</span><span class="p">:</span><span class="w"> </span><span class="s2">"© 2025 ZhgChgLi."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reviewType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APP_STORE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"releaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANUAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"earliestReleaseDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"usesIdfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"downloadable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-15T19:12:55-08:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ageRatingDeclaration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/ageRatingDeclaration"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/ageRatingDeclaration"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appStoreVersionLocalizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appStoreVersionLocalizations"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appStoreVersionLocalizations"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/build"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/build"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appStoreVersionPhasedRelease"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appStoreVersionPhasedRelease"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appStoreVersionPhasedRelease"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"gameCenterAppVersion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/gameCenterAppVersion"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/gameCenterAppVersion"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"routingAppCoverage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/routingAppCoverage"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/routingAppCoverage"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appStoreReviewDetail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appStoreReviewDetail"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appStoreReviewDetail"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appStoreVersionSubmission"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appStoreVersionSubmission"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appStoreVersionSubmission"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appClipDefaultExperience"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appClipDefaultExperience"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appClipDefaultExperience"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appStoreVersionExperiments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appStoreVersionExperiments"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appStoreVersionExperiments"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"appStoreVersionExperimentsV2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/appStoreVersionExperimentsV2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/appStoreVersionExperimentsV2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"customerReviews"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/customerReviews"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/customerReviews"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"alternativeDistributionPackage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/relationships/alternativeDistributionPackage"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx/alternativeDistributionPackage"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.appstoreconnect.apple.com/v1/appStoreVersions/xxx-xxx-xxx-xxx"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><blockquote><p><em>如前述，詳細 App 資訊、版號、錯誤原因都要打 API 才會拿到。</em></p></blockquote><h3 id="done"><span class="me-2">Done</span><a href="#done" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>至此我們已經可以透過 App Store Connect API Webhook 更好地完善 App CI/CD 及自動化工作流程，提升團隊開發效率。</p><h4 id="延伸閱讀"><span class="me-2">延伸閱讀</span><a href="#延伸閱讀" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><a href="https://zhgchg.li/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/"><strong>CI/CD 實戰指南（一）：CI/CD 是什麼？如何透過 CI/CD 打造穩定高效的開發團隊？工具選擇？</strong></a><li><a href="https://zhgchg.li/posts/zrealm-dev/zreviewtender-%E5%85%8D%E8%B2%BB%E9%96%8B%E6%BA%90-app-%E8%A9%95%E5%83%B9%E7%9B%A3%E6%8E%A7%E6%A9%9F%E5%99%A8%E4%BA%BA-%E8%87%AA%E5%8B%95%E6%95%B4%E5%90%88-slack-%E8%88%87-google-sheet-e36e48bb9265/">ZReviewTender — 免費開源的 App Reviews 監控機器人</a><li><a href="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-%E5%BF%AB%E9%80%9F%E8%AE%80%E5%8F%96%E8%88%87%E7%AE%A1%E7%90%86-customer-reviews-%E6%8F%90%E5%8D%87-ios-app-%E8%A9%95%E5%83%B9%E6%95%B4%E5%90%88%E6%95%88%E7%8E%87-f1365e51902c/">App Store Connect API 現已支援 讀取和管理 Customer Reviews</a></ul><p>有任何問題及指教歡迎 <a href="https://www.zhgchg.li/contact" target="_blank">與我聯絡</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zhgchg.li/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-info"><p>本文首次發表於 Medium (<a href="https://medium.com/p/7c0974856393" target="_blank"><strong>點此查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自動轉換與同步技術。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-tw/zmediumtomarkdown/2025-12-27-7c0974856393.md" target="_blank">Improve this page on Github.</a></p></blockquote><div onclick="this.style.position='';" style="text-align: center; position: -webkit-sticky; position: sticky; bottom: 0; z-index: 1; margin: 0 -1rem; padding: 5px; background: var(--main-bg); transition: all .2s ease-in-out;"><a href="https://medium.com/@zhgchgli" target="_blank" style="display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 20px;font-size:16px;font-weight:bold;color:#ffffff;background-color:#00ab6c;border-radius:5px;text-decoration:none;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#008f5a';this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 10px rgba(0,0,0,0.15)';" onmouseout="this.style.backgroundColor='#00ab6c';this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">Follow Me on Medium <span style="font-size:14px;color:rgba(255,255,255,0.9);font-weight:normal;opacity:0.9;">1,050+ Followers</span></a></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/cicd/" class="post-tag no-text-decoration" >cicd</a> <a href="/tags/webhooks/" class="post-tag no-text-decoration" >webhooks</a> <a href="/tags/fastlane/" class="post-tag no-text-decoration" >fastlane</a> <a href="/tags/app-store/" class="post-tag no-text-decoration" >app-store</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者以 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh-hant"> CC BY 4.0 </a> 授權。</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=App%20Store%20Connect%20API%20Webhook%20%E4%B8%B2%E6%8E%A5%EF%BD%9C%E6%8F%90%E5%8D%87%20iOS%20CI/CD%20%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fapp-store-connect-api-webhook-%25E4%25B8%25B2%25E6%258E%25A5-%25E6%258F%2590%25E5%258D%2587-ios-ci-cd-%25E8%2587%25AA%25E5%258B%2595%25E5%258C%2596%25E6%2595%2588%25E7%258E%2587%25E8%2588%2587%25E9%2580%259A%25E7%259F%25A5%25E6%25B5%2581%25E7%25A8%258B-7c0974856393%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=App%20Store%20Connect%20API%20Webhook%20%E4%B8%B2%E6%8E%A5%EF%BD%9C%E6%8F%90%E5%8D%87%20iOS%20CI/CD%20%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fapp-store-connect-api-webhook-%25E4%25B8%25B2%25E6%258E%25A5-%25E6%258F%2590%25E5%258D%2587-ios-ci-cd-%25E8%2587%25AA%25E5%258B%2595%25E5%258C%2596%25E6%2595%2588%25E7%258E%2587%25E8%2588%2587%25E9%2580%259A%25E7%259F%25A5%25E6%25B5%2581%25E7%25A8%258B-7c0974856393%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhgchg.li%2Fposts%2Fzrealm-dev%2Fapp-store-connect-api-webhook-%25E4%25B8%25B2%25E6%258E%25A5-%25E6%258F%2590%25E5%258D%2587-ios-ci-cd-%25E8%2587%25AA%25E5%258B%2595%25E5%258C%2596%25E6%2595%2588%25E7%258E%2587%25E8%2588%2587%25E9%2580%259A%25E7%259F%25A5%25E6%25B5%2581%25E7%25A8%258B-7c0974856393%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="複製連結" data-title-succeed="連結已成功複製！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8B%95%E5%8C%96%E6%95%88%E7%8E%87%E8%88%87%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/">CI/CD 使用 App Store Connect API Webhook 串接自動化工作流程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A9%A9%E5%AE%9A%E9%96%8B%E7%99%BC%E5%9C%98%E9%9A%8A%E7%9A%84%E9%97%9C%E9%8D%B5%E6%B5%81%E7%A8%8B%E8%88%87%E5%B7%A5%E5%85%B7%E9%81%B8%E6%93%87-c008a9e8ceca/">CI/CD 實戰指南（一）：CI/CD 是什麼？如何透過 CI/CD 打造穩定高效的開發團隊？工具選擇？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%A8%82%E8%A1%A8%E5%96%AE%E6%8F%90%E5%8D%87%E9%96%8B%E7%99%BC%E6%95%88%E7%8E%87-4cb4437818f2/">使用 Google Apps Script Web App 表單串接 Github Action CI/CD 工作</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-robotic-process-automation/github-action-%E5%85%8D%E8%B2%BB%E9%83%A8%E7%BD%B2-zreviewtender-app-%E5%95%86%E5%9F%8E%E8%A9%95%E5%83%B9%E7%9B%A3%E6%8E%A7%E6%A9%9F%E5%99%A8%E4%BA%BA-%E4%B8%89%E6%AD%A5%E9%A9%9F%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-0095528cf875/">Quick Start! Github Action x ZReviewTender 免費快速部署你的 App 商城評價監控機器人</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-timer-%E8%88%87-dispatchsourcetimer-%E9%81%B8%E6%93%87%E8%88%87%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%9D%E6%8A%80%E5%B7%A7-%E6%9C%89%E9%99%90%E7%8B%80%E6%85%8B%E6%A9%9F%E9%98%B2%E6%AD%A2%E9%96%83%E9%80%80-62f68ebeecd3/">iOS Timer 與 DispatchSourceTimer 如何選擇與安全的使用?</a></ul></section><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章節目錄 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">延伸閱讀</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-robotic-process-automation/github-action-%E5%85%8D%E8%B2%BB%E9%83%A8%E7%BD%B2-zreviewtender-app-%E5%95%86%E5%9F%8E%E8%A9%95%E5%83%B9%E7%9B%A3%E6%8E%A7%E6%A9%9F%E5%99%A8%E4%BA%BA-%E4%B8%89%E6%AD%A5%E9%A9%9F%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-0095528cf875/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1727354541" data-df="YYYY 年 M 月 D 日" > 2024 年 09 月 26 日 </time><h4 class="pt-0 my-2">Github Action｜免費部署 ZReviewTender App 商城評價監控機器人，三步驟快速上手</h4><div class="text-muted"><p>針對 iOS 與 Android App 開發者，解決評價監控繁瑣問題，利用 Github Action 免費部署 ZReviewTender 評價機器人，30 分鐘完成設定，穩定抓取並即時轉發評價到 Slack，提升回應效率與用戶滿意度。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ci-cd-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0-%E4%BD%BF%E7%94%A8-google-apps-script-web-app-%E4%B8%B2%E6%8E%A5-github-actions-%E6%8F%90%E5%8D%87%E8%B7%A8%E5%9C%98%E9%9A%8A%E6%95%88%E7%8E%87-4273e57e7148/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1752150651" data-df="YYYY 年 M 月 D 日" > 2025 年 07 月 10 日 </time><h4 class="pt-0 my-2">CI/CD 打包工具平台｜使用 Google Apps Script Web App 串接 GitHub Actions 提升跨團隊效率</h4><div class="text-muted"><p>打造免費且易用的打包工具平台，解決非工程人員操作 GitHub Actions 的複雜性與權限控管問題，透過 Google Apps Script Web App 整合 GitHub、Slack、Firebase 等 API，實現跨團隊任務單打包與即時進度通知，提升開發與驗證效率。</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/github-actions-ios-ci-cd-%E5%AE%8C%E6%95%B4%E5%AF%A6%E4%BD%9C%E8%87%AA%E5%8B%95%E5%8C%96%E5%BB%BA%E7%BD%AE-%E6%B8%AC%E8%A9%A6%E8%88%87%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E6%95%99%E5%AD%B8-4b001d2e8440/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1751900544" data-df="YYYY 年 M 月 D 日" > 2025 年 07 月 07 日 </time><h4 class="pt-0 my-2">GitHub Actions iOS CI/CD｜完整實作自動化建置、測試與部署流程教學</h4><div class="text-muted"><p>針對iOS開發者打造的GitHub Actions CI/CD流程，解決手動建置與測試繁瑣問題，結合Fastlane與Firebase實現自動化打包與部署，提升團隊開發效率與產品品質。</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/ios-timer-%E8%88%87-dispatchsourcetimer-%E9%81%B8%E6%93%87%E8%88%87%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%9D%E6%8A%80%E5%B7%A7-%E6%9C%89%E9%99%90%E7%8B%80%E6%85%8B%E6%A9%9F%E9%98%B2%E6%AD%A2%E9%96%83%E9%80%80-62f68ebeecd3/" class="btn btn-outline-primary" aria-label="上一篇" ><p>iOS Timer 與 DispatchSourceTimer 選擇與安全封裝技巧｜有限狀態機防止閃退</p></a><div class="btn btn-outline-primary disabled" aria-label="下一篇"><p>-</p></div></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有註明，本網站上的所有文章皆由作者依據 創用 CC 姓名標示 4.0 國際授權條款（CC BY 4.0）授權使用。" >版權所有。</span> <br/> 最後更新時間:2025-12-29 23:05:27 +08:00</p><p>本站使用 <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> 主題建置於 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>。<br/> Medium 文章由 <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> 轉換而成。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">熱門標籤</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">發現有新的內容版本。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'zh-TW';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOHdowL84CU-q5', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">找不到符合的結果。</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
